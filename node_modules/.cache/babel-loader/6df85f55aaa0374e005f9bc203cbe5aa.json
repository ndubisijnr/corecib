{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js!/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/views/settings/Referral.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/views/settings/Referral.vue","mtime":1684675546931},{"path":"/Users/clark/Desktop/business.corestep.com/babel.config.js","mtime":1683674085504},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NsYXJrL0Rlc2t0b3AvYnVzaW5lc3MuY29yZXN0ZXAuY29tL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IFN0b3JlVXRpbHMgZnJvbSAiLi4vLi4vdXRpbC9iYXNlVXRpbHMvU3RvcmVVdGlscyI7CmltcG9ydCBCYXNlVGFibGUgZnJvbSAiLi4vLi4vY29tcG9uZW50cy90YWJsZS9CYXNlVGFibGUiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBEYXNoYm9hcmRWaWV3IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvZGFzaGJvYXJkQ29tcG9uZW50L0Rhc2hib2FyZENpcmNsZSI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CnZhciBUb2FzdCA9IFN3YWwubWl4aW4oewogIHRvYXN0OiB0cnVlLAogIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogIHRpbWVyOiAzMDAwLAogIHRpbWVyUHJvZ3Jlc3NCYXI6IHRydWUsCiAgZGlkT3BlbjogZnVuY3Rpb24gZGlkT3Blbih0b2FzdCkgewogICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIFN3YWwuc3RvcFRpbWVyKTsKICAgIHRvYXN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBTd2FsLnJlc3VtZVRpbWVyKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlZmVycmFsIiwKICBjb21wb25lbnRzOiB7CiAgICBCYXNlVGFibGU6IEJhc2VUYWJsZSwKICAgICdkYXNoYm9hcmQtY2FyZCc6IERhc2hib2FyZFZpZXcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpdGVtczogW10sCiAgICAgIGZpZWxkczogW3sKICAgICAgICBrZXk6ICJvcmdhbmlzYXRpb25OYW1lIiwKICAgICAgICBsYWJlbDogImJ1c2luZXNzTmFtZSIKICAgICAgfSwgewogICAgICAgIGtleTogIm9yZ2FuaXNhdGlvblN0YXR1cyIsCiAgICAgICAgbGFiZWw6ICJidXNpbmVzc1N0YXR1cyIKICAgICAgfSwgewogICAgICAgIGtleTogIm9yZ2FuaXNhdGlvbkNyZWF0ZWRBdCIsCiAgICAgICAgbGFiZWw6ICJEYXRlIEpvaW5lZCIKICAgICAgfV0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjb3B5VG9DbGlwYm9hcmQ6IGZ1bmN0aW9uIGNvcHlUb0NsaXBib2FyZCgpIHsKICAgICAgdmFyIGNvcHlMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRlbnQiKS52YWx1ZTsKICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY29weUxpbmspLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgdGV4dDogIkNvcGllZCB0byBjbGlwYm9hcmQiLAogICAgICAgICAgaWNvbjogInN1Y2Nlc3MiCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoewogICAgZ2V0UmVmZXJyYWxMaW5rOiBmdW5jdGlvbiBnZXRSZWZlcnJhbExpbmsoKSB7CiAgICAgIHZhciB1cmwgPSB3aW5kb3cuX19lbnYuYXBwLnVybDsKICAgICAgdmFyIHJlZmVycmFsTGluayA9IFN0b3JlVXRpbHMucm9vdEdldHRlcnMoU3RvcmVVdGlscy5nZXR0ZXJzLmF1dGguZ2V0T3JnaW5pemF0aW9uUmVmZXJyYWxMaW5rKTsKICAgICAgcmV0dXJuICIiLmNvbmNhdCh1cmwsICIvc2lnbnVwLyIpLmNvbmNhdChyZWZlcnJhbExpbmspOwogICAgfQogIH0sIG1hcFN0YXRlKHsKICAgIGxvYWRpbmdSZWZmZXJhbDogZnVuY3Rpb24gbG9hZGluZ1JlZmZlcmFsKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hdXRoLmxvYWRpbmc7CiAgICB9LAogICAgcmVmZmVyYWxzdGF0czogZnVuY3Rpb24gcmVmZmVyYWxzdGF0cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYXV0aC5yZWZmZXJhbHN0YXRzOwogICAgfSwKICAgIHJlZmVyYWxiYWxhbmNlOiBmdW5jdGlvbiByZWZlcmFsYmFsYW5jZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYXV0aC5iYWxhbmNlczsKICAgIH0KICB9KSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmF1dGgucmVhZFJlZmZlcmFsU3RhdGUpOwogIH0KfTs="},{"version":3,"names":["StoreUtils","BaseTable","Swal","DashboardView","mapState","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","name","components","data","items","fields","key","label","methods","copyToClipboard","copyLink","document","getElementById","value","navigator","clipboard","writeText","then","fire","text","icon","computed","_objectSpread","getReferralLink","url","window","__env","app","referralLink","rootGetters","getters","auth","getOrginizationReferralLink","concat","loadingRefferal","state","loading","refferalstats","referalbalance","balances","mounted","dispatch","actions","readRefferalState"],"sources":["src/views/settings/Referral.vue"],"sourcesContent":["<template>\n  <div class=\"m-3\">\n    <div class=\"tab\">\n      <b-card-body>\n        <div class=\"inner-card\">\n          <b-container class=\"itemabc1234\">\n            <div class=\"p-2\" style=\"z-index: 9999999\">\n              <lottie-player src=\"https://assets5.lottiefiles.com/packages/lf20_rkboxc5u.json\"  background=\"transparent\"\n                             speed=\"1\"  style=\"top:-20px;left:170px; width: 100px; height: 100px;\"  loop  autoplay></lottie-player>\n              <h4 style=\"z-index: 9999999\">Your Referral link</h4>\n              <p class=\"text-dark\">\n                Refer new merchants with your referral Link and earn 10% on the\n                revenue Corestep makes from each transaction.\n              </p>\n              <div style=\"z-index: 9999999\" class=\"mb-3\" @click=\"copyToClipboard()\" title=\"click to copy to clipboard\" >\n                <label>click on link to copy</label>\n                <input\n                  class=\"form-control form-control-md\"\n                  :value=\"getReferralLink\"\n                  id=\"content\"\n                  style=\"cursor: pointer;\"\n                  disabled\n                />\n              </div>\n            </div>\n          </b-container>\n          <b-container class=\"itemabc123\">\n            <dashboard-card :value=\"refferalstats.totalReferrals == null ? '0' : refferalstats.totalReferrals\" :title=\"'Total Referrals'\" :showBtn=\"false\" :showBtn1=\"false\"></dashboard-card>\n            <dashboard-card :show=\"true\" :refresh=\"true\" :currency=\"'â‚¦'\" :value=\"referalbalance.referralBalance.accountBalance | formatAmount\" :title=\"'Total Revenue'\" :showBtn=\"false\" :showBtn1=\"false\"></dashboard-card>\n          </b-container>\n          \n        </div>\n         <div class=\"text-center\">\n        <base-table\n          :items=\"refferalstats.referral\"\n          :fields=\"fields\"\n          filter-mode=\"default\"\n          :is-busy=\"loadingRefferal\"\n        />\n      </div>\n      </b-card-body>\n    </div>\n  </div>\n</template>\n\n<script>\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\nimport BaseTable from \"../../components/table/BaseTable\";\nimport Swal from \"sweetalert2\";\nimport DashboardView from \"../../components/dashboardComponent/DashboardCircle\"\nimport {mapState} from \"vuex\"\n\nconst Toast = Swal.mixin({\n  toast: true,\n  position: 'top-end',\n  showConfirmButton: false,\n  timer: 3000,\n  timerProgressBar: true,\n  didOpen: (toast) => {\n    toast.addEventListener('mouseenter', Swal.stopTimer)\n    toast.addEventListener('mouseleave', Swal.resumeTimer)\n  }\n})\n\nexport default {\n  name: \"Referral\",\n  components: {\n    BaseTable,\n    'dashboard-card':DashboardView\n  },\n  data() {\n    return {\n      items: [],\n      fields: [\n        { key: \"organisationName\", label: \"businessName\" },\n        { key: \"organisationStatus\", label: \"businessStatus\" },\n        { key: \"organisationCreatedAt\", label: \"Date Joined\" },\n      ],\n    };\n  },\n  methods: {\n    copyToClipboard() {\n      let copyLink = document.getElementById(\"content\").value;\n      navigator.clipboard.writeText(copyLink).then(() => {\n        Toast.fire({ text: \"Copied to clipboard\", icon: \"success\" }).then(\n          () => {}\n        );\n      });\n    },\n  },\n  computed: {\n    getReferralLink() {\n      let url = window.__env.app.url;\n      let referralLink = StoreUtils.rootGetters(\n        StoreUtils.getters.auth.getOrginizationReferralLink\n      );\n      return `${url}/signup/${referralLink}`;\n    },\n\n    ...mapState({\n      loadingRefferal:state => state.auth.loading,\n      refferalstats:state => state.auth.refferalstats,\n      referalbalance:state => state.auth.balances\n\n    })\n  },\n\n  mounted() {\n    StoreUtils.dispatch(StoreUtils.actions.auth.readRefferalState)\n  },\n};\n</script>\n\n<style scoped>\n.inner-card {\n  display: flex;\n  justify-content: space-around;\n  padding: 30px;\n  line-height: 3rem;\n  font-family: \"Fibon Sans\";\n  background-color: white;\n\n}\n.tab{\n    margin-top:2%;\n    box-shadow: 0 1px 2px hsl(0deg 0% 0% / 20%);\n    background-color: white;\n}\n@media (max-width:999px) {\n  .inner-card {\n  display: flex;\n  justify-content: space-around;\n  padding: 5px;\n  flex-direction: column-reverse;\n  line-height: 3rem;\n  font-family: \"Fibon Sans\";\n}\n.itemabc123 {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n    flex-direction: column-reverse;\n\n}\n}\n.itemabc123 {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n}\n\n.itemabc1234 {\n  width: 100%;\n  display: flex;\n  align-items: center;\n}\n\n</style>"],"mappings":";;AA8CA,OAAAA,UAAA;AACA,OAAAC,SAAA;AACA,OAAAC,IAAA;AACA,OAAAC,aAAA;AACA,SAAAC,QAAA;AAEA,IAAAC,KAAA,GAAAH,IAAA,CAAAI,KAAA;EACAC,KAAA;EACAC,QAAA;EACAC,iBAAA;EACAC,KAAA;EACAC,gBAAA;EACAC,OAAA,WAAAA,QAAAL,KAAA;IACAA,KAAA,CAAAM,gBAAA,eAAAX,IAAA,CAAAY,SAAA;IACAP,KAAA,CAAAM,gBAAA,eAAAX,IAAA,CAAAa,WAAA;EACA;AACA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAhB,SAAA,EAAAA,SAAA;IACA,kBAAAE;EACA;EACAe,IAAA,WAAAA,KAAA;IACA;MACAC,KAAA;MACAC,MAAA,GACA;QAAAC,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA;IAEA;EACA;EACAC,OAAA;IACAC,eAAA,WAAAA,gBAAA;MACA,IAAAC,QAAA,GAAAC,QAAA,CAAAC,cAAA,YAAAC,KAAA;MACAC,SAAA,CAAAC,SAAA,CAAAC,SAAA,CAAAN,QAAA,EAAAO,IAAA;QACA3B,KAAA,CAAA4B,IAAA;UAAAC,IAAA;UAAAC,IAAA;QAAA,GAAAH,IAAA,CACA,cACA;MACA;IACA;EACA;EACAI,QAAA,EAAAC,aAAA;IACAC,eAAA,WAAAA,gBAAA;MACA,IAAAC,GAAA,GAAAC,MAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAH,GAAA;MACA,IAAAI,YAAA,GAAA3C,UAAA,CAAA4C,WAAA,CACA5C,UAAA,CAAA6C,OAAA,CAAAC,IAAA,CAAAC,2BACA;MACA,UAAAC,MAAA,CAAAT,GAAA,cAAAS,MAAA,CAAAL,YAAA;IACA;EAAA,GAEAvC,QAAA;IACA6C,eAAA,WAAAA,gBAAAC,KAAA;MAAA,OAAAA,KAAA,CAAAJ,IAAA,CAAAK,OAAA;IAAA;IACAC,aAAA,WAAAA,cAAAF,KAAA;MAAA,OAAAA,KAAA,CAAAJ,IAAA,CAAAM,aAAA;IAAA;IACAC,cAAA,WAAAA,eAAAH,KAAA;MAAA,OAAAA,KAAA,CAAAJ,IAAA,CAAAQ,QAAA;IAAA;EAEA,GACA;EAEAC,OAAA,WAAAA,QAAA;IACAvD,UAAA,CAAAwD,QAAA,CAAAxD,UAAA,CAAAyD,OAAA,CAAAX,IAAA,CAAAY,iBAAA;EACA;AACA"}]}