{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js!/Users/clark/Desktop/business.corestep.com/node_modules/eslint-loader/index.js??ref--14-0!/Users/clark/Desktop/business.corestep.com/src/service/BaseService.js","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/service/BaseService.js","mtime":1684111140018},{"path":"/Users/clark/Desktop/business.corestep.com/babel.config.js","mtime":1683674085504},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/eslint-loader/index.js","mtime":1670880030967}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFN0b3JlVXRpbHMgZnJvbSAiLi4vdXRpbC9iYXNlVXRpbHMvU3RvcmVVdGlscyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKZXhwb3J0IHZhciBpc1RpbWVkT3V0ID0gZmFsc2U7CmV4cG9ydCB2YXIgYXBwQ2xpZW50ID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiB3aW5kb3cuX19lbnYuYXBpLmJhc2VVcmwsCiAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSwKICBoZWFkZXJzOiB7CiAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgIC8vICJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4iOiAiKiIsCiAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgfQp9KTsKZXhwb3J0IHZhciBhcHBDbGllbnQxID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiB3aW5kb3cuX19lbnYuYXBpLmltYWdlVXBsb2FkLAogIHdpdGhDcmVkZW50aWFsczogZmFsc2UsCiAgaGVhZGVyczogewogICAgLy9BY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgIC8vICJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4iOiAiKiIsCiAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgfQp9KTsKYXBwQ2xpZW50LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IFN0b3JlVXRpbHMucm9vdEdldHRlcnMoU3RvcmVVdGlscy5nZXR0ZXJzLmF1dGguZ2V0VXNlclRva2VuKSA/IFN0b3JlVXRpbHMucm9vdEdldHRlcnMoU3RvcmVVdGlscy5nZXR0ZXJzLmF1dGguZ2V0VXNlclRva2VuKSA6IFN0b3JlVXRpbHMucm9vdEdldHRlcnMoU3RvcmVVdGlscy5nZXR0ZXJzLmF1dGguZ2V0VG9rZW4pOwogIC8vIGNvbnNvbGUubG9nKGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24pCiAgIWxvY2FsU3RvcmFnZS5vcmdhbmlzYXRpb25JZCA/IGNvbmZpZy5oZWFkZXJzLm1pZCA9IGxvY2FsU3RvcmFnZS5jdXN0b21lcklkIDogY29uZmlnLmhlYWRlcnMubWlkID0gbG9jYWxTdG9yYWdlLm9yZ2FuaXNhdGlvbklkOwogIHJldHVybiBjb25maWc7Cn0pOwphcHBDbGllbnQuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICBpZiAocmVzcG9uc2UgIT0gbnVsbCkgewogICAgaWYgKHJlc3BvbnNlLmRhdGEgIT0gbnVsbCkgewogICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZUNvZGUgPT09ICcxMTUnKSB7CiAgICAgICAgLy8gbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgLy8gbGV0IHRpbWVySW50ZXJ2YWwKICAgICAgICBpZiAocm91dGVyLmN1cnJlbnRSb3V0ZS5tZXRhLmxheW91dCAhPT0gImF1dGgiKSB7CiAgICAgICAgICBpc1RpbWVkT3V0ID0gdHJ1ZTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuYXV0aC5sb2dPdXQsIHsKICAgICAgICAgICAgY3VzdG9tZXJFbWFpbDogU3RvcmVVdGlscy5yb290R2V0dGVycyhTdG9yZVV0aWxzLmdldHRlcnMuYXV0aC5nZXRVc2VySW5mbykuY3VzdG9tZXJFbWFpbAogICAgICAgICAgfSkudGhlbigpOwogICAgICAgICAgLy8gU3dhbC5maXJlKHsKICAgICAgICAgIC8vICAgdGl0bGU6ICdTZXNzaW9uIHRpbWVkIG91dCcsCiAgICAgICAgICAvLyAgIGh0bWw6ICdQbGVhc2UgcmUtYXV0aGVudGljYXRlJywKICAgICAgICAgIC8vICAgaWNvbjoiaW5mbyIsCiAgICAgICAgICAvLyB9KQogICAgICAgICAgLy8gICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgIC8vIH0pCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gcmVzcG9uc2U7Cn0pOwpleHBvcnQgdmFyIGFwaUNsaWVudCA9IHsKICBhcHBDbGllbnQ6IGFwcENsaWVudCwKICBhcHBDbGllbnQxOiBhcHBDbGllbnQxCn07"},{"version":3,"names":["axios","StoreUtils","router","isTimedOut","appClient","create","baseURL","window","__env","api","baseUrl","withCredentials","headers","Accept","appClient1","imageUpload","interceptors","request","use","config","Authorization","rootGetters","getters","auth","getUserToken","getToken","localStorage","organisationId","mid","customerId","response","data","responseCode","currentRoute","meta","layout","clear","dispatch","actions","logOut","customerEmail","getUserInfo","then","apiClient"],"sources":["/Users/clark/Desktop/business.corestep.com/src/service/BaseService.js"],"sourcesContent":["import axios from \"axios\";\nimport StoreUtils from \"../util/baseUtils/StoreUtils\";\nimport router from \"../router\";\n\nexport let isTimedOut = false\n\nexport const appClient = axios.create({\n    baseURL: window.__env.api.baseUrl,\n    withCredentials: false,\n    headers: {\n         Accept: \"application/json\",\n        // \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n    }\n});\nexport const appClient1 = axios.create({\n    baseURL: window.__env.api.imageUpload,\n    withCredentials: false,\n    headers: {\n         //Accept: \"application/json\",\n        // \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/json\",\n    }\n});\n\n\nappClient.interceptors.request.use(config => {\n    config.headers.Authorization = StoreUtils.rootGetters(StoreUtils.getters.auth.getUserToken)\n        ? StoreUtils.rootGetters(StoreUtils.getters.auth.getUserToken)\n        : StoreUtils.rootGetters(StoreUtils.getters.auth.getToken);\n        // console.log(config.headers.Authorization)\n    !localStorage.organisationId ?\n    config.headers.mid = localStorage.customerId\n    :\n    config.headers.mid = localStorage.organisationId\n    return config\n})\n\nappClient.interceptors.response.use(response => {\n    if (response != null) {\n        if (response.data != null) {\n            if (response.data.responseCode === '115') {\n                // localStorage.clear();\n                // let timerInterval\n                if (router.currentRoute.meta.layout !== \"auth\"){\n                    isTimedOut = true\n                    localStorage.clear()\n                    StoreUtils.dispatch(StoreUtils.actions.auth.logOut,{customerEmail: StoreUtils.rootGetters(StoreUtils.getters.auth.getUserInfo).customerEmail}).then()\n                    // Swal.fire({\n                    //   title: 'Session timed out',\n                    //   html: 'Please re-authenticate',\n                    //   icon:\"info\",\n                    // })\n                    //     .then((result) => {\n                    // })\n                }\n            }\n        }\n    }\n    return response\n});\n\n\nexport const apiClient = {\n    appClient: appClient,\n    appClient1: appClient1\n}\n  \n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,8BAA8B;AACrD,OAAOC,MAAM,MAAM,WAAW;AAE9B,OAAO,IAAIC,UAAU,GAAG,KAAK;AAE7B,OAAO,IAAMC,SAAS,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAClCC,OAAO,EAAEC,MAAM,CAACC,KAAK,CAACC,GAAG,CAACC,OAAO;EACjCC,eAAe,EAAE,KAAK;EACtBC,OAAO,EAAE;IACJC,MAAM,EAAE,kBAAkB;IAC3B;IACA,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AACF,OAAO,IAAMC,UAAU,GAAGd,KAAK,CAACK,MAAM,CAAC;EACnCC,OAAO,EAAEC,MAAM,CAACC,KAAK,CAACC,GAAG,CAACM,WAAW;EACrCJ,eAAe,EAAE,KAAK;EACtBC,OAAO,EAAE;IACJ;IACD;IACA,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AAGFR,SAAS,CAACY,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAAC,MAAM,EAAI;EACzCA,MAAM,CAACP,OAAO,CAACQ,aAAa,GAAGnB,UAAU,CAACoB,WAAW,CAACpB,UAAU,CAACqB,OAAO,CAACC,IAAI,CAACC,YAAY,CAAC,GACrFvB,UAAU,CAACoB,WAAW,CAACpB,UAAU,CAACqB,OAAO,CAACC,IAAI,CAACC,YAAY,CAAC,GAC5DvB,UAAU,CAACoB,WAAW,CAACpB,UAAU,CAACqB,OAAO,CAACC,IAAI,CAACE,QAAQ,CAAC;EAC1D;EACJ,CAACC,YAAY,CAACC,cAAc,GAC5BR,MAAM,CAACP,OAAO,CAACgB,GAAG,GAAGF,YAAY,CAACG,UAAU,GAE5CV,MAAM,CAACP,OAAO,CAACgB,GAAG,GAAGF,YAAY,CAACC,cAAc;EAChD,OAAOR,MAAM;AACjB,CAAC,CAAC;AAEFf,SAAS,CAACY,YAAY,CAACc,QAAQ,CAACZ,GAAG,CAAC,UAAAY,QAAQ,EAAI;EAC5C,IAAIA,QAAQ,IAAI,IAAI,EAAE;IAClB,IAAIA,QAAQ,CAACC,IAAI,IAAI,IAAI,EAAE;MACvB,IAAID,QAAQ,CAACC,IAAI,CAACC,YAAY,KAAK,KAAK,EAAE;QACtC;QACA;QACA,IAAI9B,MAAM,CAAC+B,YAAY,CAACC,IAAI,CAACC,MAAM,KAAK,MAAM,EAAC;UAC3ChC,UAAU,GAAG,IAAI;UACjBuB,YAAY,CAACU,KAAK,CAAC,CAAC;UACpBnC,UAAU,CAACoC,QAAQ,CAACpC,UAAU,CAACqC,OAAO,CAACf,IAAI,CAACgB,MAAM,EAAC;YAACC,aAAa,EAAEvC,UAAU,CAACoB,WAAW,CAACpB,UAAU,CAACqB,OAAO,CAACC,IAAI,CAACkB,WAAW,CAAC,CAACD;UAAa,CAAC,CAAC,CAACE,IAAI,CAAC,CAAC;UACrJ;UACA;UACA;UACA;UACA;UACA;UACA;QACJ;MACJ;IACJ;EACJ;;EACA,OAAOZ,QAAQ;AACnB,CAAC,CAAC;AAGF,OAAO,IAAMa,SAAS,GAAG;EACrBvC,SAAS,EAAEA,SAAS;EACpBU,UAAU,EAAEA;AAChB,CAAC"}]}