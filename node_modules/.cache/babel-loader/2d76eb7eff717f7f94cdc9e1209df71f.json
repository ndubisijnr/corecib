{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js!/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/form/DisputeForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/form/DisputeForm.vue","mtime":1684370058997},{"path":"/Users/clark/Desktop/business.corestep.com/babel.config.js","mtime":1683674085504},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NsYXJrL0Rlc2t0b3AvYnVzaW5lc3MuY29yZXN0ZXAuY29tL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IERpc3B1dGVSZXF1ZXN0IGZyb20gIi4uLy4uL21vZGVsL3JlcXVlc3QvRGlzcHV0ZVJlcXVlc3QiOwppbXBvcnQgU3RvcmVVdGlscyBmcm9tICIuLi8uLi91dGlsL2Jhc2VVdGlscy9TdG9yZVV0aWxzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEaXNwdXRlLUZvcm0iLAogIHByb3BzOiB7CiAgICBzaG93Q3JlYXRlRGlzcHV0ZTogQm9vbGVhbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dNb2RhbDogdHJ1ZSwKICAgICAgY3JlYXRlRGlzcHV0ZW1vZGVsOiBEaXNwdXRlUmVxdWVzdC5kaXNwdXRlQ3JlYXRlLAogICAgICB0cmFuc2FjdGlvbnNRdWVyeW1vZGVsOiBEaXNwdXRlUmVxdWVzdC50cmFuc2FjdGlvblN0YXR1c1F1ZXJ5LAogICAgICBkaXNwdXRlUmVhZE1vZGVsOiBEaXNwdXRlUmVxdWVzdC5kaXNwdXRlUmVhZCwKICAgICAgcHJpbWFyeUNvbG9yOiB3aW5kb3cuX19lbnYuYXBwLnByaW1hcnlDb2xvcgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7CiAgICAgIC8vY2xvc2UgbW9kYWwgZm9ybQogICAgICB0aGlzLnNob3dNb2RhbCA9IGZhbHNlOwogICAgICB0aGlzLiRlbWl0KCJjbG9zZUNyZWF0ZURpc3B1dGUiLCBmYWxzZSk7CiAgICAgIHRoaXMuc2hvd01vZGFsID0gdHJ1ZTsKICAgICAgU3RvcmVVdGlscy5jb21taXQoU3RvcmVVdGlscy5tdXRhdGlvbnMuZGlzcHV0ZS51cGRhdGVTdGF0dXMsICdmYWxzZScpOwogICAgfSwKICAgIGxvZ0Rpc3B1dGU6IGZ1bmN0aW9uIGxvZ0Rpc3B1dGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIC8vc2V0IGRpc3B1dGUgc2Vzc2lvbiBpZCBmcm9tIHRyYW5zYWN0aW9uIHJlZmVyZW5jZQogICAgICB0aGlzLmNyZWF0ZURpc3B1dGVtb2RlbC5kaXNwdXRlT3JnSWQgPSB0aGlzLmN1cnJlbnRPcmdhbmlzYXRpb25JZC5vcmdhbmlzYXRpb25JZDsKICAgICAgdGhpcy5jcmVhdGVEaXNwdXRlbW9kZWwuZGlzcHV0ZVNlc3Npb25JZCA9IHRoaXMudHJhbnNhY3Rpb25zUXVlcnltb2RlbC5yZWZlcmVuY2UsIHRoaXMuY3JlYXRlRGlzcHV0ZW1vZGVsLmRpc3B1dGVSZW1hcmsgPSAiVHJhbnNhY3Rpb24iLCB0aGlzLmNyZWF0ZURpc3B1dGVtb2RlbC5kaXNwdXRlVHJuVHlwZSA9ICJOQSIsCiAgICAgIC8vY2FsbCBjcmVhdGUgZGlzcHV0ZSBhY3Rpb24KICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuZGlzcHV0ZS5jcmVhdGVEaXNwdXRlLCB0aGlzLmNyZWF0ZURpc3B1dGVtb2RlbCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy9jbGVhciBjcmVhdGUgZGlzcHV0ZSBmb3JtCiAgICAgICAgX3RoaXMuY3JlYXRlRGlzcHV0ZW1vZGVsLmRpc3B1dGVDb21tZW50ID0gbnVsbCwgX3RoaXMuY3JlYXRlRGlzcHV0ZW1vZGVsLmRpc3B1dGVTZXNzaW9uSWQgPSBudWxsLCBfdGhpcy50cmFuc2FjdGlvbnNRdWVyeW1vZGVsID0ge307CiAgICAgICAgX3RoaXMuY2xvc2VNb2RhbCgpOwogICAgICB9KTsKICAgIH0sCiAgICB0cmFuc2FjdGlvbnNRdWVyeTogZnVuY3Rpb24gdHJhbnNhY3Rpb25zUXVlcnkoKSB7CiAgICAgIC8vY2FsbCBjcmVhdGUgdHJhbnNhY3Rpb24gcXVlcnkgYWN0aW9uCiAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmRpc3B1dGUudXBkYXRlVHJhbnNhY3Rpb25RdWVyeSwgdGhpcy50cmFuc2FjdGlvbnNRdWVyeW1vZGVsKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBsb2FkaW5nMjogZnVuY3Rpb24gbG9hZGluZzIoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRpc3B1dGUubG9hZGluZzI7CiAgICB9LAogICAgdXNlcmluZm86IGZ1bmN0aW9uIHVzZXJpbmZvKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hdXRoLnVzZXJJbmZvOwogICAgfSwKICAgIC8vZ2V0J3Mgb3JhZ2FuaXNhdGlvbiBJRCBmcm9tIGxvY2Fsc3RvcmFnZQogICAgY3VycmVudE9yZ2FuaXNhdGlvbklkOiBmdW5jdGlvbiBjdXJyZW50T3JnYW5pc2F0aW9uSWQoKSB7CiAgICAgIHJldHVybiBTdG9yZVV0aWxzLnJvb3RHZXR0ZXJzKFN0b3JlVXRpbHMuZ2V0dGVycy5hdXRoLmdldEN1cnJlbnRPcmdhbml6YXRpb24pOwogICAgfSwKICAgIHRyYW5zYWN0aW9ucXVlcnk6IGZ1bmN0aW9uIHRyYW5zYWN0aW9ucXVlcnkoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRpc3B1dGUudHJhbnNhY3Rpb25zcXVlcnk7CiAgICB9LAogICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZGlzcHV0ZS5zdWNjZXNzOwogICAgfSwKICAgIHN0YXR1czogZnVuY3Rpb24gc3RhdHVzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5kaXNwdXRlLnN0YXR1czsKICAgIH0KICB9KSksCiAgd2F0Y2g6IHsKICAgIHN0YXR1czogZnVuY3Rpb24gc3RhdHVzKG5ld3ZhbHVlKSB7CiAgICAgIC8vd2F0Y2ggZm9yIGNoYW5nZSB0byBjbG9zZSBtb2RhbCBmb3JtIGFuZCB1cGRhdGUgZGlzcHV0ZSB0YWJsZSAKICAgICAgaWYgKG5ld3ZhbHVlID09ICdyZWFkJykgewogICAgICAgIHRoaXMuZGlzcHV0ZVJlYWRNb2RlbC5kaXNwdXRlSWQgPSBsb2NhbFN0b3JhZ2Uub3JnYW5pc2F0aW9uSWQ7CiAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuZGlzcHV0ZS51cGRhdGVEaXNwdXRlcywgdGhpcy5kaXNwdXRlUmVhZE1vZGVsKTsKICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["mapState","DisputeRequest","StoreUtils","name","props","showCreateDispute","Boolean","data","showModal","createDisputemodel","disputeCreate","transactionsQuerymodel","transactionStatusQuery","disputeReadModel","disputeRead","primaryColor","window","__env","app","methods","closeModal","$emit","commit","mutations","dispute","updateStatus","logDispute","_this","disputeOrgId","currentOrganisationId","organisationId","disputeSessionId","reference","disputeRemark","disputeTrnType","dispatch","actions","createDispute","then","disputeComment","transactionsQuery","updateTransactionQuery","computed","_objectSpread","loading2","state","userinfo","auth","userInfo","rootGetters","getters","getCurrentOrganization","transactionquery","transactionsquery","success","status","watch","newvalue","disputeId","localStorage","updateDisputes"],"sources":["src/components/form/DisputeForm.vue"],"sourcesContent":["   <template>\n  <modal-1 :show=\"showCreateDispute && showModal\" body-classes=\"p-1\" modal-classes=\"modal-dialog-centered modal-md\">\n    <div>\n      <div class=\"card-head\">\n        <div class=\"d-flex justify-content-between\">\n          <h4 style=\"font-size:18px;font-weight:700;width: 100%;display: flex;justify-content: center;align-items: center\">Log A Dispute</h4>\n          <button type=\"button\" class=\"btn-close p-2 m-2\" @click=\"closeModal()\" title=\"Cancel Request Payout\"></button>\n        </div>\n      </div>\n\n      <div class=\"card-body\">\n        <form role=\"form\" @submit.prevent=\"transactionsQuery()\" v-if=\"status == 'false'\">\n          <div class=\"form-floating mb-3\">\n            <input type=\"tel\" class=\"form-control\" placeholder=\"Session ID or Transaction Refrenence\" required\n              v-model=\"transactionsQuerymodel.reference\" />\n            <label>Session ID or Transaction Refrenence</label>\n          </div>\n          <b-button type=\"submit\" v-if=\"status == 'false'\"\n            :style=\"{backgroundColor:primaryColor,border:'none',color:'white'}\">\n            <span v-if=\"!loading2\">Proceed</span>\n            <span :class=\"{ 'spinner-border': loading2 }\" :disabled=\"loading2\"></span>\n          </b-button>\n\n        </form>\n\n        <form role=\"form\" @submit.prevent=\"logDispute()\" v-else>\n          <div class=\"form-floating mb-3\">\n            <input type=\"tel\" class=\"form-control\" placeholder=\"Payment Refrenence\" required\n              v-model=\"transactionquery.trnReference\" disabled />\n            <label>Payment Refrenence</label>\n          </div>\n          <div class=\"form-floating mb-3\">\n            <select class=\"form-select\" aria-label=\"Default select example\" required\n              v-model=\"createDisputemodel.disputeIssueType\">\n              <option value=\"Credit\" selected>Credit</option>\n              <option value=\"Debit\">Debit</option>\n            </select>\n            <label>Dispute Issue Type</label>\n          </div>\n          <div class=\"row\">\n            <div class=\"col col-6 mb-3\">\n              <label>Dispute Transaction Type</label>\n              <input type=\"tel\" class=\"form-control\" placeholder=\"Dispute Transaction Type\" disabled\n                :value=\"transactionquery.transactionType == null ? 'NA' : transactionquery.transactionType\" required />\n            </div>\n\n            <div class=\"col col-6 mb-3\">\n              <label>Dispute Remark</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Dispute Remark\" value=\"Transaction\" disabled />\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <div class=\"col\">\n              <label>Debit Account Name</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Debit Account Name\"\n                :value=\"transactionquery.trnDrAccountName\" required disabled />\n            </div>\n            <div class=\"col\">\n              <label>Debit Account Number</label>\n              <input type=\"number\" class=\"form-control\" placeholder=\"Organasation ID\"\n                :value=\"transactionquery.trnDrAccountNumber\" required disabled />\n            </div>\n\n          </div>\n\n          <div class=\"row mb-3\">\n            <div class=\"col\">\n              <label>Credit Account Number</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Organasation ID\"\n                :value=\"transactionquery.trnCrAccountNumber\" required disabled />\n            </div>\n            <div class=\"col\">\n              <label>narration</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"narration\" :value=\"transactionquery.trnNarration\"\n                required disabled />\n            </div>\n\n          </div>\n          <div class=\"row\">\n            <div class=\"col mb-3\">\n              <label>Bank Name</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Bank Name\" required disabled\n                v-model=\"transactionquery.trnCrInstitutionName\n\" />\n            </div>\n            <div class=\"col mb-3\">\n              <label>Amount</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Bank Name\" required disabled\n                v-model=\"transactionquery.trnAmount\" />\n            </div>\n          </div>\n          <div class=\"form-floating mb-3\">\n            <textarea type=\"text\" class=\"form-control h-25\" placeholder=\"Dispute Comment\" cols=\"5\" required\n              v-model=\"createDisputemodel.disputeComment\" />\n            <label>Dispute Comment</label>\n          </div>\n\n          <b-button type=\"submit\" v-if=\"status != 'false'\"\n                    :style=\"{backgroundColor:primaryColor,border:'none',color:'white'}\"><span v-if=\"!loading2\">Proceed</span>\n            <span :class=\"{ 'spinner-border': loading2 }\" :disabled=\"loading2\"></span>\n          </b-button>\n        </form>\n      </div>\n    </div>\n  </modal-1>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport DisputeRequest from \"../../model/request/DisputeRequest\";\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\n\nexport default {\n  name: \"Dispute-Form\",\n  props: {\n    showCreateDispute: Boolean,\n  },\n  data: () => {\n    return {\n      showModal: true,\n      createDisputemodel: DisputeRequest.disputeCreate,\n      transactionsQuerymodel: DisputeRequest.transactionStatusQuery,\n      disputeReadModel: DisputeRequest.disputeRead,\n      primaryColor:window.__env.app.primaryColor,\n\n    };\n  },\n\n  methods: {\n    closeModal() {\n      //close modal form\n      this.showModal = false;\n      this.$emit(\"closeCreateDispute\", false);\n      this.showModal = true;\n      StoreUtils.commit(StoreUtils.mutations.dispute.updateStatus, 'false')\n    },\n\n    logDispute() {\n      //set dispute session id from transaction reference\n      this.createDisputemodel.disputeOrgId = this.currentOrganisationId.organisationId\n      this.createDisputemodel.disputeSessionId = this.transactionsQuerymodel.reference,\n        this.createDisputemodel.disputeRemark = \"Transaction\",\n        this.createDisputemodel.disputeTrnType = \"NA\",\n        //call create dispute action\n        StoreUtils.dispatch(\n          StoreUtils.actions.dispute.createDispute,\n          this.createDisputemodel\n        ).then(() => {\n          //clear create dispute form\n          this.createDisputemodel.disputeComment = null,\n            this.createDisputemodel.disputeSessionId = null,\n            this.transactionsQuerymodel = {}\n          this.closeModal();\n\n        });\n    },\n\n    transactionsQuery() {\n      //call create transaction query action\n      StoreUtils.dispatch(\n        StoreUtils.actions.dispute.updateTransactionQuery,\n        this.transactionsQuerymodel\n      )\n\n    },\n  },\n  computed: {\n    ...mapState({\n      loading2: (state) => state.dispute.loading2,\n      userinfo: (state) => state.auth.userInfo,\n      //get's oraganisation ID from localstorage\n      currentOrganisationId: () => { return StoreUtils.rootGetters(StoreUtils.getters.auth.getCurrentOrganization) },\n      transactionquery: (state) => state.dispute.transactionsquery,\n      success: (state) => state.dispute.success,\n      status: state => state.dispute.status\n    }),\n  },\n\n  watch: {\n    status(newvalue) {\n      //watch for change to close modal form and update dispute table \n      if (newvalue == 'read') {\n        this.disputeReadModel.disputeId = localStorage.organisationId;\n        StoreUtils.dispatch(\n          StoreUtils.actions.dispute.updateDisputes,\n          this.disputeReadModel\n        );\n        this.closeModal()\n      }\n\n    }\n  },\n\n};\n</script>\n\n<style scoped>\n.card-head{\n  color: #413d52;\n}\n\n.btn-close{\n  background-color: #FFFFFF;\n}\n.spinner-border {\n  display: inline-block;\n  vertical-align: text-bottom;\n  border: 0.15em solid currentColor;\n  border-right-color: transparent;\n  -webkit-animation: spinner-border 0.75s linear infinite;\n  animation: spinner-border 0.75s linear infinite;\n}\n\n@keyframes spinner-border {\n  to {\n    transform: rotate(360deg);\n  }\n}\n</style>\n"],"mappings":";AA6GA,SAAAA,QAAA;AACA,OAAAC,cAAA;AACA,OAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,iBAAA,EAAAC;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,kBAAA,EAAAR,cAAA,CAAAS,aAAA;MACAC,sBAAA,EAAAV,cAAA,CAAAW,sBAAA;MACAC,gBAAA,EAAAZ,cAAA,CAAAa,WAAA;MACAC,YAAA,EAAAC,MAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAH;IAEA;EACA;EAEAI,OAAA;IACAC,UAAA,WAAAA,WAAA;MACA;MACA,KAAAZ,SAAA;MACA,KAAAa,KAAA;MACA,KAAAb,SAAA;MACAN,UAAA,CAAAoB,MAAA,CAAApB,UAAA,CAAAqB,SAAA,CAAAC,OAAA,CAAAC,YAAA;IACA;IAEAC,UAAA,WAAAA,WAAA;MAAA,IAAAC,KAAA;MACA;MACA,KAAAlB,kBAAA,CAAAmB,YAAA,QAAAC,qBAAA,CAAAC,cAAA;MACA,KAAArB,kBAAA,CAAAsB,gBAAA,QAAApB,sBAAA,CAAAqB,SAAA,EACA,KAAAvB,kBAAA,CAAAwB,aAAA,kBACA,KAAAxB,kBAAA,CAAAyB,cAAA;MACA;MACAhC,UAAA,CAAAiC,QAAA,CACAjC,UAAA,CAAAkC,OAAA,CAAAZ,OAAA,CAAAa,aAAA,EACA,KAAA5B,kBACA,EAAA6B,IAAA;QACA;QACAX,KAAA,CAAAlB,kBAAA,CAAA8B,cAAA,SACAZ,KAAA,CAAAlB,kBAAA,CAAAsB,gBAAA,SACAJ,KAAA,CAAAhB,sBAAA;QACAgB,KAAA,CAAAP,UAAA;MAEA;IACA;IAEAoB,iBAAA,WAAAA,kBAAA;MACA;MACAtC,UAAA,CAAAiC,QAAA,CACAjC,UAAA,CAAAkC,OAAA,CAAAZ,OAAA,CAAAiB,sBAAA,EACA,KAAA9B,sBACA;IAEA;EACA;EACA+B,QAAA,EAAAC,aAAA,KACA3C,QAAA;IACA4C,QAAA,WAAAA,SAAAC,KAAA;MAAA,OAAAA,KAAA,CAAArB,OAAA,CAAAoB,QAAA;IAAA;IACAE,QAAA,WAAAA,SAAAD,KAAA;MAAA,OAAAA,KAAA,CAAAE,IAAA,CAAAC,QAAA;IAAA;IACA;IACAnB,qBAAA,WAAAA,sBAAA;MAAA,OAAA3B,UAAA,CAAA+C,WAAA,CAAA/C,UAAA,CAAAgD,OAAA,CAAAH,IAAA,CAAAI,sBAAA;IAAA;IACAC,gBAAA,WAAAA,iBAAAP,KAAA;MAAA,OAAAA,KAAA,CAAArB,OAAA,CAAA6B,iBAAA;IAAA;IACAC,OAAA,WAAAA,QAAAT,KAAA;MAAA,OAAAA,KAAA,CAAArB,OAAA,CAAA8B,OAAA;IAAA;IACAC,MAAA,WAAAA,OAAAV,KAAA;MAAA,OAAAA,KAAA,CAAArB,OAAA,CAAA+B,MAAA;IAAA;EACA,GACA;EAEAC,KAAA;IACAD,MAAA,WAAAA,OAAAE,QAAA;MACA;MACA,IAAAA,QAAA;QACA,KAAA5C,gBAAA,CAAA6C,SAAA,GAAAC,YAAA,CAAA7B,cAAA;QACA5B,UAAA,CAAAiC,QAAA,CACAjC,UAAA,CAAAkC,OAAA,CAAAZ,OAAA,CAAAoC,cAAA,EACA,KAAA/C,gBACA;QACA,KAAAO,UAAA;MACA;IAEA;EACA;AAEA"}]}