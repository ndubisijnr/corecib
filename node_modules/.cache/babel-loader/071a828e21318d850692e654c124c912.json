{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js!/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/form/AddNewBusiness.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/form/AddNewBusiness.vue","mtime":1683674085712},{"path":"/Users/clark/Desktop/business.corestep.com/babel.config.js","mtime":1683674085504},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NsYXJrL0Rlc2t0b3AvYnVzaW5lc3MuY29yZXN0ZXAuY29tL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IE9yZ2FuaXNhdGlvblJlcXVlc3QgZnJvbSAiLi4vLi4vbW9kZWwvcmVxdWVzdC9PcmdhbmlzYXRpb25SZXF1ZXN0IjsKaW1wb3J0IGNvdW50cnkgZnJvbSAiQC9jb21wb25lbnRzL2NvdW50cnkiOwppbXBvcnQgQmFzZUlucHV0IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvaW5wdXRzL0Jhc2VJbnB1dCI7CmltcG9ydCBTdG9yZVV0aWxzIGZyb20gIi4uLy4uL3V0aWwvYmFzZVV0aWxzL1N0b3JlVXRpbHMiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkZE5ld0J1c2luZXNzIiwKICBjb21wb25lbnRzOiB7CiAgICBCYXNlSW5wdXQ6IEJhc2VJbnB1dAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dNb2RhbDogdHJ1ZSwKICAgICAgb3B0aW9uX2NvdW50cnk6IFtdLAogICAgICBjb3VudHJ5Q3RybDogZmFsc2UsCiAgICAgIG5ld0J1c2luZXNzTW9kYWw6IE9yZ2FuaXNhdGlvblJlcXVlc3QuYWRkT3JnYW5pc2F0aW9uLAogICAgICBwcmltYXJ5Q29sb3I6IHdpbmRvdy5fX2Vudi5hcHAucHJpbWFyeUNvbG9yLAogICAgICBlcnJvcnM6IHsKICAgICAgICBidXNpbmVzc05hbWU6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBzaG93QnVzaW5lc3NGb3JtOiBCb29sZWFuCiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgICAvL2Nsb3NlIG1vZGFsIGZvcm0KICAgICAgdGhpcy5zaG93TW9kYWwgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2VCdXNpbmVzc0Zvcm0iLCBmYWxzZSk7CiAgICAgIHRoaXMuc2hvd01vZGFsID0gdHJ1ZTsKICAgICAgLy8gICBTdG9yZVV0aWxzLmNvbW1pdChTdG9yZVV0aWxzLm11dGF0aW9ucy5hY2NvdW50UGF5b3V0LnVwZGF0ZVN0YXR1cywgJ2ZhbHNlJykKICAgIH0sCiAgICB2YWxpZGF0aW9uOiBmdW5jdGlvbiB2YWxpZGF0aW9uKCkgewogICAgICBpZiAoIXRoaXMubmV3QnVzaW5lc3NNb2RhbC5jdXN0b21lckJ1c2luZXNzTmFtZS5pbmNsdWRlcygiICIpKSB7CiAgICAgICAgdGhpcy5lcnJvcnMuYnVzaW5lc3NOYW1lID0gJyJidXNpbmVzcyBuYW1lIHNob3VsZCBiZSBhdCBsZWFzdCB0d28gd29yZHMgc2VwYXJhdGVkIHdpdGggc3BhY2UiJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9ycy5idXNpbmVzc05hbWUgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgYWRkQnVzaW5lc3M6IGZ1bmN0aW9uIGFkZEJ1c2luZXNzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLm5ld0J1c2luZXNzTW9kYWwuY3VzdG9tZXJJZCA9IFN0b3JlVXRpbHMucm9vdEdldHRlcnMoU3RvcmVVdGlscy5nZXR0ZXJzLmF1dGguZ2V0Q3VzdG9tZXJJZCk7CiAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmF1dGguYWRkT3JnYW5pc2F0aW9uLCB0aGlzLm5ld0J1c2luZXNzTW9kYWwpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnJlYWRPcmdhbmlzYXRpb24uY3VzdG9tZXJJZCA9IFN0b3JlVXRpbHMucm9vdEdldHRlcnMoU3RvcmVVdGlscy5nZXR0ZXJzLmF1dGguZ2V0Q3VzdG9tZXJJZCk7CiAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuYXV0aC5yZWFkT3JnYW5pc2F0aW9uQnlVc2VySWQpOwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmF1dGgucmVhZERhc2hib2FyZFN0YXRzKTsKICAgICAgfSk7CiAgICB9LAogICAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KF9yZWYpIHsKICAgICAgdmFyIGRpYWxDb2RlID0gX3JlZi5kaWFsQ29kZTsKICAgICAgdGhpcy5uZXdCdXNpbmVzc01vZGFsLmN1c3RvbWVyQ291bnRyeUNvZGUgPSBkaWFsQ29kZTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBsb2FkaW5nOiBmdW5jdGlvbiBsb2FkaW5nKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hdXRoLmxvYWRpbmc7CiAgICB9CiAgfSkpLAogIHdhdGNoOiB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGNvdW50cmllcyA9IGNvdW50cnk7CiAgICB0aGlzLm9wdGlvbl9jb3VudHJ5ID0gY291bnRyaWVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gewogICAgICAgIHZhbHVlOiAiIi5jb25jYXQoaXRlbS5uYW1lKSwKICAgICAgICBsYWJlbDogIiIuY29uY2F0KGl0ZW0ubmFtZSkKICAgICAgfTsKICAgIH0pOwogIH0KfTs="},{"version":3,"names":["OrganisationRequest","country","BaseInput","StoreUtils","mapState","name","components","data","showModal","option_country","countryCtrl","newBusinessModal","addOrganisation","primaryColor","window","__env","app","errors","businessName","props","showBusinessForm","Boolean","methods","closeModal","$emit","validation","customerBusinessName","includes","addBusiness","_this","customerId","rootGetters","getters","auth","getCustomerId","dispatch","actions","then","readOrganisation","readOrganisationByUserId","readDashboardStats","onSelect","_ref","dialCode","customerCountryCode","computed","_objectSpread","loading","state","watch","mounted","countries","map","item","value","concat","label"],"sources":["src/components/form/AddNewBusiness.vue"],"sourcesContent":["<template>\n  <modal-1 :show=\"showBusinessForm && showModal\" body-classes=\"p-1\" modal-classes=\"modal-dialog-centered modal-md\">\n    <div>\n      <div class=\"modal-header\">\n        <h3>Add New Business ðŸ¤© </h3>\n        <button type=\"button\" class=\"btn-close p-2 m-2\" @click=\"closeModal()\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <b-form class=\"\" @submit.prevent=\"addBusiness\">\n          <div class=\"row\">\n            <div class=\"col w-100 mb-2\">\n              <label class=\"small\">Business Name</label>\n              <input type=\"text\" @blur=\"validation\" v-model=\"newBusinessModal.customerBusinessName\" class=\"form-control\" placeholder=\"Business Name\"  required>\n              <span class=\"text-danger small\" v-if=\"errors.businessName\">{{errors.businessName}}</span>\n            </div>\n            <div class=\"col w-100 mb-2\">\n              <label class=\"small\">Business Email</label>\n              <input type=\"email\" v-model=\"newBusinessModal.customerEmail\" class=\"form-control\" placeholder=\"Business Email\" aria-label=\"Server\" required>\n            </div>\n          </div>\n          <div class=\"row mb-3\">\n            <div class=\"form-floating col\">\n              <base-input label=\"Country\">\n                <el-select class=\"select-danger w-100\" filterable placeholder=\"Country\" v-model=\"newBusinessModal.customerCountry\"\n                           required>\n                  <el-option v-for=\"option in option_country\" class=\"select-danger\" :value=\"option.value\"\n                             :label=\"option.label\" :key=\"option.value\">\n                  </el-option>\n                </el-select>\n                <p v-show=\"countryCtrl\" class=\"form-error-message\">\n                  The Country is required\n                </p>\n              </base-input>\n            </div>\n            <div class=\"col\">\n              <label class=\"small\">Phone Number</label>\n              <div class=\"d-flex\">\n                <vue-country-code v-model=\"newBusinessModal.customerCountryCode\" @onSelect=\"onSelect\" :preferredCountries=\"['ng', 'us', 'gb']\" style=\"height: 45px\" class=\"\" required></vue-country-code>\n                <input type=\"text\" v-model=\"newBusinessModal.customerPhone\" class=\"form-control\" placeholder=\"Phone Number\" aria-label=\"Server\" required>\n              </div>\n            </div>\n          </div>\n          <div>\n            <b-button type=\"submit\" :style=\"{backgroundColor:primaryColor,color: 'white',width: '100%'}\" :disabled=\"loading\"><span :class=\"{'spinner-border':loading}\"></span> {{loading ? 'Please Wait...' : 'Proceed'}}</b-button>\n          </div>\n        </b-form>\n      </div>\n    </div>\n  </modal-1>\n</template>\n\n<script>\nimport OrganisationRequest from \"../../model/request/OrganisationRequest\";\nimport country from \"@/components/country\";\nimport BaseInput from \"../../components/inputs/BaseInput\";\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\nimport {mapState} from \"vuex\";\n\n\nexport default {\n  name: \"AddNewBusiness\",\n  components: {\n    BaseInput,\n  },\n  data(){\n    return{\n      showModal: true,\n      option_country: [],\n      countryCtrl: false,\n      newBusinessModal:OrganisationRequest.addOrganisation,\n      primaryColor:window.__env.app.primaryColor,\n      errors:{\n        businessName:null,\n      }\n\n    }\n  },\n  props: {\n    showBusinessForm: Boolean,\n  },\n\n  methods:{\n    closeModal() {\n      //close modal form\n      this.showModal = false;\n      this.$emit(\"closeBusinessForm\", false);\n      this.showModal = true;\n      //   StoreUtils.commit(StoreUtils.mutations.accountPayout.updateStatus, 'false')\n    },\n\n    validation(){\n      if(!this.newBusinessModal.customerBusinessName.includes(\" \")){\n        this.errors.businessName = '\"business name should be at least two words separated with space\"'\n      }else{\n        this.errors.businessName = null\n      }\n    },\n\n    addBusiness(){\n      this.newBusinessModal.customerId = StoreUtils.rootGetters(StoreUtils.getters.auth.getCustomerId)\n      StoreUtils.dispatch(StoreUtils.actions.auth.addOrganisation, this.newBusinessModal).then(() => {\n        this.readOrganisation.customerId = StoreUtils.rootGetters(StoreUtils.getters.auth.getCustomerId)\n        StoreUtils.dispatch(StoreUtils.actions.auth.readOrganisationByUserId)\n        StoreUtils.dispatch(StoreUtils.actions.auth.readDashboardStats)\n      })\n    },\n\n    onSelect({ dialCode }) {\n      this.newBusinessModal.customerCountryCode = dialCode;\n    },\n  },\n\n  computed:{\n    ...mapState({\n      loading:state => state.auth.loading\n    }),\n\n\n  },\n\n  watch:{\n\n  },\n  mounted() {\n    let countries = country;\n    this.option_country = countries.map((item) => {\n      return {\n        value: `${item.name}`,\n        label: `${item.name}`,\n      };\n    });\n  }\n}\n</script>\n\n<style scoped>\n.spinner-border {\n  display: inline-block;\n  width: 1rem;\n  height: 1rem;\n  vertical-align: text-bottom;\n  border: 0.25em solid currentColor;\n  border-right-color: transparent;\n  border-radius: 50%;\n  -webkit-animation: spinner-border 0.75s linear infinite;\n  animation: spinner-border 0.75s linear infinite;\n}\n\nlabel{\n  color: #000;\n}\n\n@keyframes spinner-border {\n  to {\n    transform: rotate(360deg);\n  }\n}\n</style>"],"mappings":";;;;;AAoDA,OAAAA,mBAAA;AACA,OAAAC,OAAA;AACA,OAAAC,SAAA;AACA,OAAAC,UAAA;AACA,SAAAC,QAAA;AAGA;EACAC,IAAA;EACAC,UAAA;IACAJ,SAAA,EAAAA;EACA;EACAK,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,cAAA;MACAC,WAAA;MACAC,gBAAA,EAAAX,mBAAA,CAAAY,eAAA;MACAC,YAAA,EAAAC,MAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAH,YAAA;MACAI,MAAA;QACAC,YAAA;MACA;IAEA;EACA;EACAC,KAAA;IACAC,gBAAA,EAAAC;EACA;EAEAC,OAAA;IACAC,UAAA,WAAAA,WAAA;MACA;MACA,KAAAf,SAAA;MACA,KAAAgB,KAAA;MACA,KAAAhB,SAAA;MACA;IACA;IAEAiB,UAAA,WAAAA,WAAA;MACA,UAAAd,gBAAA,CAAAe,oBAAA,CAAAC,QAAA;QACA,KAAAV,MAAA,CAAAC,YAAA;MACA;QACA,KAAAD,MAAA,CAAAC,YAAA;MACA;IACA;IAEAU,WAAA,WAAAA,YAAA;MAAA,IAAAC,KAAA;MACA,KAAAlB,gBAAA,CAAAmB,UAAA,GAAA3B,UAAA,CAAA4B,WAAA,CAAA5B,UAAA,CAAA6B,OAAA,CAAAC,IAAA,CAAAC,aAAA;MACA/B,UAAA,CAAAgC,QAAA,CAAAhC,UAAA,CAAAiC,OAAA,CAAAH,IAAA,CAAArB,eAAA,OAAAD,gBAAA,EAAA0B,IAAA;QACAR,KAAA,CAAAS,gBAAA,CAAAR,UAAA,GAAA3B,UAAA,CAAA4B,WAAA,CAAA5B,UAAA,CAAA6B,OAAA,CAAAC,IAAA,CAAAC,aAAA;QACA/B,UAAA,CAAAgC,QAAA,CAAAhC,UAAA,CAAAiC,OAAA,CAAAH,IAAA,CAAAM,wBAAA;QACApC,UAAA,CAAAgC,QAAA,CAAAhC,UAAA,CAAAiC,OAAA,CAAAH,IAAA,CAAAO,kBAAA;MACA;IACA;IAEAC,QAAA,WAAAA,SAAAC,IAAA;MAAA,IAAAC,QAAA,GAAAD,IAAA,CAAAC,QAAA;MACA,KAAAhC,gBAAA,CAAAiC,mBAAA,GAAAD,QAAA;IACA;EACA;EAEAE,QAAA,EAAAC,aAAA,KACA1C,QAAA;IACA2C,OAAA,WAAAA,QAAAC,KAAA;MAAA,OAAAA,KAAA,CAAAf,IAAA,CAAAc,OAAA;IAAA;EACA,GAGA;EAEAE,KAAA,GAEA;EACAC,OAAA,WAAAA,QAAA;IACA,IAAAC,SAAA,GAAAlD,OAAA;IACA,KAAAQ,cAAA,GAAA0C,SAAA,CAAAC,GAAA,WAAAC,IAAA;MACA;QACAC,KAAA,KAAAC,MAAA,CAAAF,IAAA,CAAAhD,IAAA;QACAmD,KAAA,KAAAD,MAAA,CAAAF,IAAA,CAAAhD,IAAA;MACA;IACA;EACA;AACA"}]}