{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js!/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/form/EditOrganisationUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/form/EditOrganisationUser.vue","mtime":1703762794716},{"path":"/Users/clark/Desktop/business.corestep.com/babel.config.js","mtime":1683674085504},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NsYXJrL0Rlc2t0b3AvYnVzaW5lc3MuY29yZXN0ZXAuY29tL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IE9yZ2FuaXNhdGlvblJlcXVlc3QgZnJvbSAiLi4vLi4vbW9kZWwvcmVxdWVzdC9PcmdhbmlzYXRpb25SZXF1ZXN0IjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IFN0b3JlVXRpbHMgZnJvbSAiLi4vLi4vdXRpbC9iYXNlVXRpbHMvU3RvcmVVdGlscyI7CmltcG9ydCBzd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFZGl0T3JnYW5pc2F0aW9uVXNlciIsCiAgcHJvcHM6IHsKICAgIHNob3dPcmdhbmlzYXRpb25Vc2VyRm9ybTogQm9vbGVhbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGVsOiBPcmdhbmlzYXRpb25SZXF1ZXN0LnVwZGF0ZU9yZ2FuaXNhdGlvblVzZXIsCiAgICAgIG9yZ2FuaXNhdGlvblJvbGVzOiBbXSwKICAgICAgc2hvd01vZGFsOiB0cnVlLAogICAgICBwcmltYXJ5Q29sb3I6IHdpbmRvdy5fX2Vudi5hcHAucHJpbWFyeUNvbG9yCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlVXNlcjogZnVuY3Rpb24gdXBkYXRlVXNlcigpIHsKICAgICAgdGhpcy5tb2RlbC5jdXN0b21lcklkID0gdGhpcy5zaW5nbGVVc2VyUGF5bG9hZC5jdXN0b21lcklkOwogICAgICB0aGlzLm1vZGVsLmN1c3RvbWVyU3RhdHVzID0gdGhpcy5zaW5nbGVVc2VyUGF5bG9hZC5jdXN0b21lck9yZ2FuaXNhdGlvblN0YXR1czsKICAgICAgdGhpcy5tb2RlbC5jdXN0b21lclJvbGUgPSB0aGlzLnNpbmdsZVVzZXJQYXlsb2FkLmN1c3RvbWVyT3JnYW5pc2F0aW9uUm9sZTsKICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuYXV0aC51cGRhdGVVc2VyLCB0aGlzLm1vZGVsKTsKICAgIH0sCiAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgICAvL2Nsb3NlIG1vZGFsIGZvcm0KICAgICAgdGhpcy5zaG93TW9kYWwgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2VVc2VyRm9ybSIsIGZhbHNlKTsKICAgICAgdGhpcy5zaG93TW9kYWwgPSB0cnVlOwogICAgICAvLyAgIFN0b3JlVXRpbHMuY29tbWl0KFN0b3JlVXRpbHMubXV0YXRpb25zLmFjY291bnRQYXlvdXQudXBkYXRlU3RhdHVzLCAnZmFsc2UnKQogICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5hdXRoLnJlYWRDdXN0b21lckJ5T3JnYW5pc2F0aW9uKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBzaW5nbGVVc2VyUGF5bG9hZDogZnVuY3Rpb24gc2luZ2xlVXNlclBheWxvYWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmF1dGguc2luZ2xlT3JnYW5pc2F0aW9uVXNlcjsKICAgIH0sCiAgICByZWFkT3JnYW5pc2F0aW9uUm9sZXM6IGZ1bmN0aW9uIHJlYWRPcmdhbmlzYXRpb25Sb2xlcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYXV0aC5vcmdhbmlzYXRpb25Sb2xlczsKICAgIH0sCiAgICBsb2FkaW5nOiBmdW5jdGlvbiBsb2FkaW5nKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hdXRoLmxvYWRpbmc7CiAgICB9CiAgfSkpCn07"},{"version":3,"names":["OrganisationRequest","mapState","StoreUtils","swal","name","props","showOrganisationUserForm","Boolean","data","model","updateOrganisationUser","organisationRoles","showModal","primaryColor","window","__env","app","methods","updateUser","customerId","singleUserPayload","customerStatus","customerOrganisationStatus","customerRole","customerOrganisationRole","dispatch","actions","auth","closeModal","$emit","readCustomerByOrganisation","computed","_objectSpread","state","singleOrganisationUser","readOrganisationRoles","loading"],"sources":["src/components/form/EditOrganisationUser.vue"],"sourcesContent":["<template>\n  <modal-1 :show=\"showOrganisationUserForm === 'edit' && showModal\" body-classes=\"p-1\" modal-classes=\"modal-dialog-centered modal-md\">\n    <div v-if=\"singleUserPayload\">\n      <div class=\"card-head\">\n        <div class=\"d-flex justify-content-between\">\n          <h4 style=\"color:#3F88C5;font-size:18px;font-weight:700;width: 100%;display: flex;justify-content: center;align-items: center\">Edit User</h4>\n          <button type=\"button\" class=\"btn-close p-2 m-2\" @click=\"closeModal()\" title=\"Cancel Request Payout\"></button>\n        </div>\n      </div>\n\n<!--      <div class=\"card-head\">-->\n<!--        <div class=\"text-end\">-->\n<!--          <button type=\"button\" class=\"btn-close p-2 m-2\" @click=\"closeModal()\"></button>-->\n<!--        </div>-->\n<!--        <div class=\"\"></div>-->\n<!--      </div>-->\n      <div class=\"card-body\">\n        <div class=\"form\">\n          <b-form class=\"bform2 text-left\" @submit.prevent=\"updateUser()\">\n            <div class=\"row\">\n              <div class=\"col-6\">\n                <b-form-group id=\"input-group-4\" label=\"Full Name\" label-for=\"input-4\">\n                  <b-form-input id=\"input-4\" disabled  placeholder=\"Organisation name\" :value=\"singleUserPayload.customerFirstName + ' ' + singleUserPayload.customerLastName\" class=\"mr-2\" required></b-form-input>\n                </b-form-group>\n              </div>\n              <div class=\"col-6\">\n                <b-form-group label=\"User Role\">\n                  <base-input>\n                    <el-select class=\"select-danger\" filterable placeholder=\"Select user role\" required  v-model=\"singleUserPayload.customerOrganisationStatus\">\n                      <el-option :value=\"singleUserPayload.customerOrganisationStatus === 'ACTIVE' ? singleUserPayload.customerOrganisationStatus : 'ACTIVE'\" :label=\"singleUserPayload.customerOrganisationStatus === 'ACTIVE' ? singleUserPayload.customerOrganisationStatus : 'ACTIVE'\" class=\"select-danger\"></el-option>\n                      <el-option :value=\"singleUserPayload.customerOrganisationStatus === 'INACTIVE'? singleUserPayload.customerOrganisationStatus : 'INACTIVE'\" :label=\"singleUserPayload.customerOrganisationStatus === 'INACTIVE'? singleUserPayload.customerOrganisationStatus : 'INACTIVE'\" class=\"select-danger\"></el-option>\n                    </el-select>\n                  </base-input>\n                </b-form-group>\n<!--                <b-form-group id=\"input-group-4\" label=\"Status\" label-for=\"input-4\">-->\n<!--                  <b-form-input id=\"input-4\" disabled  placeholder=\"status\" :value=\"singleUserPayload.customerOrganisationStatus\" class=\"mr-2\" required></b-form-input>-->\n<!--                </b-form-group>-->\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-6\">\n                <b-form-group id=\"input-group-4\" label=\"User Id\" label-for=\"input-4\">\n                  <b-form-input id=\"input-4\" disabled type=\"number\" placeholder=\"Account Number\" :value=\"singleUserPayload.customerId\" class=\"mr-2\" required></b-form-input>\n                </b-form-group>\n              </div>\n              <div class=\"col-6\">\n                <b-form-group id=\"input-group-4\" label=\"Email\" label-for=\"input-4\">\n                  <b-form-input id=\"input-4\" disabled  placeholder=\"organisation email\" :value=\"singleUserPayload.customerEmail.toLowerCase()\" class=\"mr-2\" required></b-form-input>\n                </b-form-group>\n              </div>\n            </div>\n            <b-form-group label=\"User Role\">\n              <base-input>\n                <el-select class=\"select-danger\" filterable placeholder=\"Select user role\" required  v-model=\"singleUserPayload.customerOrganisationRole\">\n                  <el-option v-if=\"readOrganisationRoles.length > 1\" v-for=\"(item, index) in readOrganisationRoles\" :key=\"index\" :value=\"item.roleName\" :label=\"item.roleName\" class=\"select-danger\"></el-option>\n                </el-select>\n              </base-input>\n            </b-form-group>\n            <b-button class=\"w-100 text-white\" :disabled=\"loading\" :style=\"{backgroundColor:primaryColor}\" type=\"submit\">{{loading ? \"Saving\" : \"Save\" }}\n              <span :class=\"{ 'spinner-border': loading }\"></span>\n            </b-button>\n          </b-form>\n        </div>\n      </div>\n    </div>\n\n  </modal-1>\n\n</template>\n\n<script>\nimport OrganisationRequest from \"../../model/request/OrganisationRequest\";\nimport {mapState} from \"vuex\"\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\nimport swal from \"sweetalert2\";\nexport default {\n  name: \"EditOrganisationUser\",\n  props: {\n    showOrganisationUserForm: Boolean,\n  },\n  data() {\n    return {\n      model: OrganisationRequest.updateOrganisationUser,\n      organisationRoles: [],\n      showModal: true,\n      primaryColor: window.__env.app.primaryColor\n\n    };\n  },\n\n  methods:{\n    updateUser(){\n      this.model.customerId = this.singleUserPayload.customerId\n      this.model.customerStatus = this.singleUserPayload.customerOrganisationStatus\n      this.model.customerRole = this.singleUserPayload.customerOrganisationRole\n      StoreUtils.dispatch(StoreUtils.actions.auth.updateUser, this.model)\n    },\n\n    closeModal() {\n      //close modal form\n      this.showModal = false;\n      this.$emit(\"closeUserForm\", false);\n      this.showModal = true;\n      //   StoreUtils.commit(StoreUtils.mutations.accountPayout.updateStatus, 'false')\n      StoreUtils.dispatch(StoreUtils.actions.auth.readCustomerByOrganisation)\n    },\n  },\n\n  computed:{\n    ...mapState({\n      singleUserPayload:state => state.auth.singleOrganisationUser,\n      readOrganisationRoles: (state) => state.auth.organisationRoles,\n      loading: state => state.auth.loading\n\n    })\n  }\n}\n</script>\n\n<style scoped>\n.card-head{\n  background-color: #D7E6F3;\n  color: white;\n}\n</style>"],"mappings":";AAuEA,OAAAA,mBAAA;AACA,SAAAC,QAAA;AACA,OAAAC,UAAA;AACA,OAAAC,IAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,wBAAA,EAAAC;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,KAAA,EAAAT,mBAAA,CAAAU,sBAAA;MACAC,iBAAA;MACAC,SAAA;MACAC,YAAA,EAAAC,MAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAH;IAEA;EACA;EAEAI,OAAA;IACAC,UAAA,WAAAA,WAAA;MACA,KAAAT,KAAA,CAAAU,UAAA,QAAAC,iBAAA,CAAAD,UAAA;MACA,KAAAV,KAAA,CAAAY,cAAA,QAAAD,iBAAA,CAAAE,0BAAA;MACA,KAAAb,KAAA,CAAAc,YAAA,QAAAH,iBAAA,CAAAI,wBAAA;MACAtB,UAAA,CAAAuB,QAAA,CAAAvB,UAAA,CAAAwB,OAAA,CAAAC,IAAA,CAAAT,UAAA,OAAAT,KAAA;IACA;IAEAmB,UAAA,WAAAA,WAAA;MACA;MACA,KAAAhB,SAAA;MACA,KAAAiB,KAAA;MACA,KAAAjB,SAAA;MACA;MACAV,UAAA,CAAAuB,QAAA,CAAAvB,UAAA,CAAAwB,OAAA,CAAAC,IAAA,CAAAG,0BAAA;IACA;EACA;EAEAC,QAAA,EAAAC,aAAA,KACA/B,QAAA;IACAmB,iBAAA,WAAAA,kBAAAa,KAAA;MAAA,OAAAA,KAAA,CAAAN,IAAA,CAAAO,sBAAA;IAAA;IACAC,qBAAA,WAAAA,sBAAAF,KAAA;MAAA,OAAAA,KAAA,CAAAN,IAAA,CAAAhB,iBAAA;IAAA;IACAyB,OAAA,WAAAA,QAAAH,KAAA;MAAA,OAAAA,KAAA,CAAAN,IAAA,CAAAS,OAAA;IAAA;EAEA;AAEA"}]}