{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js!/Users/clark/Desktop/business.corestep.com/node_modules/eslint-loader/index.js??ref--14-0!/Users/clark/Desktop/business.corestep.com/src/store/modules/auth.js","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/store/modules/auth.js","mtime":1704729580374},{"path":"/Users/clark/Desktop/business.corestep.com/babel.config.js","mtime":1683674085504},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/eslint-loader/index.js","mtime":1670880030967}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCBBdXRoU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL0F1dGhTZXJ2aWNlIjsKaW1wb3J0IEN1c3RvbWVyU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL0N1c3RvbWVyU2VydmljZSI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vLi4vcm91dGVyIjsKaW1wb3J0IEF1dGhlbnRpY2F0aW9uUmVxdWVzdCBmcm9tICIuLi8uLi9tb2RlbC9yZXF1ZXN0L0F1dGhSZXF1ZXN0IjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgT3JnYW5pc2F0aW9uUmVxdWVzdCBmcm9tICIuLi8uLi9tb2RlbC9yZXF1ZXN0L09yZ2FuaXNhdGlvblJlcXVlc3QiOwppbXBvcnQgT3JnYW5pemF0aW9uU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL09yZ2FuaXphdGlvblNlcnZpY2UiOwppbXBvcnQgQXV0aGVudGljYXRpb25SZXNwb25zZSBmcm9tICIuLi8uLi9tb2RlbC9yZXBvbnNlL0F1dGhlbnRpY2F0aW9uUmVzcG9uc2UiOwppbXBvcnQgV2FsbGV0UmVxdWVzdCBmcm9tICIuLi8uLi9tb2RlbC9yZXF1ZXN0L1dhbGxldFJlcXVlc3QiOwppbXBvcnQgV2FsbGV0UmVzcG9uc2UgZnJvbSAiLi4vLi4vbW9kZWwvcmVwb25zZS9XYWxsZXRSZXNwb25zZSI7CmltcG9ydCBXYWxsZXRTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvV2FsbGV0U2VydmljZSI7CmltcG9ydCBPcmdhbmlzYXRpb25SZXNwb25zZSBmcm9tICIuLi8uLi9tb2RlbC9yZXBvbnNlL09yZ2FuaXNhdGlvblJlc3BvbnNlIjsKaW1wb3J0IFN0b3JlVXRpbHMgZnJvbSAiQC91dGlsL2Jhc2VVdGlscy9TdG9yZVV0aWxzIjsKaW1wb3J0IEJpbGxzUGF5bWVudFJlcXVlc3QgZnJvbSAiQC9tb2RlbC9yZXF1ZXN0L0JpbGxzUGF5bWVudFJlcXVlc3QiOwppbXBvcnQgQWNjb3VudFBheW91dFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9BY2NvdW50UGF5b3V0U2VydmljZSI7CmltcG9ydCBBY2NvdW50UGF5b3V0UmVzcG9uc2UgZnJvbSAiLi4vLi4vbW9kZWwvcmVwb25zZS9BY2NvdW50UGF5b3V0UmVzcG9uc2UiOwppbXBvcnQgQWNjb3VudFBheW91dFJlcXVlc3QgZnJvbSAiLi4vLi4vbW9kZWwvcmVxdWVzdC9BY2NvdW50UGF5b3V0UmVxdWVzdCI7CmltcG9ydCBHZXRTdGFydGVkIGZyb20gIi4uLy4uL3ZpZXdzL2Rhc2hib2FyZC9HZXRTdGFydGVkIjsKdmFyIFRvYXN0ID0gU3dhbC5taXhpbih7CiAgdG9hc3Q6IHRydWUsCiAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgdGltZXI6IDUwMDAsCiAgdGltZXJQcm9ncmVzc0JhcjogdHJ1ZSwKICBkaWRPcGVuOiBmdW5jdGlvbiBkaWRPcGVuKHRvYXN0KSB7CiAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIiwgU3dhbC5zdG9wVGltZXIpOwogICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsIFN3YWwucmVzdW1lVGltZXIpOwogIH0KfSk7CmV4cG9ydCB2YXIgc3RhdGUgPSB7CiAgZm9ybTogZmFsc2UsCiAgaXNTd2l0Y2hpbmc6IGZhbHNlLAogIHVzZXJFZGl0Rm9ybTogZmFsc2UsCiAgdG9rZW46IG51bGwsCiAgbG9hZGluZzogZmFsc2UsCiAgc2hvd0JhbGFuY2U6IGZhbHNlLAogIGxvZ2luTG9hZGluZzogZmFsc2UsCiAgdXNlckluZm86IEF1dGhlbnRpY2F0aW9uUmVzcG9uc2UubG9naW4sCiAgYWRkZWRCYW5rczogQWNjb3VudFBheW91dFJlc3BvbnNlLnJlYWRQYXlvdXRBY2NvdW50QnlPcmdhbmlzYXRpb25JZCwKICBzY3JlZW46ICJyZWdpc3RlciIsCiAgYWxsT3JnYW5pc2F0aW9uczogW10sCiAgcGFzc3dvcmRSZXNldFNjcmVlbjogImVtYWlsIiwKICByZWFkT3JnYW5pc2F0aW9uOiBPcmdhbmlzYXRpb25SZXNwb25zZS5yZWFkT3JnYW5pc2F0aW9uQnlJZCwKICBiYWxhbmNlczogV2FsbGV0UmVzcG9uc2UucmVhZEJhbGFuY2VXYWxsZXQsCiAgcmVmZmVyYWxzdGF0czogT3JnYW5pc2F0aW9uUmVzcG9uc2UucmVmZmVyYWxTdGF0c1Jlc3BvbnNlLAogIGlzVGltZWRPdXQ6IGZhbHNlLAogIHJlYWRPbmx5QWRkZWRCYW5rczoge30sCiAgcmVhZE9yZ2FuaXNhdGlvbkJ5VXNlcklkOiB7fSwKICBjdXJyZW50T3JnYW5pc2F0aW9uOiBbXSwKICBhbGxDdXN0b21lcnM6IG51bGwsCiAgb3JnYW5pc2F0aW9uUm9sZXM6IG51bGwsCiAgYWxsSW52aXRlczogbnVsbCwKICBzaW5nbGVPcmdhbmlzYXRpb25Vc2VyOiBudWxsLAogIHJlbWluZGVyRm9ybTogZmFsc2UsCiAgZGFya01vZGU6ICdmYWxzZScsCiAgc2VhcmNoTG9hZGluZzogZmFsc2UKfTsKZXhwb3J0IHZhciBnZXR0ZXJzID0gewogIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXJJbmZvOwogIH0sCiAgZ2V0Q3VzdG9tZXJJZDogZnVuY3Rpb24gZ2V0Q3VzdG9tZXJJZChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXJJbmZvLmN1c3RvbWVySWQ7CiAgfSwKICBnZXRUb2tlbjogZnVuY3Rpb24gZ2V0VG9rZW4oc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS50b2tlbjsKICB9LAogIGdldFVzZXJUb2tlbjogZnVuY3Rpb24gZ2V0VXNlclRva2VuKHN0YXRlKSB7CiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnRva2VuOwogIH0sCiAgZ2V0T3JnYW5pemF0aW9uSWQ6IGZ1bmN0aW9uIGdldE9yZ2FuaXphdGlvbklkKHN0YXRlKSB7CiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLm9yZ2FuaXNhdGlvbklkOwogIH0sCiAgZ2V0Q3VycmVudE9yZ2FuaXphdGlvbjogZnVuY3Rpb24gZ2V0Q3VycmVudE9yZ2FuaXphdGlvbihzdGF0ZSkgewogICAgaWYgKHN0YXRlLmFsbE9yZ2FuaXNhdGlvbnMgPT0gbnVsbCkgcmV0dXJuIHt9OwogICAgcmV0dXJuIHN0YXRlLmFsbE9yZ2FuaXNhdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChpdCkgewogICAgICByZXR1cm4gaXQub3JnYW5pc2F0aW9uSWQudG9TdHJpbmcoKSA9PT0gbG9jYWxTdG9yYWdlLm9yZ2FuaXNhdGlvbklkOwogICAgfSkubGVuZ3RoIDwgMSA/IHt9IDogc3RhdGUuYWxsT3JnYW5pc2F0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGl0KSB7CiAgICAgIHJldHVybiBpdC5vcmdhbmlzYXRpb25JZC50b1N0cmluZygpID09PSBsb2NhbFN0b3JhZ2Uub3JnYW5pc2F0aW9uSWQ7CiAgICB9KVswXTsKICB9LAogIGdldE9yZ2luaXphdGlvblJlZmVycmFsTGluazogZnVuY3Rpb24gZ2V0T3JnaW5pemF0aW9uUmVmZXJyYWxMaW5rKHN0YXRlLCBnZXR0ZXJzKSB7CiAgICByZXR1cm4gZ2V0dGVycy5nZXRDdXJyZW50T3JnYW5pemF0aW9uLm9yZ2FuaXNhdGlvblJlZmVycmFsQ29kZTsKICB9LAogIGdldFN0YWdlOiBmdW5jdGlvbiBnZXRTdGFnZShzdGF0ZSwgZ2V0dGVycykgewogICAgcmV0dXJuIGdldHRlcnMuZ2V0Q3VycmVudE9yZ2FuaXphdGlvbi5vcmdhbmlzYXRpb25TdGFnZTsKICB9Cn07CmV4cG9ydCB2YXIgbXV0YXRpb25zID0gewogIHVwZGF0ZVNpbmdsZU9yZ2FuaXNhdGlvblVzZXI6IGZ1bmN0aW9uIHVwZGF0ZVNpbmdsZU9yZ2FuaXNhdGlvblVzZXIoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLnNpbmdsZU9yZ2FuaXNhdGlvblVzZXIgPSBwYXlsb2FkOwogIH0sCiAgdXBkYXRlRm9ybTogZnVuY3Rpb24gdXBkYXRlRm9ybShzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuZm9ybSA9IHBheWxvYWQ7CiAgfSwKICB1cGRhdGVEYXJrTW9kZTogZnVuY3Rpb24gdXBkYXRlRGFya01vZGUoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLmRhcmtNb2RlID0gcGF5bG9hZDsKICB9LAogIHVwZGF0ZVJlbWluZGVyRm9ybTogZnVuY3Rpb24gdXBkYXRlUmVtaW5kZXJGb3JtKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5yZW1pbmRlckZvcm0gPSBwYXlsb2FkOwogIH0sCiAgdXBkYXRlU2hvd0JhbGFuY2U6IGZ1bmN0aW9uIHVwZGF0ZVNob3dCYWxhbmNlKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5zaG93QmFsYW5jZSA9IHBheWxvYWQ7CiAgfSwKICB1cGRhdGVVc2VyRWRpdEZvcm06IGZ1bmN0aW9uIHVwZGF0ZVVzZXJFZGl0Rm9ybShzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUudXNlckVkaXRGb3JtID0gcGF5bG9hZDsKICB9LAogIHVwZGF0ZUxvYWRpbmc6IGZ1bmN0aW9uIHVwZGF0ZUxvYWRpbmcoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLmxvYWRpbmcgPSBwYXlsb2FkOwogIH0sCiAgdXBkYXRlVGltZWRPdXQ6IGZ1bmN0aW9uIHVwZGF0ZVRpbWVkT3V0KHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5pc1RpbWVkT3V0ID0gcGF5bG9hZDsKICB9LAogIHVwZGF0ZVRva2VuOiBmdW5jdGlvbiB1cGRhdGVUb2tlbihzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUudG9rZW4gPSBwYXlsb2FkOwogIH0sCiAgdXBkYXRlVXNlckluZm86IGZ1bmN0aW9uIHVwZGF0ZVVzZXJJbmZvKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS51c2VySW5mbyA9IHBheWxvYWQ7CiAgfSwKICB1cGRhdGVTY3JlZW46IGZ1bmN0aW9uIHVwZGF0ZVNjcmVlbihzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuc2NyZWVuID0gcGF5bG9hZDsKICB9LAogIHVwZGF0ZVBhc3N3b3JkUmVzZXRTY3JlZW46IGZ1bmN0aW9uIHVwZGF0ZVBhc3N3b3JkUmVzZXRTY3JlZW4oc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLnBhc3N3b3JkUmVzZXRTY3JlZW4gPSBwYXlsb2FkOwogIH0sCiAgdXBkYXRlT3JnYW5pc2F0aW9uOiBmdW5jdGlvbiB1cGRhdGVPcmdhbmlzYXRpb24oc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLnJlYWRPcmdhbmlzYXRpb24gPSBwYXlsb2FkOwogIH0sCiAgdXBkYXRlQmFsYW5jZTogZnVuY3Rpb24gdXBkYXRlQmFsYW5jZShzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuYmFsYW5jZXMgPSBwYXlsb2FkOwogIH0sCiAgdXBkYXRlUmVmZmVyYWxTdGF0czogZnVuY3Rpb24gdXBkYXRlUmVmZmVyYWxTdGF0cyhzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUucmVmZmVyYWxzdGF0cyA9IHBheWxvYWQ7CiAgfSwKICB1cGRhdGVBZGRlZEJhbmtzOiBmdW5jdGlvbiB1cGRhdGVBZGRlZEJhbmtzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5hZGRlZEJhbmtzID0gcGF5bG9hZDsKICB9LAogIHVwZGF0ZXJlYWRBZGRlZEJhbmtzOiBmdW5jdGlvbiB1cGRhdGVyZWFkQWRkZWRCYW5rcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUucmVhZE9ubHlBZGRlZEJhbmtzID0gcGF5bG9hZDsKICB9LAogIHVwZGF0ZUFsbE9yZ2FuaXNhdGlvbjogZnVuY3Rpb24gdXBkYXRlQWxsT3JnYW5pc2F0aW9uKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5yZWFkT3JnYW5pc2F0aW9uQnlVc2VySWQgPSBwYXlsb2FkOwogIH0sCiAgdXBkYXRlQWxsT3JnYW5pc2F0aW9uTGlzdDogZnVuY3Rpb24gdXBkYXRlQWxsT3JnYW5pc2F0aW9uTGlzdChzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuYWxsT3JnYW5pc2F0aW9ucyA9IHBheWxvYWQ7CiAgfSwKICB1cGRhdGVDdXJyZW50T3JnYW5pc2F0aW9uOiBmdW5jdGlvbiB1cGRhdGVDdXJyZW50T3JnYW5pc2F0aW9uKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5jdXJyZW50T3JnYW5pc2F0aW9uID0gcGF5bG9hZDsKICB9LAogIHVwZGF0ZUFsbEN1c3RvbWVyOiBmdW5jdGlvbiB1cGRhdGVBbGxDdXN0b21lcihzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuYWxsQ3VzdG9tZXJzID0gcGF5bG9hZDsKICB9LAogIHVwZGF0ZU9yZ2FuaXNhdGlvblJvbGVzOiBmdW5jdGlvbiB1cGRhdGVPcmdhbmlzYXRpb25Sb2xlcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUub3JnYW5pc2F0aW9uUm9sZXMgPSBwYXlsb2FkOwogIH0sCiAgdXBkYXRlQWxsSW52aXRlczogZnVuY3Rpb24gdXBkYXRlQWxsSW52aXRlcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuYWxsSW52aXRlcyA9IHBheWxvYWQ7CiAgfSwKICB1cGRhdGVJc1N3aXRjaGluZzogZnVuY3Rpb24gdXBkYXRlSXNTd2l0Y2hpbmcoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLmlzU3dpdGNoaW5nID0gcGF5bG9hZDsKICB9LAogIHVwZGF0ZUxvZ2luTG9hZGluZzogZnVuY3Rpb24gdXBkYXRlTG9naW5Mb2FkaW5nKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5sb2dpbkxvYWRpbmcgPSBwYXlsb2FkOwogIH0sCiAgdXBkYXRlU2VhcmNoTG9hZGluZzogZnVuY3Rpb24gdXBkYXRlU2VhcmNoTG9hZGluZyhzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuc2VhcmNoTG9hZGluZyA9IHBheWxvYWQ7CiAgfQp9OwpleHBvcnQgdmFyIGFjdGlvbnMgPSB7CiAgaW5pdGlhbEVucm9sbG1lbnQ6IGZ1bmN0aW9uIGluaXRpYWxFbnJvbGxtZW50KF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHZhciBwYXlsb2FkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBBdXRoZW50aWNhdGlvblJlcXVlc3QuaW5pdGlhdGVFbnJvbGxtZW50OwogICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgdHJ1ZSk7CiAgICByZXR1cm4gQXV0aFNlcnZpY2UuY2FsbEluaXRpYXRlRW5yb2xsbWVudEFwaShwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICBpZiAocmVzcG9uc2VEYXRhLnJlc3BvbnNlQ29kZSA9PT0gIjAwIikgewogICAgICAgIGNvbW1pdCgidXBkYXRlU2NyZWVuIiwgJ290cCcpOwogICAgICB9IGVsc2UgewogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgdGV4dDogcmVzcG9uc2VEYXRhLnJlc3BvbnNlTWVzc2FnZSwKICAgICAgICAgIGljb246ICdlcnJvcicKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHt9KTsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgIH0pOwogIH0sCiAgY29tcGxldGVFbnJvbGxtZW50OiBmdW5jdGlvbiBjb21wbGV0ZUVucm9sbG1lbnQoX3JlZjIpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICB2YXIgcGF5bG9hZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogQXV0aGVudGljYXRpb25SZXF1ZXN0LmNvbXBsZXRlRW5yb2xsbWVudDsKICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIHRydWUpOwogICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmNhbGxDb21wbGV0ZUVucm9sbG1lbnRBcGkocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgaWYgKHJlc3BvbnNlRGF0YS5yZXNwb25zZUNvZGUgPT09ICIwMCIpIHsKICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgIHRleHQ6IHJlc3BvbnNlRGF0YS5yZXNwb25zZU1lc3NhZ2UsCiAgICAgICAgICBpY29uOiAnc3VjY2VzcycKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogIkxvZ29uIgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICB0ZXh0OiByZXNwb25zZURhdGEucmVzcG9uc2VNZXNzYWdlLAogICAgICAgICAgaWNvbjogJ2Vycm9yJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge30pOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgfSk7CiAgfSwKICBjcmVhdGVDdXN0b21lcjogZnVuY3Rpb24gY3JlYXRlQ3VzdG9tZXIoX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICB2YXIgcGF5bG9hZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogQXV0aGVudGljYXRpb25SZXF1ZXN0LmNyZWF0ZUN1c3RvbWVyUmVxdWVzdDsKICAgIC8vIGNvbnNvbGUubG9nKCJBY3Rpb24iKQogICAgLy8gY29uc29sZS5sb2cocGF5bG9hZCkKICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIHRydWUpOwogICAgcmV0dXJuIEN1c3RvbWVyU2VydmljZS5jYWxsQ3JlYXRlQ3VzdG9tZXJBcGkocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgaWYgKHJlc3BvbnNlRGF0YS5yZXNwb25zZUNvZGUgPT09ICIwMCIpIHsKICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgIHRleHQ6ICJZb3UgaGF2ZSBzdWNjZXNzZnVsbHkgYWNjZXB0ZWQgdGhlIGludml0ZSBmcm9tIHlvdXIgb3JnYW5pc2F0aW9uIiwKICAgICAgICAgIGljb246ICdzdWNjZXNzJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAiTG9nb24iCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgIHRleHQ6IHJlc3BvbnNlRGF0YS5yZXNwb25zZU1lc3NhZ2UsCiAgICAgICAgICBpY29uOiAnZXJyb3InCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICB9KTsKICB9LAogIHZhbGlkYXRlTGluazogZnVuY3Rpb24gdmFsaWRhdGVMaW5rKF9yZWY0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgdmFyIHBheWxvYWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IEF1dGhlbnRpY2F0aW9uUmVxdWVzdC52YWxpZGF0ZUN1c3RvbWVyTGlua1JlcXVlc3Q7CiAgICAvLyBjb25zb2xlLmxvZygiQWN0aW9uIikKICAgIC8vIGNvbnNvbGUubG9nKHBheWxvYWQpCiAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCB0cnVlKTsKICAgIHJldHVybiBDdXN0b21lclNlcnZpY2UuY2FsbFZhbGlkYXRlTGlua0FwaShwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICBpZiAocmVzcG9uc2VEYXRhLnJlc3BvbnNlQ29kZSA9PT0gIjAwIikgewogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgdGV4dDogcmVzcG9uc2VEYXRhLnJlc3BvbnNlTWVzc2FnZSwKICAgICAgICAgIGljb246ICdzdWNjZXNzJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAiTG9nb24iCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChyZXNwb25zZURhdGEucmVzcG9uc2VDb2RlID09PSAiMDEiKSB7CiAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIlNpZ25VcFVzZXIiCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICB0ZXh0OiByZXNwb25zZURhdGEucmVzcG9uc2VNZXNzYWdlLAogICAgICAgICAgaWNvbjogJ2Vycm9yJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAiTG9nb24iCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgIH0pOwogIH0sCiAgbG9nb246IGZ1bmN0aW9uIGxvZ29uKF9yZWY1KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0LAogICAgICBzdGF0ZSA9IF9yZWY1LnN0YXRlLAogICAgICBkaXNwYXRjaCA9IF9yZWY1LmRpc3BhdGNoLAogICAgICBnZXR0ZXJzID0gX3JlZjUuZ2V0dGVyczsKICAgIHZhciBwYXlsb2FkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBBdXRoZW50aWNhdGlvblJlcXVlc3QubG9naW47CiAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCB0cnVlKTsKICAgIHBheWxvYWQuc291cmNlID0gIldFQiI7CiAgICByZXR1cm4gQXV0aFNlcnZpY2UuY2FsbExvZ29uQXBpKHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGlmIChyZXNwb25zZURhdGEucmVzcG9uc2VDb2RlID09PSAiMDAiKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnRva2VuID0gcmVzcG9uc2VEYXRhLnRva2VuOwogICAgICAgIGxvY2FsU3RvcmFnZS5jdXN0b21lcklkID0gcmVzcG9uc2VEYXRhLmN1c3RvbWVySWQ7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVUb2tlbiIsIHJlc3BvbnNlRGF0YS50b2tlbik7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVVc2VySW5mbyIsIHJlc3BvbnNlRGF0YSk7CiAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuYXV0aC5yZWFkT3JnYW5pc2F0aW9uQnlVc2VySWQpOwogICAgICB9IGVsc2UgVG9hc3QuZmlyZSh7CiAgICAgICAgdGV4dDogcmVzcG9uc2VEYXRhLnJlc3BvbnNlTWVzc2FnZSwKICAgICAgICBpY29uOiAnZXJyb3InCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgfSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICBUb2FzdC5maXJlKHsKICAgICAgICB0ZXh0OiBlcnJvciwKICAgICAgICBpY29uOiAiZXJyb3IiCiAgICAgIH0pOwogICAgfSk7CiAgfSwKICByZXNldFRlcm1pbmFsUGluOiBmdW5jdGlvbiByZXNldFRlcm1pbmFsUGluKF9yZWY2KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0LAogICAgICBzdGF0ZSA9IF9yZWY2LnN0YXRlLAogICAgICBkaXNwYXRjaCA9IF9yZWY2LmRpc3BhdGNoLAogICAgICBnZXR0ZXJzID0gX3JlZjYuZ2V0dGVyczsKICAgIHZhciBwYXlsb2FkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBBdXRoZW50aWNhdGlvblJlcXVlc3QubG9naW47CiAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCB0cnVlKTsKICAgIHJldHVybiBBdXRoU2VydmljZS5jYWxsUmVzZXRUZXJtaW5hbFBpbkFwaShwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgIHZhciByZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICBpZiAocmVzcG9uc2VEYXRhLnJlc3BvbnNlQ29kZSA9PT0gIjAwIikgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlRGF0YSk7CiAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICB0ZXh0OiByZXNwb25zZURhdGEucmVzcG9uc2VNZXNzYWdlLAogICAgICAgICAgaWNvbjogJ3N1Y2VzcycKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICB0ZXh0OiByZXNwb25zZURhdGEucmVzcG9uc2VNZXNzYWdlLAogICAgICAgICAgaWNvbjogJ2Vycm9yJwogICAgICAgIH0pOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICBUb2FzdC5maXJlKHsKICAgICAgICB0ZXh0OiBlcnJvciwKICAgICAgICBpY29uOiAiZXJyb3IiCiAgICAgIH0pOwogICAgfSk7CiAgfSwKICB0ZXJtaW5hbExvZ291dDogZnVuY3Rpb24gdGVybWluYWxMb2dvdXQoX3JlZjcpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQsCiAgICAgIHN0YXRlID0gX3JlZjcuc3RhdGUsCiAgICAgIGRpc3BhdGNoID0gX3JlZjcuZGlzcGF0Y2gsCiAgICAgIGdldHRlcnMgPSBfcmVmNy5nZXR0ZXJzOwogICAgdmFyIHBheWxvYWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IEF1dGhlbnRpY2F0aW9uUmVxdWVzdC5sb2dpbjsKICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIHRydWUpOwogICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmNhbGxUZXJtaW5hbExvZ091dEFwaShwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgIHZhciByZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICBpZiAocmVzcG9uc2VEYXRhLnJlc3BvbnNlQ29kZSA9PT0gIjAwIikgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlRGF0YSk7CiAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICB0ZXh0OiByZXNwb25zZURhdGEucmVzcG9uc2VNZXNzYWdlLAogICAgICAgICAgaWNvbjogJ3N1Y2VzcycKICAgICAgICB9KTsKICAgICAgfSBlbHNlIFRvYXN0LmZpcmUoewogICAgICAgIHRleHQ6IHJlc3BvbnNlRGF0YS5yZXNwb25zZU1lc3NhZ2UsCiAgICAgICAgaWNvbjogJ2Vycm9yJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgIH0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgdGV4dDogZXJyb3IsCiAgICAgICAgaWNvbjogImVycm9yIgogICAgICB9KTsKICAgIH0pOwogIH0sCiAgcmVzZW5kT3RwOiBmdW5jdGlvbiByZXNlbmRPdHAoX3JlZjgsIHBheWxvYWQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmOC5jb21taXQsCiAgICAgIGRpc3BhdGNoID0gX3JlZjguZGlzcGF0Y2gsCiAgICAgIHJvb3RTdGF0ZSA9IF9yZWY4LnJvb3RTdGF0ZSwKICAgICAgc3RhdGUgPSBfcmVmOC5zdGF0ZTsKICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIHRydWUpOwogICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmNhbGxSZXNlbmRPdHBBcGkocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgIH0pOwogIH0sCiAgcmV2YWxpZGF0ZVVzZXI6IGZ1bmN0aW9uIHJldmFsaWRhdGVVc2VyKF9yZWY5LCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjkuY29tbWl0LAogICAgICBkaXNwYXRjaCA9IF9yZWY5LmRpc3BhdGNoLAogICAgICByb290U3RhdGUgPSBfcmVmOS5yb290U3RhdGU7CiAgICBjb21taXQoInVwZGF0ZUxvZ2luTG9hZGluZyIsIHRydWUpOwogICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmNhbGxSZXZhbGlkYXRlQXBpKHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciByZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICBpZiAocmVzcG9uc2VEYXRhLnJlc3BvbnNlQ29kZSA9PT0gIjAwIikgewogICAgICAgIGlmIChyb3V0ZXIuY3VycmVudFJvdXRlLm1ldGEubGF5b3V0ID09PSAnYXV0aCcpIHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJHZXRTdGFydGVkIgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge30pOwogICAgICAgIGNvbW1pdCgidXBkYXRlVXNlckluZm8iLCByZXNwb25zZURhdGEpOwogICAgICAgIGNvbW1pdCgidXBkYXRlQWxsT3JnYW5pc2F0aW9uTGlzdCIsIHJlc3BvbnNlRGF0YS5vcmdhbmlzYXRpb25zKTsKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5wcmVmZXJlbmNlLnJlYWRQcmVmZXJlbmNlQnlJZCkudGhlbigpOwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmJpbGxzcGF5bWVudC51cGRhdGVDYXRlZ29yaWVzKTsKCiAgICAgICAgLy9yZWFkIGludml0ZXMKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5hdXRoLnJlYWRBbGxJbnZpdGVzKS50aGVuKCk7CiAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMua3ljVmVyaWZpY2F0aW9uLnJlYWRBbGxLeWMpOwoKICAgICAgICAvL3JlYWQgUm9sZXMKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5hdXRoLnJlYWRPcmdhbmlzYXRpb25Sb2xlcykudGhlbigpOwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLndhbGxldFRyYW5zYWN0aW9ucy51cGRhdGVBbGxXYWxsZXRUcmFuc2FjdGlvbnMpLnRoZW4oKTsKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5hdXRoLnJlYWREYXNoYm9hcmRTdGF0cykudGhlbigpOwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmRpc3B1dGUudXBkYXRlRGlzcHV0ZXMpLnRoZW4oKTsKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy53YWxsZXRUcmFuc2FjdGlvbnMudXBkYXRlUmVhZEFsbFdhbGxldHMpLnRoZW4oKTsKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy52aXJ0dWFsQWNjb3VudC51cGRhdGVWaXJ0dWFsQWNjb3VudCk7CgogICAgICAgIC8vY2xlYXIgY29uc29sZQogICAgICAgIC8vQ2FsbCBpbiByZWFkIGRvY3VtZW50cyBhY3Rpb25zCiAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuZG9jdW1lbnQucmVhZERvY3VtZW50KS50aGVuKCk7CgogICAgICAgIC8vQ2FsbCBpbiBiYW5rcyBwYXlvdXQgYWNjb3VudC8vCiAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuYWNjb3VudFBheW91dC5yZWFkQWRkZWRCYW5rcykudGhlbigpOwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLnZpcnR1YWxBY2NvdW50LnVwZGF0ZVJlYWRCYW5rTGlzdCkudGhlbigpOwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmF1dGgucmVhZE9yZ2FuaXNhdGlvbkJ5SWQpLnRoZW4oKTsKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5hdXRoLnJlYWRDdXN0b21lckJ5T3JnYW5pc2F0aW9uKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbW1pdCgidXBkYXRlTG9naW5Mb2FkaW5nIiwgZmFsc2UpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5yZXNwb25zZUNvZGUgPT09ICIxMTUiKSB7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVUaW1lZE91dCIsIHRydWUpOwogICAgICAgIGNvbW1pdCgidXBkYXRlTG9naW5Mb2FkaW5nIiwgZmFsc2UpOwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmF1dGgubG9nT3V0KTsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9naW5Mb2FkaW5nIiwgZmFsc2UpOwogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9KTsKICB9LAogIGNoYW5nZVBhc3N3b3JkOiBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZChfcmVmMTAsIHBheWxvYWQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMTAuY29tbWl0OwogICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgdHJ1ZSk7CiAgICByZXR1cm4gQXV0aFNlcnZpY2UuY2FsbENoYW5nZVBhc3N3b3JkQXBpKHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciByZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICBpZiAocmVzcG9uc2VEYXRhLnJlc3BvbnNlQ29kZSA9PSAiMDAiKSB7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgdGV4dDogcmVzcG9uc2VEYXRhLnJlc3BvbnNlTWVzc2FnZSwKICAgICAgICAgIGljb246ICJzdWNjZXNzIgogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgIHRleHQ6IHJlc3BvbnNlRGF0YS5yZXNwb25zZU1lc3NhZ2UsCiAgICAgICAgICBpY29uOiAiZXJyb3IiCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbG9nT3V0OiBmdW5jdGlvbiBsb2dPdXQoX3JlZjExLCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjExLmNvbW1pdCwKICAgICAgZGlzcGF0Y2ggPSBfcmVmMTEuZGlzcGF0Y2gsCiAgICAgIHJvb3RTdGF0ZSA9IF9yZWYxMS5yb290U3RhdGU7CiAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCB0cnVlKTsKICAgIHJldHVybiBBdXRoU2VydmljZS5jYWxsTG9nT3V0QXBpKHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY3VzdG9tZXJJZCcpOwogICAgICAvLyBsb2NhbFN0b3JhZ2UuY2xlYXIoKQogICAgICBjb21taXQoInVwZGF0ZUF1dGhUb2tlbiIsIG51bGwpOwogICAgICBjb21taXQoInVwZGF0ZVVzZXJJbmZvIiwgbnVsbCk7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgd2luZG93LmxvY2F0aW9uID0gIi8iOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgIH0pOwogIH0sCiAgaW5pdGlhdGVQYXNzd29yZFJlc2V0OiBmdW5jdGlvbiBpbml0aWF0ZVBhc3N3b3JkUmVzZXQoX3JlZjEyLCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjEyLmNvbW1pdDsKICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIHRydWUpOwogICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmNhbGxJbml0aWF0ZVBhc3N3b3JkUmVzZXRBcGkocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgaWYgKHJlc3BvbnNlRGF0YS5yZXNwb25zZUNvZGUgPT09ICIwMCIpIHsKICAgICAgICBjb21taXQoInVwZGF0ZVBhc3N3b3JkUmVzZXRTY3JlZW4iLCAnb3RwJyk7CiAgICAgIH0gZWxzZSBUb2FzdC5maXJlKHsKICAgICAgICB0ZXh0OiByZXNwb25zZURhdGEucmVzcG9uc2VNZXNzYWdlLAogICAgICAgIGljb246ICdlcnJvcicKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7fSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgfSk7CiAgfSwKICBjb21wbGV0ZVBhc3N3b3JkUmVzZXQ6IGZ1bmN0aW9uIGNvbXBsZXRlUGFzc3dvcmRSZXNldChfcmVmMTMsIHBheWxvYWQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMTMuY29tbWl0LAogICAgICBkaXNwYXRjaCA9IF9yZWYxMy5kaXNwYXRjaCwKICAgICAgcm9vdFN0YXRlID0gX3JlZjEzLnJvb3RTdGF0ZTsKICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIHRydWUpOwogICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmNhbGxDb21wbGV0ZVBhc3N3b3JkUmVzZXRBcGkocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgaWYgKHJlc3BvbnNlRGF0YS5yZXNwb25zZUNvZGUgPT09ICIwMCIpIHsKICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgIHRleHQ6IHJlc3BvbnNlRGF0YS5yZXNwb25zZU1lc3NhZ2UsCiAgICAgICAgICBpY29uOiAic3VjY2VzcyIKICAgICAgICB9KTsKICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAiTG9nb24iCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICB0ZXh0OiByZXNwb25zZURhdGEucmVzcG9uc2VNZXNzYWdlLAogICAgICAgICAgaWNvbjogJ2Vycm9yJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge30pOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcikKICAgIH0pOwogIH0sCgogIHVwZGF0ZVN0YWdlOiBmdW5jdGlvbiB1cGRhdGVTdGFnZShfcmVmMTQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMTQuY29tbWl0LAogICAgICBzdGF0ZSA9IF9yZWYxNC5zdGF0ZTsKICAgIHZhciBwYXlsYW9kID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBPcmdhbmlzYXRpb25SZXF1ZXN0LnN3aXRjaFN0YWdlOwogICAgY29tbWl0KCd1cGRhdGVMb2FkaW5nJywgdHJ1ZSk7CiAgICByZXR1cm4gT3JnYW5pemF0aW9uU2VydmljZS5jYWxsT3JnYW5pc2F0aW9uU3RhZ2VBcGkocGF5bGFvZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGlmIChyZXNwb25zZURhdGEucmVzcG9uc2VDb2RlID09PSAiMDAiKSB7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVTdGFnZSIsIHJlc3BvbnNlRGF0YS5kYXRhWzBdLm9yZ2FuaXNhdGlvblN0YWdlKTsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5yZXNwb25zZUNvZGUgPT09ICIxMTUiKSB7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVUaW1lZE91dCIsIHRydWUpOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcikKICAgIH0pOwogIH0sCgogIHVwZGF0ZU9yZ2FuaXNhdGlvbjogZnVuY3Rpb24gdXBkYXRlT3JnYW5pc2F0aW9uKF9yZWYxNSwgcGF5bG9hZCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYxNS5jb21taXQ7CiAgICBjb21taXQoJ3VwZGF0ZUxvYWRpbmcnLCB0cnVlKTsKICAgIHJldHVybiBPcmdhbml6YXRpb25TZXJ2aWNlLmNhbGxVcGRhdGVPcmdhbmlzYXRpb25BcGkocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGlmIChyZXNwb25zZURhdGEucmVzcG9uc2VDb2RlID09ICIwMCIpIHsKICAgICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVPcmdpbmFzYXRpb24iLCByZXNwb25zZURhdGEpOwogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgdGV4dDogcmVzcG9uc2VEYXRhLnJlc3BvbnNlTWVzc2FnZSwKICAgICAgICAgIGljb246ICdzdWNjZXNzJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge30pOwogICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5yZXNwb25zZUNvZGUgPT09ICIxMTUiKSB7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVUaW1lZE91dCIsIHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgIHRleHQ6IHJlc3BvbnNlRGF0YS5yZXNwb25zZU1lc3NhZ2UsCiAgICAgICAgICBpY29uOiAnZXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgIFRvYXN0LmZpcmUoewogICAgICAgIHRleHQ6IGVycm9yLAogICAgICAgIGljb246ICdlcnJvcicKICAgICAgfSk7CiAgICB9KTsKICB9LAogIHJlYWRSZWZmZXJhbFN0YXRlOiBmdW5jdGlvbiByZWFkUmVmZmVyYWxTdGF0ZShfcmVmMTYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMTYuY29tbWl0OwogICAgdmFyIHBheWxhb2QgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgdHJ1ZSk7CiAgICByZXR1cm4gT3JnYW5pemF0aW9uU2VydmljZS5jYWxsUmVmZmVyYWxTdGF0c0FwaShwYXlsYW9kKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgIHZhciByZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICBpZiAocmVzcG9uc2VEYXRhLnJlc3BvbnNlQ29kZSA9PSAiMDAiKSB7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVSZWZmZXJhbFN0YXRzIiwgcmVzcG9uc2VEYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZURhdGEucmVzcG9uc2VNZXNzYWdlKTsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgY29uc29sZS5sb2coZSk7CiAgICB9KTsKICB9LAogIHJlYWREYXNoYm9hcmRTdGF0czogZnVuY3Rpb24gcmVhZERhc2hib2FyZFN0YXRzKF9yZWYxNywgcGF5bG9hZCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYxNy5jb21taXQ7CiAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCB0cnVlKTsKICAgIHJldHVybiBXYWxsZXRTZXJ2aWNlLmNhbGxSZWFkQWxsV2FsbGV0YW5kUmVmZmVyYWxTdGF0c0FwaShwYXlsb2FkID0gV2FsbGV0UmVxdWVzdC5yZWFkQmFsYW5jZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UyKSB7CiAgICAgIHZhciByZXNwb25zZURhdGEyID0gcmVzcG9uc2UyLmRhdGE7CiAgICAgIGlmIChyZXNwb25zZURhdGEyLnJlc3BvbnNlQ29kZSA9PSAiMDAiKSB7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICAgIGNvbW1pdCgidXBkYXRlQmFsYW5jZSIsIHJlc3BvbnNlRGF0YTIpOwogICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YTIucmVzcG9uc2VDb2RlID09PSAiMTE1IikgewogICAgICAgIGNvbW1pdCgidXBkYXRlVGltZWRPdXQiLCB0cnVlKTsKICAgICAgfQogICAgfSk7CiAgfSwKICByZWFkT3JnYW5pc2F0aW9uQnlJZDogZnVuY3Rpb24gcmVhZE9yZ2FuaXNhdGlvbkJ5SWQoX3JlZjE4KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjE4LmNvbW1pdDsKICAgIHZhciBwYXlsb2FkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7CiAgICAgIG9yZ2FuaXNhdGlvbklkOiBsb2NhbFN0b3JhZ2Uub3JnYW5pc2F0aW9uSWQKICAgIH07CiAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCB0cnVlKTsKICAgIGNvbW1pdCgidXBkYXRlSXNTd2l0Y2hpbmciLCBmYWxzZSk7CiAgICByZXR1cm4gT3JnYW5pemF0aW9uU2VydmljZS5jYWxsUmVhZE9yZ2FuaXNhdGlvbkJ5SWRBcGkocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29tbWl0KCJ1cGRhdGVJc1N3aXRjaGluZyIsIGZhbHNlKTsKICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGlmIChyZXNwb25zZURhdGEucmVzcG9uc2VDb2RlID09PSAiMDAiKSB7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICAgIGNvbW1pdCgidXBkYXRlT3JnYW5pc2F0aW9uIiwgcmVzcG9uc2VEYXRhKTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZURhdGEpCiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2VEYXRhLnJlc3BvbnNlQ29kZSA9PT0gIjExNSIpIHsKICAgICAgICBjb21taXQoInVwZGF0ZVRpbWVkT3V0IiwgdHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgIH0pOwogIH0sCiAgYWRkT3JnYW5pc2F0aW9uOiBmdW5jdGlvbiBhZGRPcmdhbmlzYXRpb24oX3JlZjE5KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjE5LmNvbW1pdDsKICAgIHZhciBwYXlsb2FkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBPcmdhbmlzYXRpb25SZXF1ZXN0LmFkZE9yZ2FuaXNhdGlvbjsKICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIHRydWUpOwogICAgcmV0dXJuIE9yZ2FuaXphdGlvblNlcnZpY2UuY2FsbEFkZE9yZ2FuaXNhdGlvbkFwaShwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgIHZhciByZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICBpZiAocmVzcG9uc2VEYXRhLnJlc3BvbnNlQ29kZSA9PT0gIjAwIikgewogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgdGV4dDogcmVzcG9uc2VEYXRhLnJlc3BvbnNlTWVzc2FnZSwKICAgICAgICAgIGljb246ICdzdWNjZXNzJwogICAgICAgIH0pLnRoZW4oKTsKICAgICAgICBpZiAocm91dGVyLmN1cnJlbnRSb3V0ZS5uYW1lICE9PSAiR2V0U3RhcnRlZCIpIHsKICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogIkdldFN0YXJ0ZWQiCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgdGV4dDogcmVzcG9uc2VEYXRhLnJlc3BvbnNlTWVzc2FnZSwKICAgICAgICAgIGljb246ICdlcnJvcicKICAgICAgICB9KS50aGVuKCk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgdGl0bGU6IGUsCiAgICAgICAgaWNvbjogJ2Vycm9yJwogICAgICB9KS50aGVuKCk7CiAgICB9KTsKICB9LAogIHJlYWRPcmdhbmlzYXRpb25CeVVzZXJJZDogZnVuY3Rpb24gcmVhZE9yZ2FuaXNhdGlvbkJ5VXNlcklkKF9yZWYyMCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyMC5jb21taXQsCiAgICAgIHN0YXRlID0gX3JlZjIwLnN0YXRlOwogICAgdmFyIHBheWxvYWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IE9yZ2FuaXNhdGlvblJlcXVlc3QucmVhZE9yZ2FuaXNhdGlvbkJ5VXNlcklkOwogICAgY29tbWl0KCJ1cGRhdGVMb2dpbkxvYWRpbmciLCB0cnVlKTsKICAgIHBheWxvYWQuY3VzdG9tZXJJZCA9IGxvY2FsU3RvcmFnZS5jdXN0b21lcklkOwogICAgcmV0dXJuIE9yZ2FuaXphdGlvblNlcnZpY2UuY2FsbFJlYWRPcmdhbmlzYXRpb25CeVVzZXJJZEFwaShwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgaWYgKHJlc3BvbnNlRGF0YS5yZXNwb25zZUNvZGUgPT09ICIwMCIpIHsKICAgICAgICBjb21taXQoInVwZGF0ZUFsbE9yZ2FuaXNhdGlvbkxpc3QiLCByZXNwb25zZURhdGEuZGF0YSk7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVDdXJyZW50T3JnYW5pc2F0aW9uIiwgcmVzcG9uc2VEYXRhLmRhdGFbMF0pOwogICAgICAgIC8vIGlmIHVzZXIgaGF2ZSBvcmdhbmlzYXRpb24KICAgICAgICBpZiAoc3RhdGUuYWxsT3JnYW5pc2F0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBpZiAoIWxvY2FsU3RvcmFnZS5vcmdhbmlzYXRpb25JZCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uub3JnYW5pc2F0aW9uSWQgPSBzdGF0ZS5jdXJyZW50T3JnYW5pc2F0aW9uLm9yZ2FuaXNhdGlvbklkOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUuYWxsT3JnYW5pc2F0aW9ucy5maW5kKGl0ID0+IGl0Lm9yZ2FuaXNhdGlvbklkICkgPT09IGxvY2FsU3RvcmFnZS5vcmdhbmlzYXRpb25JZCkKICAgICAgICAgIH0KICAgICAgICAgIC8vIGlmIChzdGF0ZS5hbGxPcmdhbmlzYXRpb25zLmZpbHRlcihpdCA9PiBpdC5vcmdhbmlzYXRpb25JZCkgIT09IGxvY2FsU3RvcmFnZS5vcmdhbmlzYXRpb25JZCl7CiAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5vcmdhbmlzYXRpb25JZCkKICAgICAgICAgIC8vICAgY29uc29sZS5sb2coc3RhdGUuYWxsT3JnYW5pc2F0aW9ucy5maWx0ZXIoaXQgPT4gaXQub3JnYW5pc2F0aW9uSWQgPT09IGxvY2FsU3RvcmFnZS5vcmdhbmlzYXRpb25JZCkpCiAgICAgICAgICAvLyAgIC8vIGxvY2FsU3RvcmFnZS5vcmdhbmlzYXRpb25JZCA9IHN0YXRlLmN1cnJlbnRPcmdhbmlzYXRpb24ub3JnYW5pc2F0aW9uSWQKICAgICAgICAgIC8vIH1lbHNlewogICAgICAgICAgLy8gICBsb2NhbFN0b3JhZ2Uub3JnYW5pc2F0aW9uSWQgPSBzdGF0ZS5hbGxPcmdhbmlzYXRpb25zLmZpbHRlcihpdCA9PiBpdC5vcmdhbmlzYXRpb25JZCkKICAgICAgICAgIC8vICAgY29uc29sZS5sb2coc3RhdGUuYWxsT3JnYW5pc2F0aW9ucy5tYXAoaXRlbSA9PiBpdGVtLm9yZ2FuaXNhdGlvbklkKS5maWx0ZXIoaXQgPT4gaXQub3JnYW5pc2F0aW9uSWQpKQogICAgICAgICAgLy8gICBjb25zb2xlLmxvZygnaGVsbG8nKQogICAgICAgICAgLy8gfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICJBZGROZXdCdXNpbmVzcyIKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb21taXQoInVwZGF0ZUZvcm0iLCB0cnVlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5hdXRoLnJlYWREYXNoYm9hcmRTdGF0cyk7CgogICAgICAgIC8vcmVhZCB0cmFuc2FjdGlvbnMKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy53YWxsZXRUcmFuc2FjdGlvbnMudXBkYXRlQWxsV2FsbGV0VHJhbnNhY3Rpb25zKTsKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy52aXJ0dWFsQWNjb3VudC51cGRhdGVSZWFkQmFua0xpc3QpOwoKICAgICAgICAvL3JlYWQgdmlydHVhbEFjY291bnQKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy52aXJ0dWFsQWNjb3VudC51cGRhdGVWaXJ0dWFsQWNjb3VudCk7CgogICAgICAgIC8vcmVhZCB3YWxsZXRzCiAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMud2FsbGV0VHJhbnNhY3Rpb25zLnVwZGF0ZVJlYWRBbGxXYWxsZXRzKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbW1pdCgidXBkYXRlTG9naW5Mb2FkaW5nIiwgZmFsc2UpOwogICAgICAgIH0pOwoKICAgICAgICAvL3JlYWQgZGFzaGJvYXJkU3RhdHMKCiAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuYWNjb3VudFBheW91dC5yZWFkUGF5b3V0KTsKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5wcmVmZXJlbmNlLnJlYWRQcmVmZXJlbmNlQnlJZCk7CgogICAgICAgIC8vcmVhZCBpbnZpdGVzCiAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuYXV0aC5yZWFkQWxsSW52aXRlcykudGhlbigpOwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmJpbGxzcGF5bWVudC51cGRhdGVDYXRlZ29yaWVzKTsKCiAgICAgICAgLy9yZWFkIFJvbGVzCiAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuYXV0aC5yZWFkT3JnYW5pc2F0aW9uUm9sZXMpLnRoZW4oKTsKCiAgICAgICAgLy9yZWFkIGRpc3B1dGVzCiAgICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuZGlzcHV0ZS51cGRhdGVEaXNwdXRlcyk7CgogICAgICAgIC8vcmVhZCBreWMKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5reWNWZXJpZmljYXRpb24ucmVhZEFsbEt5YykudGhlbigpOwoKICAgICAgICAvL0NhbGwgaW4gcmVhZCBkb2N1bWVudHMgYWN0aW9ucwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmRvY3VtZW50LnJlYWREb2N1bWVudCkudGhlbigpOwoKICAgICAgICAvL0NhbGwgaW4gYmFua3MgcGF5b3V0IGFjY291bnQvLwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmFjY291bnRQYXlvdXQucmVhZEFkZGVkQmFua3MpLnRoZW4oKTsKCiAgICAgICAgLy9DYWxsIGluIGJhbmtzIGxpc3QvLwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLnZpcnR1YWxBY2NvdW50LnVwZGF0ZVJlYWRCYW5rTGlzdCkudGhlbigpOwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmF1dGgucmVhZE9yZ2FuaXNhdGlvbkJ5SWQpLnRoZW4oKTsKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5hdXRoLnJlYWRDdXN0b21lckJ5T3JnYW5pc2F0aW9uKS50aGVuKCk7CiAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIkdldFN0YXJ0ZWQiCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoc3RhdGUuY3VycmVudE9yZ2FuaXNhdGlvbi5vcmdhbmlzYXRpb25TdGF0dXMgPT09ICdQRU5ESU5HJykgewogICAgICAgICAgICBjb21taXQoInVwZGF0ZVJlbWluZGVyRm9ybSIsIHRydWUpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIC8vIGlmIHVzZXIgZG9lcyBub3QgaGF2ZSBhbnkgb3JnYW5pc2F0aW9uCiAgICAgIGVsc2UgewogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgdGV4dDogIiIuY29uY2F0KHJlc3BvbnNlRGF0YS5yZXNwb25zZU1lc3NhZ2UpLAogICAgICAgICAgaWNvbjogJ2Vycm9yJwogICAgICAgIH0pOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICBUb2FzdC5maXJlKHsKICAgICAgICB0ZXh0OiBlLAogICAgICAgIGljb246ICdlcnJvcicKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgfSk7CiAgfSwKICBpbnZpdGVDdXN0b21lcjogZnVuY3Rpb24gaW52aXRlQ3VzdG9tZXIoX3JlZjIxKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjIxLmNvbW1pdCwKICAgICAgZGlzcGF0Y2ggPSBfcmVmMjEuZGlzcGF0Y2g7CiAgICB2YXIgcGF5bG9hZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogT3JnYW5pc2F0aW9uUmVxdWVzdC5pbnZpdGVDdXN0b21lcjsKICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIHRydWUpOwogICAgcGF5bG9hZC5jdXN0b21lck9yZ2FuaXNhdGlvbklkID0gbG9jYWxTdG9yYWdlLm9yZ2FuaXNhdGlvbklkOwogICAgcmV0dXJuIE9yZ2FuaXphdGlvblNlcnZpY2UuY2FsbEludml0ZUN1c3RvbWVyQXBpKHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGlmIChyZXNwb25zZURhdGEucmVzcG9uc2VDb2RlID09PSAiMDAiKSB7CiAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICB0ZXh0OiAiWW91IGhhdmUgaW52aXRlZCAiLmNvbmNhdChwYXlsb2FkLmN1c3RvbWVyRW1haWwpLAogICAgICAgICAgaWNvbjogInN1Y2Nlc3MiCiAgICAgICAgfSk7CiAgICAgICAgT2JqZWN0LmtleXMoT3JnYW5pc2F0aW9uUmVxdWVzdC5pbnZpdGVDdXN0b21lcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICBPcmdhbmlzYXRpb25SZXF1ZXN0Lmludml0ZUN1c3RvbWVyW2tleV0gPSBudWxsOwogICAgICAgIH0pOwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmF1dGgucmVhZEFsbEludml0ZXMpOwogICAgICB9IGVsc2UgewogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgdGV4dDogcmVzcG9uc2VEYXRhLnJlc3BvbnNlTWVzc2FnZSwKICAgICAgICAgIGljb246ICJlcnJvciIKICAgICAgICB9KTsKICAgICAgICBPYmplY3Qua2V5cyhPcmdhbmlzYXRpb25SZXF1ZXN0Lmludml0ZUN1c3RvbWVyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIE9yZ2FuaXNhdGlvblJlcXVlc3QuaW52aXRlQ3VzdG9tZXJba2V5XSA9IG51bGw7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgdGV4dDogZSwKICAgICAgICBpY29uOiAiZXJyb3IiCiAgICAgIH0pOwogICAgfSk7CiAgfSwKICByZWFkQ3VzdG9tZXJCeU9yZ2FuaXNhdGlvbjogZnVuY3Rpb24gcmVhZEN1c3RvbWVyQnlPcmdhbmlzYXRpb24oX3JlZjIyKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjIyLmNvbW1pdCwKICAgICAgc3RhdGUgPSBfcmVmMjIuc3RhdGU7CiAgICB2YXIgcGF5bG9hZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogT3JnYW5pc2F0aW9uUmVxdWVzdC5yZWFkVXNlcnNCeU9yZ2FuaXNhdGlvbklkOwogICAgcGF5bG9hZC5vcmdhbmlzYXRpb25JZCA9IGxvY2FsU3RvcmFnZS5vcmdhbmlzYXRpb25JZDsKICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIHRydWUpOwogICAgcmV0dXJuIE9yZ2FuaXphdGlvblNlcnZpY2UuY2FsbFJlYWRVc2Vyc0J5T3JnYW5pc2F0aW9uSWRBcGkocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICB2YXIgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgaWYgKHJlc3BvbnNlRGF0YS5yZXNwb25zZUNvZGUgPT09ICIwMCIpIHsKICAgICAgICBjb21taXQoInVwZGF0ZUFsbEN1c3RvbWVyIiwgcmVzcG9uc2VEYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgIHRleHQ6IHJlc3BvbnNlRGF0YS5yZXNwb25zZU1lc3NhZ2UsCiAgICAgICAgICBpY29uOiAnZXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIGZhbHNlKTsKICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgdGV4dDogZSwKICAgICAgICBpY29uOiAiZXJyb3IiCiAgICAgIH0pOwogICAgfSk7CiAgfSwKICByZWFkT3JnYW5pc2F0aW9uUm9sZXM6IGZ1bmN0aW9uIHJlYWRPcmdhbmlzYXRpb25Sb2xlcyhfcmVmMjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMjMuY29tbWl0LAogICAgICBzdGF0ZSA9IF9yZWYyMy5zdGF0ZTsKICAgIHZhciBwYXlsb2FkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBPcmdhbmlzYXRpb25SZXF1ZXN0LnJlYWRPcmdhbmlzYXRpb25Sb2xlczsKICAgIHJldHVybiBPcmdhbml6YXRpb25TZXJ2aWNlLmNhbGxSZWFkUm9sZXNBcGkocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGlmIChyZXNwb25zZURhdGEucmVzcG9uc2VDb2RlID09PSAiMDAiKSB7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVPcmdhbmlzYXRpb25Sb2xlcyIsIHJlc3BvbnNlRGF0YS5kYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgIHRleHQ6ICIiLmNvbmNhdChyZXNwb25zZURhdGEucmVzcG9uc2VNZXNzYWdlLCAiIGluIHJlYWRpbmcgb3JnYW5pc2F0aW9uIHJvbGVzIiksCiAgICAgICAgICBpY29uOiAnZXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgcmVhZEFsbEludml0ZXM6IGZ1bmN0aW9uIHJlYWRBbGxJbnZpdGVzKF9yZWYyNCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyNC5jb21taXQ7CiAgICB2YXIgcGF5bG9hZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogT3JnYW5pc2F0aW9uUmVxdWVzdC5yZWFkSW52aXRlOwogICAgcGF5bG9hZC5pbnZpdGVPcmdhbmlzYXRpb25JZCA9IGxvY2FsU3RvcmFnZS5vcmdhbmlzYXRpb25JZDsKICAgIGNvbW1pdCgidXBkYXRlTG9hZGluZyIsIHRydWUpOwogICAgcmV0dXJuIE9yZ2FuaXphdGlvblNlcnZpY2UuY2FsbFJlYWRJbnZpdGUocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgZmFsc2UpOwogICAgICB2YXIgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgaWYgKHJlc3BvbnNlRGF0YS5yZXNwb25zZUNvZGUgPT09ICIwMCIpIHsKICAgICAgICBjb21taXQoInVwZGF0ZUFsbEludml0ZXMiLCByZXNwb25zZURhdGEuZGF0YSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29tbWl0KCJ1cGRhdGVBbGxJbnZpdGVzIiwgW10pOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgfSk7CiAgfSwKICB1cGRhdGVVc2VyOiBmdW5jdGlvbiB1cGRhdGVVc2VyKF9yZWYyNSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyNS5jb21taXQ7CiAgICB2YXIgcGF5bG9hZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogT3JnYW5pc2F0aW9uUmVxdWVzdC51cGRhdGVPcmdhbmlzYXRpb25Vc2VyOwogICAgcGF5bG9hZC5jdXN0b21lck9yZ2FuaXNhdGlvbklkID0gbG9jYWxTdG9yYWdlLm9yZ2FuaXNhdGlvbklkOwogICAgY29tbWl0KCJ1cGRhdGVMb2FkaW5nIiwgdHJ1ZSk7CiAgICByZXR1cm4gT3JnYW5pemF0aW9uU2VydmljZS5jYWxsVXBkYXRlT3JnYW5pc2F0aW9uVXNlckFwaShwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgIHZhciByZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICBpZiAocmVzcG9uc2VEYXRhLnJlc3BvbnNlQ29kZSA9PT0gIjAwIikgewogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmF1dGgucmVhZEN1c3RvbWVyQnlPcmdhbmlzYXRpb24pOwogICAgICAgIGNvbW1pdCgidXBkYXRlVXNlckVkaXRGb3JtIiwgZmFsc2UpOwogICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgdGV4dDogcmVzcG9uc2VEYXRhLnJlc3BvbnNlTWVzc2FnZSwKICAgICAgICAgIGljb246ICdzdWNjZXNzJwogICAgICAgIH0pOwogICAgICAgIE9iamVjdC5rZXlzKE9yZ2FuaXNhdGlvblJlcXVlc3QudXBkYXRlT3JnYW5pc2F0aW9uVXNlcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICBPcmdhbmlzYXRpb25SZXF1ZXN0LnVwZGF0ZU9yZ2FuaXNhdGlvblVzZXJba2V5XSA9IG51bGw7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgVG9hc3QuZmlyZSh7CiAgICAgICAgICB0ZXh0OiByZXNwb25zZURhdGEucmVzcG9uc2VNZXNzYWdlLAogICAgICAgICAgaWNvbjogImVycm9yIgogICAgICAgIH0pLnRoZW4oKTsKICAgICAgICBPYmplY3Qua2V5cyhPcmdhbmlzYXRpb25SZXF1ZXN0LnVwZGF0ZU9yZ2FuaXNhdGlvblVzZXIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgT3JnYW5pc2F0aW9uUmVxdWVzdC51cGRhdGVPcmdhbmlzYXRpb25Vc2VyW2tleV0gPSBudWxsOwogICAgICAgIH0pOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICBjb21taXQoInVwZGF0ZUxvYWRpbmciLCBmYWxzZSk7CiAgICAgIFRvYXN0LmZpcmUoewogICAgICAgIHRleHQ6IGUsCiAgICAgICAgaWNvbjogImVycm9yIgogICAgICB9KS50aGVuKCk7CiAgICB9KTsKICB9Cn07"},{"version":3,"names":["AuthService","CustomerService","router","AuthenticationRequest","Swal","OrganisationRequest","OrganizationService","AuthenticationResponse","WalletRequest","WalletResponse","WalletService","OrganisationResponse","StoreUtils","BillsPaymentRequest","AccountPayoutService","AccountPayoutResponse","AccountPayoutRequest","GetStarted","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","state","form","isSwitching","userEditForm","token","loading","showBalance","loginLoading","userInfo","login","addedBanks","readPayoutAccountByOrganisationId","screen","allOrganisations","passwordResetScreen","readOrganisation","readOrganisationById","balances","readBalanceWallet","refferalstats","refferalStatsResponse","isTimedOut","readOnlyAddedBanks","readOrganisationByUserId","currentOrganisation","allCustomers","organisationRoles","allInvites","singleOrganisationUser","reminderForm","darkMode","searchLoading","getters","getUserInfo","getCustomerId","customerId","getToken","getUserToken","localStorage","getOrganizationId","organisationId","getCurrentOrganization","filter","it","toString","length","getOrginizationReferralLink","organisationReferralCode","getStage","organisationStage","mutations","updateSingleOrganisationUser","payload","updateForm","updateDarkMode","updateReminderForm","updateShowBalance","updateUserEditForm","updateLoading","updateTimedOut","updateToken","updateUserInfo","updateScreen","updatePasswordResetScreen","updateOrganisation","updateBalance","updateRefferalStats","updateAddedBanks","updatereadAddedBanks","updateAllOrganisation","updateAllOrganisationList","updateCurrentOrganisation","updateAllCustomer","updateOrganisationRoles","updateAllInvites","updateIsSwitching","updateLoginLoading","updateSearchLoading","actions","initialEnrollment","_ref","commit","arguments","undefined","initiateEnrollment","callInitiateEnrollmentApi","then","response","responseData","data","responseCode","fire","text","responseMessage","icon","catch","error","completeEnrollment","_ref2","callCompleteEnrollmentApi","push","name","createCustomer","_ref3","createCustomerRequest","callCreateCustomerApi","validateLink","_ref4","validateCustomerLinkRequest","callValidateLinkApi","logon","_ref5","dispatch","source","callLogonApi","auth","resetTerminalPin","_ref6","callResetTerminalPinApi","console","log","terminalLogout","_ref7","callTerminalLogOutApi","resendOtp","_ref8","rootState","callResendOtpApi","revalidateUser","_ref9","callRevalidateApi","currentRoute","meta","layout","organisations","preference","readPreferenceById","billspayment","updateCategories","readAllInvites","kycVerification","readAllKyc","readOrganisationRoles","walletTransactions","updateAllWalletTransactions","readDashboardStats","dispute","updateDisputes","updateReadAllWallets","virtualAccount","updateVirtualAccount","document","readDocument","accountPayout","readAddedBanks","updateReadBankList","readCustomerByOrganisation","logOut","changePassword","_ref10","callChangePasswordApi","_ref11","callLogOutApi","removeItem","window","location","initiatePasswordReset","_ref12","callInitiatePasswordResetApi","completePasswordReset","_ref13","callCompletePasswordResetApi","updateStage","_ref14","paylaod","switchStage","callOrganisationStageApi","reload","_ref15","callUpdateOrganisationApi","readRefferalState","_ref16","callRefferalStatsApi","e","_ref17","callReadAllWalletandRefferalStatsApi","readBalance","response2","responseData2","_ref18","callReadOrganisationByIdApi","addOrganisation","_ref19","callAddOrganisationApi","title","_ref20","callReadOrganisationByUserIdApi","readPayout","organisationStatus","concat","inviteCustomer","_ref21","customerOrganisationId","callInviteCustomerApi","customerEmail","Object","keys","forEach","key","_ref22","readUsersByOrganisationId","callReadUsersByOrganisationIdApi","_ref23","callReadRolesApi","_ref24","readInvite","inviteOrganisationId","callReadInvite","updateUser","_ref25","updateOrganisationUser","callUpdateOrganisationUserApi"],"sources":["/Users/clark/Desktop/business.corestep.com/src/store/modules/auth.js"],"sourcesContent":["import AuthService from \"../../service/AuthService\";\nimport CustomerService from \"../../service/CustomerService\";\nimport router from \"../../router\";\nimport AuthenticationRequest from \"../../model/request/AuthRequest\";\nimport Swal from \"sweetalert2\";\nimport OrganisationRequest from \"../../model/request/OrganisationRequest\";\nimport OrganizationService from \"../../service/OrganizationService\";\nimport AuthenticationResponse from \"../../model/reponse/AuthenticationResponse\";\nimport WalletRequest from \"../../model/request/WalletRequest\";\nimport WalletResponse from \"../../model/reponse/WalletResponse\";\nimport WalletService from \"../../service/WalletService\";\nimport OrganisationResponse from \"../../model/reponse/OrganisationResponse\";\nimport StoreUtils from \"@/util/baseUtils/StoreUtils\";\nimport BillsPaymentRequest from \"@/model/request/BillsPaymentRequest\";\nimport AccountPayoutService from \"../../service/AccountPayoutService\";\nimport AccountPayoutResponse from \"../../model/reponse/AccountPayoutResponse\";\nimport AccountPayoutRequest from \"../../model/request/AccountPayoutRequest\";\nimport GetStarted from \"../../views/dashboard/GetStarted\";\n\n\nconst Toast = Swal.mixin({\n  toast: true,\n  position: \"top-end\",\n  showConfirmButton: false,\n  timer: 5000,\n  timerProgressBar: true,\n  didOpen: (toast) => {\n    toast.addEventListener(\"mouseenter\", Swal.stopTimer);\n    toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\n  },\n});\n\n\nexport const state = {\n  form:false,\n  isSwitching:false,\n  userEditForm:false,\n  token: null,\n  loading: false,\n  showBalance:false,\n  loginLoading:false,\n  userInfo: AuthenticationResponse.login,\n  addedBanks:AccountPayoutResponse.readPayoutAccountByOrganisationId,\n  screen: \"register\",\n  allOrganisations:[],\n  passwordResetScreen: \"email\",\n  readOrganisation: OrganisationResponse.readOrganisationById,\n  balances:WalletResponse.readBalanceWallet,\n  refferalstats:OrganisationResponse.refferalStatsResponse,\n  isTimedOut:false,\n  readOnlyAddedBanks:{},\n  readOrganisationByUserId:{},\n  currentOrganisation:[],\n  allCustomers:null,\n  organisationRoles:null,\n  allInvites:null,\n  singleOrganisationUser:null,\n  reminderForm:false,\n  darkMode:'false',\n  searchLoading:false\n\n}\n\nexport const getters = {\n  getUserInfo: state => { return state.userInfo },\n  getCustomerId: state => {return state.userInfo.customerId},\n  getToken: state => { return state.token },\n  getUserToken: state => { return localStorage.token },\n  getOrganizationId: state => { return localStorage.organisationId },\n  getCurrentOrganization: state => {\n    if (state.allOrganisations == null) return {}\n    return state.allOrganisations.filter(it => it.organisationId.toString() === localStorage.organisationId).length < 1\n        ? {}\n        : state.allOrganisations.filter(it => it.organisationId.toString() === localStorage.organisationId)[0]\n  },\n  getOrginizationReferralLink: (state, getters) => {\n    return getters.getCurrentOrganization.organisationReferralCode\n  },\n  getStage: (state, getters) => {\n    return getters.getCurrentOrganization.organisationStage\n  }\n}\n\nexport const mutations = {\n  updateSingleOrganisationUser: (state, payload) => {state.singleOrganisationUser = payload},\n  updateForm: (state, payload) => {state.form = payload},\n  updateDarkMode: (state, payload) => {state.darkMode = payload},\n  updateReminderForm: (state, payload) => {state.reminderForm = payload},\n  updateShowBalance:(state,payload) => {state.showBalance = payload},\n  updateUserEditForm: (state, payload) => {state.userEditForm = payload},\n  updateLoading: (state, payload) => { state.loading = payload },\n  updateTimedOut: (state, payload) => { state.isTimedOut = payload },\n  updateToken: (state, payload) => { state.token = payload },\n  updateUserInfo: (state, payload) => { state.userInfo = payload; },\n  updateScreen: (state, payload) => { state.screen = payload; },\n  updatePasswordResetScreen: (state, payload) => { state.passwordResetScreen = payload; },\n  updateOrganisation: (state, payload) => { state.readOrganisation = payload },\n  updateBalance:(state, payload) => {state.balances = payload},\n  updateRefferalStats:(state, payload) => {state.refferalstats = payload},\n  updateAddedBanks: (state, payload) => {state.addedBanks = payload},\n  updatereadAddedBanks: (state, payload) => {state.readOnlyAddedBanks = payload},\n  updateAllOrganisation:(state, payload) => {state.readOrganisationByUserId = payload},\n  updateAllOrganisationList:(state, payload) => {state.allOrganisations = payload},\n  updateCurrentOrganisation:(state, payload) => {state.currentOrganisation = payload},\n  updateAllCustomer:(state, payload) => {state.allCustomers = payload},\n  updateOrganisationRoles:(state, payload) =>{state.organisationRoles = payload},\n  updateAllInvites:(state, payload) => {state.allInvites = payload},\n  updateIsSwitching:(state, payload) => {state.isSwitching = payload},\n  updateLoginLoading:(state,payload) => {state.loginLoading = payload},\n  updateSearchLoading:(state,payload) => {state.searchLoading = payload}\n\n}\n\nexport const actions = {\n  initialEnrollment: ({ commit }, payload = AuthenticationRequest.initiateEnrollment) => {\n    commit(\"updateLoading\", true)\n    return AuthService.callInitiateEnrollmentApi(payload).then(response => {\n      let responseData = response.data;\n      commit(\"updateLoading\", false)\n      if (responseData.responseCode === \"00\") {\n        commit(\"updateScreen\", 'otp')\n      }\n      else {\n        Toast.fire({ text: responseData.responseMessage, icon: 'error', }).then(() => { })\n      }\n    }).catch((error) => {\n      commit(\"updateLoading\", false);\n    });\n  },\n\n  completeEnrollment: ({ commit }, payload = AuthenticationRequest.completeEnrollment) => {\n    commit(\"updateLoading\", true)\n    return AuthService.callCompleteEnrollmentApi(payload).then(response => {\n      let responseData = response.data;\n      commit(\"updateLoading\", false)\n      if (responseData.responseCode === \"00\") {\n        Toast.fire({ text: responseData.responseMessage, icon: 'success', })\n          .then(() => { router.push({ name: \"Logon\" }) })\n      } else {\n        Toast.fire({ text: responseData.responseMessage, icon: 'error', }).then(() => { })\n      }\n    }).catch((error) => {\n      commit(\"updateLoading\", false);\n    });\n  },\n\n  createCustomer: ({ commit }, payload = AuthenticationRequest.createCustomerRequest) => {\n    // console.log(\"Action\")\n    // console.log(payload)\n    commit(\"updateLoading\", true)\n    return CustomerService.callCreateCustomerApi(payload).then(response => {\n      let responseData = response.data;\n      commit(\"updateLoading\", false)\n      if (responseData.responseCode === \"00\") {\n        Toast.fire({ text: \"You have successfully accepted the invite from your organisation\", icon: 'success', })\n          .then(() => { router.push({ name: \"Logon\" }) })\n      } else {\n        Toast.fire({ text: responseData.responseMessage, icon: 'error', }).then(() => { })\n      }\n    }).catch((error) => {\n      commit(\"updateLoading\", false);\n    });\n  },\n\n  validateLink: ({ commit }, payload = AuthenticationRequest.validateCustomerLinkRequest) => {\n    // console.log(\"Action\")\n    // console.log(payload)\n    commit(\"updateLoading\", true)\n    return CustomerService.callValidateLinkApi(payload).then(response => {\n      let responseData = response.data;\n      commit(\"updateLoading\", false)\n      if (responseData.responseCode === \"00\") {\n        Toast.fire({ text: responseData.responseMessage, icon: 'success', })\n          .then(() => { router.push({ name: \"Logon\" }) })\n      }else if (responseData.responseCode === \"01\") {\n         router.push({ name: \"SignUpUser\" });\n      } else {\n        Toast.fire({ text: responseData.responseMessage, icon: 'error', }).then(() => {\n          router.push({ name: \"Logon\" })\n        })\n      }\n    }).catch((error) => {\n      commit(\"updateLoading\", false);\n    });\n  },\n\n  logon: ({ commit, state, dispatch,getters }, payload = AuthenticationRequest.login) => {\n    commit(\"updateLoading\", true)\n    payload.source = \"WEB\"\n    return AuthService.callLogonApi(payload).then(response => {\n        commit(\"updateLoading\", false)\n        let responseData = response.data;\n        if (responseData.responseCode === \"00\") {\n            localStorage.token = responseData.token;\n            localStorage.customerId = responseData.customerId\n            commit(\"updateToken\", responseData.token);\n            commit(\"updateUserInfo\", responseData);\n            StoreUtils.dispatch(StoreUtils.actions.auth.readOrganisationByUserId)\n        }\n        else Toast.fire({ text: responseData.responseMessage, icon: 'error', }).then(() => {\n          commit(\"updateLoading\", false)\n        })\n      }).catch((error) => {\n        commit(\"updateLoading\", false);\n        Toast.fire({text:error, icon:\"error\"})\n      });\n  },\n\n  resetTerminalPin: ({ commit, state, dispatch,getters }, payload = AuthenticationRequest.login) => {\n    commit(\"updateLoading\", true)\n    return AuthService.callResetTerminalPinApi(payload).then(response => {\n        commit(\"updateLoading\", false)\n        let responseData = response.data;\n        if (responseData.responseCode === \"00\") {\n            console.log(responseData)\n            Toast.fire({ text: responseData.responseMessage, icon: 'sucess', })\n        }\n        else {\n          commit(\"updateLoading\", false)\n          Toast.fire({ text: responseData.responseMessage, icon: 'error', })\n        }\n      }).catch((error) => {\n        commit(\"updateLoading\", false);\n        Toast.fire({text:error, icon:\"error\"})\n      });\n  },\n\n  terminalLogout: ({ commit, state, dispatch,getters }, payload = AuthenticationRequest.login) => {\n    commit(\"updateLoading\", true)\n    return AuthService.callTerminalLogOutApi(payload).then(response => {\n        commit(\"updateLoading\", false)\n        let responseData = response.data;\n        if (responseData.responseCode === \"00\") {\n            console.log(responseData)\n            Toast.fire({ text: responseData.responseMessage, icon: 'sucess', })\n\n        }\n        else Toast.fire({ text: responseData.responseMessage, icon: 'error', }).then(() => {\n          commit(\"updateLoading\", false)\n        })\n      }).catch((error) => {\n        commit(\"updateLoading\", false);\n        Toast.fire({text:error, icon:\"error\"})\n      });\n  },\n\n  resendOtp: ({ commit, dispatch, rootState, state }, payload) => {\n    commit(\"updateLoading\", true)\n    return AuthService.callResendOtpApi(payload).then(response => {\n      commit(\"updateLoading\", false)\n    }).catch((error) => {\n      commit(\"updateLoading\", false);\n    });\n  },\n\n  revalidateUser: ({ commit, dispatch, rootState }, payload) => {\n    commit(\"updateLoginLoading\", true)\n    return AuthService.callRevalidateApi(payload).then(response => {\n      let responseData = response.data\n      if (responseData.responseCode === \"00\") {\n        if (router.currentRoute.meta.layout === 'auth') router.push({ name: \"GetStarted\" }).then(() => { })\n\n            commit(\"updateUserInfo\", responseData)\n            commit(\"updateAllOrganisationList\",responseData.organisations)\n\n            StoreUtils.dispatch(StoreUtils.actions.preference.readPreferenceById).then()\n\n            StoreUtils.dispatch(StoreUtils.actions.billspayment.updateCategories)\n\n            //read invites\n            StoreUtils.dispatch(StoreUtils.actions.auth.readAllInvites).then()\n\n            StoreUtils.dispatch(StoreUtils.actions.kycVerification.readAllKyc)\n\n\n            //read Roles\n            StoreUtils.dispatch(StoreUtils.actions.auth.readOrganisationRoles).then()\n\n            StoreUtils.dispatch(StoreUtils.actions.walletTransactions.updateAllWalletTransactions).then();\n\n            StoreUtils.dispatch(StoreUtils.actions.auth.readDashboardStats).then()\n\n            StoreUtils.dispatch(StoreUtils.actions.dispute.updateDisputes).then();\n\n            StoreUtils.dispatch(StoreUtils.actions.walletTransactions.updateReadAllWallets).then();\n\n\n            StoreUtils.dispatch(StoreUtils.actions.virtualAccount.updateVirtualAccount);\n\n\n            //clear console\n            //Call in read documents actions\n            StoreUtils.dispatch(StoreUtils.actions.document.readDocument).then();\n\n            //Call in banks payout account//\n            StoreUtils.dispatch(StoreUtils.actions.accountPayout.readAddedBanks).then();\n\n            StoreUtils.dispatch(StoreUtils.actions.virtualAccount.updateReadBankList).then();\n\n            StoreUtils.dispatch(StoreUtils.actions.auth.readOrganisationById).then()\n\n            StoreUtils.dispatch(StoreUtils.actions.auth.readCustomerByOrganisation).then(() => {\n              commit(\"updateLoginLoading\", false)\n\n            })\n\n      }else if(responseData.responseCode === \"115\"){\n        commit(\"updateTimedOut\",true)\n        commit(\"updateLoginLoading\", false)\n        StoreUtils.dispatch(StoreUtils.actions.auth.logOut)\n\n      }\n    }).catch(error => {commit(\"updateLoginLoading\", false); console.log(error) })\n  },\n\n  changePassword:({commit}, payload) =>{\n    commit(\"updateLoading\", true)\n    return AuthService.callChangePasswordApi(payload).then((response)=>{\n      let responseData = response.data\n      if(responseData.responseCode == \"00\"){\n        commit(\"updateLoading\", false)\n        Toast.fire({text:responseData.responseMessage, icon:\"success\"})\n      }else{\n        commit(\"updateLoading\", false)\n        Toast.fire({text:responseData.responseMessage, icon:\"error\"})\n      }\n    })\n\n  },\n\n  logOut: ({ commit, dispatch, rootState }, payload) => {\n    commit(\"updateLoading\", true)\n    return AuthService.callLogOutApi(payload)\n      .then(() => {\n        commit(\"updateLoading\", false)\n        localStorage.removeItem(\"token\")\n        localStorage.removeItem('customerId')\n        // localStorage.clear()\n        commit(\"updateAuthToken\", null);\n        commit(\"updateUserInfo\", null);\n        commit(\"updateLoading\", false);\n        window.location = \"/\"\n      })\n      .catch((error) => {\n        commit(\"updateLoading\", false);\n      });\n  },\n\n  initiatePasswordReset: ({ commit }, payload) => {\n    commit(\"updateLoading\", true)\n    return AuthService.callInitiatePasswordResetApi(payload).then(response => {\n      let responseData = response.data;\n      commit(\"updateLoading\", false)\n      if (responseData.responseCode === \"00\") {\n        commit(\"updatePasswordResetScreen\", 'otp')\n      }\n      else Toast.fire({ text: responseData.responseMessage, icon: 'error', }).then(() => { })\n    }).catch((error) => {\n      commit(\"updateLoading\", false);\n    });\n  },\n\n  completePasswordReset: ({ commit, dispatch, rootState }, payload) => {\n    commit(\"updateLoading\", true)\n    return AuthService.callCompletePasswordResetApi(payload).then(response => {\n      let responseData = response.data;\n      commit(\"updateLoading\", false)\n      if (responseData.responseCode === \"00\") {\n        Toast.fire({text:responseData.responseMessage, icon:\"success\"})\n        router.push({ name: \"Logon\" }).then(() => { })\n      }\n      else {\n        Toast.fire({ text: responseData.responseMessage, icon: 'error', }).then(() => { })\n      }\n    }).catch((error) => {\n      commit(\"updateLoading\", false);\n      // console.log(error)\n    });\n  },\n\n  updateStage: ({ commit, state }, paylaod = OrganisationRequest.switchStage) => {\n    commit('updateLoading', true)\n    return OrganizationService.callOrganisationStageApi(paylaod).then(response => {\n      let responseData = response.data\n      if (responseData.responseCode === \"00\") {\n        commit(\"updateStage\", responseData.data[0].organisationStage)\n        window.location.reload()\n        commit(\"updateLoading\", false)\n      } else if (responseData.responseCode === \"115\") {\n        commit(\"updateTimedOut\", true)\n      }\n    })\n      .catch((error) => {\n        commit(\"updateLoading\", false);\n        // console.log(error)\n      });\n\n  },\n\n  updateOrganisation: ({ commit }, payload) => {\n    commit('updateLoading', true)\n    return OrganizationService.callUpdateOrganisationApi(payload).then(response => {\n      let responseData = response.data\n      if (responseData.responseCode == \"00\") {\n        commit(\"updateLoading\", false)\n        commit(\"updateOrginasation\", responseData)\n        Toast.fire({ text: responseData.responseMessage, icon: 'success', }).then(()=>{})\n      }else if (responseData.responseCode === \"115\") {\n        commit(\"updateTimedOut\", true)\n      }\n      else {\n        commit(\"updateLoading\", false)\n        Toast.fire({ text: responseData.responseMessage, icon: 'error', })\n      }\n    }).catch((error) => {\n      commit(\"updateLoading\", false)\n      Toast.fire({ text: error, icon: 'error', })\n\n    })\n\n  },\n\n  readRefferalState: ({commit}, paylaod={}) => {\n    commit(\"updateLoading\", true)\n    return OrganizationService.callRefferalStatsApi(paylaod).then(response => {\n      commit(\"updateLoading\", false)\n      let responseData = response.data\n      if(responseData.responseCode == \"00\"){\n        commit(\"updateRefferalStats\", responseData)\n      }else {\n        console.log(responseData.responseMessage)\n      }\n    }).catch(e => {\n      console.log(e)\n    })\n  },\n\n  readDashboardStats:({commit}, payload)=>{\n    commit(\"updateLoading\", true)\n    return WalletService.callReadAllWalletandRefferalStatsApi(payload = WalletRequest.readBalance).then((response2) =>{\n      let responseData2 = response2.data\n      if (responseData2.responseCode == \"00\"){\n        commit(\"updateLoading\", false)\n        commit(\"updateBalance\",responseData2)\n      }else if (responseData2.responseCode === \"115\") {\n        commit(\"updateTimedOut\", true)\n      }\n    })\n  },\n\n  readOrganisationById:({commit}, payload={organisationId:localStorage.organisationId}) => {\n    commit(\"updateLoading\", true)\n    commit(\"updateIsSwitching\", false)\n    return OrganizationService.callReadOrganisationByIdApi(payload).then((response) => {\n      commit(\"updateIsSwitching\", false)\n      let responseData = response.data\n      if(responseData.responseCode === \"00\"){\n        commit(\"updateLoading\", false)\n        commit(\"updateOrganisation\", responseData)\n        // console.log(responseData)\n      }else if (responseData.responseCode === \"115\") {\n        commit(\"updateTimedOut\", true)\n      }\n      else{\n         commit(\"updateLoading\", false)\n      }\n    }).catch(() => {\n       commit(\"updateLoading\", false)\n    })\n  },\n\n  addOrganisation: ({commit}, payload = OrganisationRequest.addOrganisation) => {\n    commit(\"updateLoading\", true)\n    return OrganizationService.callAddOrganisationApi(payload).then(response => {\n      commit(\"updateLoading\", false)\n      let responseData = response.data\n      if(responseData.responseCode === \"00\"){\n        Toast.fire({text:responseData.responseMessage, icon:'success'}).then()\n        if(router.currentRoute.name !== \"GetStarted\"){\n          router.push({name:\"GetStarted\"}).then(() => {\n            location.reload()\n          })\n        }else{\n          location.reload()\n        }\n\n      }else{\n        Toast.fire({text:responseData.responseMessage, icon:'error'}).then()\n      }\n    }).catch(e => {\n      commit(\"updateLoading\", false)\n      Toast.fire({title:e, icon:'error'}).then()\n\n    })\n  },\n\n  readOrganisationByUserId: ({commit,state}, payload = OrganisationRequest.readOrganisationByUserId)=> {\n    commit(\"updateLoginLoading\", true)\n    payload.customerId = localStorage.customerId\n    return OrganizationService.callReadOrganisationByUserIdApi(payload).then(response => {\n      let responseData = response.data\n      if(responseData.responseCode === \"00\") {\n        commit(\"updateAllOrganisationList\", responseData.data)\n        commit(\"updateCurrentOrganisation\", responseData.data[0])\n        // if user have organisation\n        if(state.allOrganisations.length > 0){\n          if (!localStorage.organisationId){\n              localStorage.organisationId = state.currentOrganisation.organisationId\n          }\n          else {\n            // console.log(state.allOrganisations.find(it => it.organisationId ) === localStorage.organisationId)\n            }\n            // if (state.allOrganisations.filter(it => it.organisationId) !== localStorage.organisationId){\n            //   console.log(localStorage.organisationId)\n            //   console.log(state.allOrganisations.filter(it => it.organisationId === localStorage.organisationId))\n            //   // localStorage.organisationId = state.currentOrganisation.organisationId\n            // }else{\n            //   localStorage.organisationId = state.allOrganisations.filter(it => it.organisationId)\n            //   console.log(state.allOrganisations.map(item => item.organisationId).filter(it => it.organisationId))\n            //   console.log('hello')\n            // }\n          } else{\n          router.push({name:\"AddNewBusiness\"}).then(() => {\n            commit(\"updateForm\", true)\n          })\n        }\n\n          StoreUtils.dispatch(StoreUtils.actions.auth.readDashboardStats)\n\n\n          //read transactions\n          StoreUtils.dispatch(StoreUtils.actions.walletTransactions.updateAllWalletTransactions)\n\n          StoreUtils.dispatch(StoreUtils.actions.virtualAccount.updateReadBankList);\n\n          //read virtualAccount\n          StoreUtils.dispatch(StoreUtils.actions.virtualAccount.updateVirtualAccount);\n\n\n          //read wallets\n          StoreUtils.dispatch(StoreUtils.actions.walletTransactions.updateReadAllWallets).then(() => {\n            commit(\"updateLoginLoading\", false)\n          })\n\n          //read dashboardStats\n\n          StoreUtils.dispatch(StoreUtils.actions.accountPayout.readPayout)\n\n\n          StoreUtils.dispatch(StoreUtils.actions.preference.readPreferenceById)\n\n          //read invites\n          StoreUtils.dispatch(StoreUtils.actions.auth.readAllInvites).then()\n\n          StoreUtils.dispatch(StoreUtils.actions.billspayment.updateCategories)\n\n          //read Roles\n          StoreUtils.dispatch(StoreUtils.actions.auth.readOrganisationRoles).then()\n\n          //read disputes\n          StoreUtils.dispatch(StoreUtils.actions.dispute.updateDisputes);\n\n          //read kyc\n          StoreUtils.dispatch(StoreUtils.actions.kycVerification.readAllKyc).then()\n\n\n        //Call in read documents actions\n          StoreUtils.dispatch(StoreUtils.actions.document.readDocument).then();\n\n\n          //Call in banks payout account//\n          StoreUtils.dispatch(StoreUtils.actions.accountPayout.readAddedBanks).then();\n\n          //Call in banks list//\n          StoreUtils.dispatch(StoreUtils.actions.virtualAccount.updateReadBankList).then();\n\n\n          StoreUtils.dispatch(StoreUtils.actions.auth.readOrganisationById).then()\n\n\n          StoreUtils.dispatch(StoreUtils.actions.auth.readCustomerByOrganisation).then()\n\n\n        router.push({name:\"GetStarted\"}).then(() => {\n          if(state.currentOrganisation.organisationStatus === 'PENDING'){\n            commit(\"updateReminderForm\", true)\n          }\n        })\n      }\n      // if user does not have any organisation\n\n      else{\n        Toast.fire({text:`${responseData.responseMessage}`, icon:'error'})\n      }\n    }).catch(e => {\n      Toast.fire({text:e, icon:'error'})\n      console.log(e)\n    })\n  },\n\n  inviteCustomer: ({commit, dispatch}, payload = OrganisationRequest.inviteCustomer) => {\n    commit(\"updateLoading\", true)\n    payload.customerOrganisationId = localStorage.organisationId\n    return OrganizationService.callInviteCustomerApi(payload).then(response => {\n      commit(\"updateLoading\", false)\n      let responseData = response.data\n      if(responseData.responseCode === \"00\"){\n        Toast.fire({text:`You have invited ${payload.customerEmail}`, icon:\"success\"})\n        Object.keys(OrganisationRequest.inviteCustomer).forEach(key => {\n          OrganisationRequest.inviteCustomer[key] = null\n        })\n        StoreUtils.dispatch(StoreUtils.actions.auth.readAllInvites)\n      }else{\n        Toast.fire({text:responseData.responseMessage, icon:\"error\"})\n        Object.keys(OrganisationRequest.inviteCustomer).forEach(key => {\n          OrganisationRequest.inviteCustomer[key] = null\n        })\n      }\n    }).catch(e => {\n      commit(\"updateLoading\", false)\n      Toast.fire({text:e, icon:\"error\"})\n    })\n  },\n\n  readCustomerByOrganisation:({commit, state}, payload=OrganisationRequest.readUsersByOrganisationId)=> {\n    payload.organisationId = localStorage.organisationId\n    commit(\"updateLoading\", true)\n    return OrganizationService.callReadUsersByOrganisationIdApi(payload).then(response => {\n      commit(\"updateLoading\", false)\n      let responseData = response.data\n      if(responseData.responseCode === \"00\"){\n        commit(\"updateAllCustomer\", responseData)\n      }else{\n        Toast.fire({text:responseData.responseMessage, icon:'error'})\n      }\n    }).catch(e => {\n      commit(\"updateLoading\", false)\n      Toast.fire({text:e, icon:\"error\"})\n    })\n  },\n\n  readOrganisationRoles:({commit,state}, payload = OrganisationRequest.readOrganisationRoles)=> {\n    return OrganizationService.callReadRolesApi(payload).then(response => {\n      let responseData = response.data\n      if(responseData.responseCode === \"00\"){\n        commit(\"updateOrganisationRoles\",responseData.data)\n      }else{\n        Toast.fire({text:`${responseData.responseMessage} in reading organisation roles`, icon:'error'})\n      }\n    })\n  },\n\n  readAllInvites:({commit}, payload=OrganisationRequest.readInvite) => {\n    payload.inviteOrganisationId = localStorage.organisationId\n    commit(\"updateLoading\", true)\n    return OrganizationService.callReadInvite(payload).then(response => {\n      commit(\"updateLoading\", false)\n      let responseData = response.data\n      if(responseData.responseCode === \"00\"){\n        commit(\"updateAllInvites\", responseData.data)\n      }else{\n        commit(\"updateAllInvites\",[])\n      }\n    }).catch(e => {\n        commit(\"updateLoading\", false)\n        console.log(e)\n    })\n  },\n\n  updateUser:({commit}, payload = OrganisationRequest.updateOrganisationUser) => {\n    payload.customerOrganisationId = localStorage.organisationId\n    commit(\"updateLoading\", true)\n    return OrganizationService.callUpdateOrganisationUserApi(payload).then(response => {\n      commit(\"updateLoading\", false)\n      let responseData = response.data\n      if(responseData.responseCode === \"00\"){\n        StoreUtils.dispatch(StoreUtils.actions.auth.readCustomerByOrganisation)\n        commit(\"updateUserEditForm\", false)\n        Toast.fire({text:responseData.responseMessage, icon:'success'})\n        Object.keys(OrganisationRequest.updateOrganisationUser).forEach(key => {\n          OrganisationRequest.updateOrganisationUser[key] = null\n        })\n      }else{\n        Toast.fire({text:responseData.responseMessage, icon:\"error\"}).then()\n        Object.keys(OrganisationRequest.updateOrganisationUser).forEach(key => {\n          OrganisationRequest.updateOrganisationUser[key] = null\n        })\n      }\n    }).catch(e => {\n      commit(\"updateLoading\", false)\n      Toast.fire({text:e, icon:\"error\"}).then()\n\n    })\n\n  }\n\n}\n\n"],"mappings":"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"}]}