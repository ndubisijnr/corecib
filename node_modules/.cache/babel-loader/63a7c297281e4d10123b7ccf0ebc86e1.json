{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js!/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/form/PaybillsForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/form/PaybillsForm.vue","mtime":1684628079222},{"path":"/Users/clark/Desktop/business.corestep.com/babel.config.js","mtime":1683674085504},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NsYXJrL0Rlc2t0b3AvYnVzaW5lc3MuY29yZXN0ZXAuY29tL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IFN0b3JlVXRpbHMgZnJvbSAiQC91dGlsL2Jhc2VVdGlscy9TdG9yZVV0aWxzIjsKaW1wb3J0IEJpbGxzUGF5bWVudFJlcXVlc3QgZnJvbSAiQC9tb2RlbC9yZXF1ZXN0L0JpbGxzUGF5bWVudFJlcXVlc3QiOwppbXBvcnQgQXV0aGVudGljYXRpb25SZXNwb25zZSBmcm9tICJAL21vZGVsL3JlcG9uc2UvQXV0aGVudGljYXRpb25SZXNwb25zZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUGF5YmlsbHNGb3JtIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdHBheW1lbnRNb2RkZWw6IEJpbGxzUGF5bWVudFJlcXVlc3QucHJvZHVjdFBheW1lbnQsCiAgICAgIGN1c3RvbWVyRW5xTW9kZWw6IEJpbGxzUGF5bWVudFJlcXVlc3QuY3VzdG9tZXJFbnF1aXJ5LAogICAgICBhY3Rpb246IG51bGwsCiAgICAgIGNvZGU6IHRoaXMucHJvZHVjdENvZGUsCiAgICAgIGVtYWlsTW9kZWw6IEF1dGhlbnRpY2F0aW9uUmVzcG9uc2Uub3JnYW5pc2F0aW9uCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGJpbGxlckN1c3RvbWVySWRJbnB1dExhYmVsOiBTdHJpbmcsCiAgICBwcm9kdWN0QmlsbGVyQ29kZTogU3RyaW5nLAogICAgcHJvZHVjdENvZGU6IFN0cmluZywKICAgIHByb2R1Y3RQcmljZTogU3RyaW5nLAogICAgYmlsbGVySW1hZ2U6IFN0cmluZwogIH0sCiAgbWV0aG9kczogewogICAgY3VzdG9tZXJFbnE6IGZ1bmN0aW9uIGN1c3RvbWVyRW5xKHByb2R1Y3RfY29kZSwgYWN0aW9uKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIC8vY2hlY2tzIGlmIHVzZXJzIGlzIHVzaW5nIHRoZSB2YWxpZGF0ZQogICAgICBpZiAodGhpcy5hY3Rpb24gPT0gJ3ZhbGlkYXRlJykgewogICAgICAgIHRoaXMuY3VzdG9tZXJFbnFNb2RlbC5iaWxsZXJDb2RlID0gcHJvZHVjdF9jb2RlOwogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmJpbGxzcGF5bWVudC51cGRhdGVDdXN0b21lckVucSwgdGhpcy5jdXN0b21lckVucU1vZGVsKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChfdGhpcy5lcnJvcl9tc2cgPT0gJzAwJykgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic21hcnRjYXJkSW5wdXQiKS5zdHlsZS5ib3JkZXIgPSAic29saWQgZ3JlZW4iOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy9jaGVja3MgdG8ga25vdyB3aGF0IGVycm9yIHRvIGRpc3BsYXkgZWl0aGVyIHNtYXJ0IGNhcmQgb3IgbWV0ZXIgbnVtYmVyIG9yIGJldCBudW1iZXIgZXJyb3IKICAgICAgICAgICAgaWYgKHByb2R1Y3RfY29kZS5pbmNsdWRlcygnRUxFQ1RSSUMnKSkgewogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlcnIiKS5pbm5lckhUTUwgPSAiSW52YWxpZCBtZXRlciBudW1iZXIiOwogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbWFydGNhcmRJbnB1dCIpLnN0eWxlLmJvcmRlciA9ICJzb2xpZCByZWQiOwogICAgICAgICAgICB9IGVsc2UgaWYgKHByb2R1Y3RfY29kZS5pbmNsdWRlcygnQ0FCTEUnKSkgewogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlcnIiKS5pbm5lckhUTUwgPSAiSW52YWxpZCBzbWFydCBjYXJkIG51bWJlciI7CiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNtYXJ0Y2FyZElucHV0Iikuc3R5bGUuYm9yZGVyID0gInNvbGlkIHJlZCI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVyciIpLmlubmVySFRNTCA9ICJDb3VsZCBub3QgdmFsaWRhdGUgbnVtYmVyIjsKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic21hcnRjYXJkSW5wdXQiKS5zdHlsZS5ib3JkZXIgPSAic29saWQgcmVkIjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvL2NsZWFycyBlcnJvciB0ZXh0IG1ha2VzIGl0IGRpc2FwcGVhcgogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXJyIikuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vY2FsbHMgcGF5bWVudCBhcGkKICAgICAgICBpZiAocHJvZHVjdF9jb2RlLmluY2x1ZGVzKCdDQUJMRScpKSB7CiAgICAgICAgICB2YXIgcHJpY2UgPSB0aGlzLnByb2R1Y3RwYXltZW50TW9kZGVsLnByb2R1Y3RDb2RlLnNwbGl0KCIgIilbMF07CiAgICAgICAgICB2YXIgY29kZSA9IHRoaXMucHJvZHVjdHBheW1lbnRNb2RkZWwucHJvZHVjdENvZGUuc3BsaXQoIiAiKVsxXTsKICAgICAgICAgIHRoaXMucHJvZHVjdHBheW1lbnRNb2RkZWwuYW1vdW50ID0gcHJpY2U7CiAgICAgICAgICB0aGlzLnByb2R1Y3RwYXltZW50TW9kZGVsLnByb2R1Y3RDb2RlID0gY29kZTsKICAgICAgICAgIHRoaXMucHJvZHVjdHBheW1lbnRNb2RkZWwuYmlsbGVyQ3VzdG9tZXJJZCA9IHRoaXMuY3VzdG9tZXJFbnFNb2RlbC5iaWxsZXJDdXN0b21lcklkOwogICAgICAgICAgdGhpcy5wcm9kdWN0cGF5bWVudE1vZGRlbC5yZWZlcmVuY2UgPSAiQklaR0VNLSIuY29uY2F0KHRoaXMucmVmZXJlbmNlKDMwKSk7CiAgICAgICAgICB0aGlzLnByb2R1Y3RwYXltZW50TW9kZGVsLmVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yZ2FuaXNhdGlvbkVtYWlsJykudmFsdWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucHJvZHVjdHBheW1lbnRNb2RkZWwuYmlsbGVyQ3VzdG9tZXJJZCA9IHRoaXMuY3VzdG9tZXJFbnFNb2RlbC5iaWxsZXJDdXN0b21lcklkOwogICAgICAgICAgdGhpcy5wcm9kdWN0cGF5bWVudE1vZGRlbC5yZWZlcmVuY2UgPSAiQklaR0VNLSIuY29uY2F0KHRoaXMucmVmZXJlbmNlKDMwKSk7CiAgICAgICAgICB0aGlzLnByb2R1Y3RwYXltZW50TW9kZGVsLmVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yZ2FuaXNhdGlvbkVtYWlsJykudmFsdWU7CiAgICAgICAgfQoKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnByb2R1Y3RwYXltZW50TW9kZGVsKQogICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmJpbGxzcGF5bWVudC51cGRhdGVQYXltZW50LCB0aGlzLnByb2R1Y3RwYXltZW50TW9kZGVsKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmF1dGgucmVhZERhc2hib2FyZFN0YXRzKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNsZWFyRW5xOiBmdW5jdGlvbiBjbGVhckVucSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIE9iamVjdC5rZXlzKHRoaXMuY3VzdG9tZXJFbnF1aXJ5RGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5jdXN0b21lckVucXVpcnlEYXRhW2tleV0gPSBudWxsOwogICAgICB9KTsKICAgIH0sCiAgICBwYXltZW50OiBmdW5jdGlvbiBwYXltZW50KCkgewogICAgICBpZiAodGhpcy5wcm9kdWN0c1swXS5wcm9kdWN0QmlsbGVyQ29kZS5pbmNsdWRlcygnREFUQScpIHx8IHRoaXMucHJvZHVjdHNbMF0ucHJvZHVjdEJpbGxlckNvZGUuaW5jbHVkZXMoJ0NBQkxFX1RWJykpIHsKICAgICAgICB2YXIgcHJpY2UgPSB0aGlzLnByb2R1Y3RwYXltZW50TW9kZGVsLnByb2R1Y3RDb2RlLnNwbGl0KCIgIilbMF07CiAgICAgICAgdmFyIGNvZGUgPSB0aGlzLnByb2R1Y3RwYXltZW50TW9kZGVsLnByb2R1Y3RDb2RlLnNwbGl0KCIgIilbMV07CiAgICAgICAgdGhpcy5wcm9kdWN0cGF5bWVudE1vZGRlbC5hbW91bnQgPSBwcmljZTsKICAgICAgICB0aGlzLnByb2R1Y3RwYXltZW50TW9kZGVsLnByb2R1Y3RDb2RlID0gY29kZTsKICAgICAgICB0aGlzLnByb2R1Y3RwYXltZW50TW9kZGVsLmVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yZ2FuaXNhdGlvbkVtYWlsJykudmFsdWU7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9kdWN0c1swXS5wcm9kdWN0QmlsbGVyQ29kZS5pbmNsdWRlcygnQUlSVElNRScpKSB7CiAgICAgICAgdGhpcy5wcm9kdWN0cGF5bWVudE1vZGRlbC5wcm9kdWN0Q29kZSA9IHRoaXMucHJvZHVjdENvZGU7CiAgICAgIH0KICAgICAgdGhpcy5wcm9kdWN0cGF5bWVudE1vZGRlbC5yZWZlcmVuY2UgPSAiQklaR0VNLSIuY29uY2F0KHRoaXMucmVmZXJlbmNlKDMwKSk7CiAgICAgIHRoaXMucHJvZHVjdHBheW1lbnRNb2RkZWwuZW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JnYW5pc2F0aW9uRW1haWwnKS52YWx1ZTsKICAgICAgY29uc29sZS5sb2codGhpcy5wcm9kdWN0cGF5bWVudE1vZGRlbCk7CiAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmJpbGxzcGF5bWVudC51cGRhdGVQYXltZW50LCB0aGlzLnByb2R1Y3RwYXltZW50TW9kZGVsKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5hdXRoLnJlYWREYXNoYm9hcmRTdGF0cyk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlZmVyZW5jZTogZnVuY3Rpb24gcmVmZXJlbmNlKGxlbmd0aCkgewogICAgICB2YXIgcmVzdWx0ID0gIiI7CiAgICAgIHZhciBjaGFyYWN0ZXJzID0gJ2FiY2RlZmdoaWprbG1ub3BncnN0dXZ3eHl6QUJDREVGSkhJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5JzsKICAgICAgdmFyIGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIGNhdGVnb3JpZXM6IGZ1bmN0aW9uIGNhdGVnb3JpZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmJpbGxzcGF5bWVudC5jYXRlZ29yaWVzLmRhdGE7CiAgICB9LAogICAgYmlsbGVyczogZnVuY3Rpb24gYmlsbGVycyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYmlsbHNwYXltZW50LmJpbGxlcnMuZGF0YTsKICAgIH0sCiAgICBiaWxsZXJsb2FkaW5nOiBmdW5jdGlvbiBiaWxsZXJsb2FkaW5nKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5iaWxsc3BheW1lbnQuYmlsbGVyc2xvYWRpbmc7CiAgICB9LAogICAgY2F0ZWdvcnlsb2FkaW5nOiBmdW5jdGlvbiBjYXRlZ29yeWxvYWRpbmcoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmJpbGxzcGF5bWVudC5jYXRlZ29yaWVzbG9hZGluZzsKICAgIH0sCiAgICBwcm9kdWN0czogZnVuY3Rpb24gcHJvZHVjdHMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmJpbGxzcGF5bWVudC5wcm9kdWN0cy5kYXRhOwogICAgfSwKICAgIHBheW1lbnRMb2FkaW5nOiBmdW5jdGlvbiBwYXltZW50TG9hZGluZyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYmlsbHNwYXltZW50LnBheW1lbnRsb2FkaW5nOwogICAgfSwKICAgIGN1c3RvbWVyRW5xdWlyeURhdGE6IGZ1bmN0aW9uIGN1c3RvbWVyRW5xdWlyeURhdGEoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmJpbGxzcGF5bWVudC5jdXN0b21lckVucTsKICAgIH0sCiAgICBjdXN0b21lckVucXVpcnlMb2FkaW5nOiBmdW5jdGlvbiBjdXN0b21lckVucXVpcnlMb2FkaW5nKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5iaWxsc3BheW1lbnQuY3VzdG9tZXJFbnFsb2FkaW5nOwogICAgfSwKICAgIGVycm9yX21zZzogZnVuY3Rpb24gZXJyb3JfbXNnKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5iaWxsc3BheW1lbnQuZXJyb3JNc2c7CiAgICB9CiAgfSkpLCB7fSwgewogICAgY3VycmVudE9yZ2FuaXNhdGlvbjogZnVuY3Rpb24gY3VycmVudE9yZ2FuaXNhdGlvbigpIHsKICAgICAgcmV0dXJuIFN0b3JlVXRpbHMucm9vdEdldHRlcnMoU3RvcmVVdGlscy5nZXR0ZXJzLmF1dGguZ2V0Q3VycmVudE9yZ2FuaXphdGlvbik7CiAgICB9CiAgfSkKfTs="},{"version":3,"names":["mapState","StoreUtils","BillsPaymentRequest","AuthenticationResponse","name","data","productpaymentModdel","productPayment","customerEnqModel","customerEnquiry","action","code","productCode","emailModel","organisation","props","billerCustomerIdInputLabel","String","productBillerCode","productPrice","billerImage","methods","customerEnq","product_code","_this","billerCode","dispatch","actions","billspayment","updateCustomerEnq","then","error_msg","document","getElementById","style","border","includes","innerHTML","setTimeout","price","split","amount","billerCustomerId","reference","concat","email","value","updatePayment","auth","readDashboardStats","clearEnq","_this2","Object","keys","customerEnquiryData","forEach","key","payment","products","console","log","length","result","characters","charactersLength","i","charAt","Math","floor","random","computed","_objectSpread","categories","state","billers","billerloading","billersloading","categoryloading","categoriesloading","paymentLoading","paymentloading","customerEnquiryLoading","customerEnqloading","errorMsg","currentOrganisation","rootGetters","getters","getCurrentOrganization"],"sources":["src/components/form/PaybillsForm.vue"],"sourcesContent":["<template>\n    <div class=\"form\">\n      <div class=\"card-header\">\n        <img :src=\"billerImage\" width=\"40\" />\n      </div>\n      <!-- handle Cable TV, Electricity and Betting payment  -->\n        <div v-if=\"products[0].productBillerCode.includes('CABLE') || products[0].productBillerCode.includes('ELECTRIC') || products[0].productBillerCode.includes('BET')\">\n\n          <!-- handles customer enquiry  -->\n          <form @submit.prevent=\"customerEnq(product_code = products[0].productBillerCode)\">\n          <div class=\"card-body\">\n            <div>\n                  <!-- Smart card number and meter number -->\n                  <label v-if=\"products[0].productBillerCode.includes('CABLE') || products[0].productBillerCode.includes('ELECTRIC')\" class=\"small\">{{products[0].productBillerCode.includes('CABLE') ? 'Smart Card Number' : 'Meter Number' }}</label>\n                  <label v-else class=\"small\">Account ID</label>\n                  <b-input v-if=\"products[0].productBillerCode.includes('CABLE') || products[0].productBillerCode.includes('ELECTRIC')\" type=\"number\" :placeholder=\"products[0].productBillerCode.includes('ELECTRIC') ? 'Enter your meter number' :'Enter your smart card number'\" id=\"smartcardInput\" v-model=\"customerEnqModel.billerCustomerId\" :disabled=\"!Object.values(customerEnquiryData).every((o) => o === null)\" required></b-input>\n                  <b-input v-else type=\"number\" placeholder=\"Enter your Account Id number\" id=\"smartcardInput\" v-model=\"customerEnqModel.billerCustomerId\" :disabled=\"!Object.values(customerEnquiryData).every((o) => o === null)\" required></b-input>\n                  <span class=\"small\" v-if=\"!Object.values(customerEnquiryData).every((o) => o === null)\"><span class=\"small\">Customer:</span> <b>{{ customerEnquiryData.customerName }}</b> <br><span @click=\"clearEnq()\"><span class=\"text-primary\" style=\"cursor: pointer\">Not me?</span></span></span>\n            </div>\n            <p class=\"small text-danger\" id=\"err\"></p> <!-- shows customer enquiry error -->\n            <!-- end of customer enquiry area -->\n\n\n            <div v-if=\"!Object.values(customerEnquiryData).every((o) => o === null)\">\n              <div v-if=\"products[0].productBillerCode.includes('CABLE') || products[0].productBillerCode.includes('ELECTRIC')\">\n              <div v-if=\"products[0].productPrice !== 'VARIABLE'\">\n                <label class=\"small\">Select Plan</label>\n                <b-select v-if=\"products[0].productBillerCode.includes('CABLE') || products[0].productBillerCode.includes('DATA')\" v-model=\"productpaymentModdel.productCode\" required>\n                  <b-select-option  v-for=\"i in products\" :key=\"i\" :value=\"i.productPrice + ' ' + i.productCode\">{{i.productDescription}} @ {{i.productPrice | formatAmount}}</b-select-option>\n                </b-select>\n                <b-select v-else v-model=\"productpaymentModdel.productCode\">\n                  <b-select-option  v-for=\"i in products\" :key=\"i\" :value=\"i.productCode\">{{i.productCode}} @ {{i.productPrice | formatAmount}}</b-select-option>\n                </b-select>\n              </div>\n              <div v-if=\"products[0].productPrice === 'VARIABLE'\">\n                <div>\n                <label class=\"small\">Amount</label>\n                <b-input type=\"number\" required class=\"mb-2\" v-model=\"productpaymentModdel.amount\" />\n                </div>\n                <div>\n              <label class=\"small\">Select Option</label>\n              <b-select v-model=\"productpaymentModdel.productCode\">\n                <b-select-option  v-for=\"i in products\" :key=\"i\" :value=\"i.productCode\">{{i.productCode.replace('_', ' ') | titleCase}}</b-select-option>\n              </b-select>\n                </div>\n              </div>\n              <div class=\"mt-2\">\n                <label class=\"small\">Email</label>\n                <b-input type=\"email\" :value=\"currentOrganisation.organisationEmail\" id=\"organisationEmail\"></b-input>\n              </div>\n              <h6 class=\"small m-1\" v-if=\"products[0].productBillerCode.includes('ELECTRIC')\">Token will be sent to your email on successful purchase</h6>\n            </div>\n\n              <!-- Betting -->\n              <div v-if=\"products[0].productBillerCode.includes('BET')\">\n                <div>\n                  <label class=\"small\">Amount</label>\n                  <b-input type=\"number\" required class=\"mb-2\" v-model=\"productpaymentModdel.amount\">\n                  </b-input>\n                </div>\n                <div>\n                  <label class=\"small\">Select Plan</label>\n                  <b-select v-model=\"productpaymentModdel.productCode\" >\n                    <b-select-option  v-for=\"i in products\" :key=\"i\" :value=\"i.productCode\">{{i.productDescription}}</b-select-option>\n                  </b-select>\n                </div>\n                <div class=\"mt-2\">\n                  <label class=\"small\">Email</label>\n                  <b-input type=\"email\" :value=\"currentOrganisation.organisationEmail\" id=\"organisationEmail\"></b-input>\n                </div>\n              </div>\n              <!-- end of betting -->\n\n            </div>\n          </div>\n            <div class=\"card-footer\">\n              <b-button class=\"mt-2 w-100\" v-if=\"!Object.values(customerEnquiryData).every((o) => o === null)\" type=\"submit\" @click=\"action = 'pay'\" style=\"background-color:#413d52;color:white\" :disabled=\"paymentLoading\">{{paymentLoading ? 'Please Wait...' : 'Pay'}}</b-button>\n              <b-button class=\"mt-2 w-100\" v-else type=\"submit\" style=\"background-color:#413d52;color:white\" :disabled=\"customerEnquiryLoading\" @click=\"action = 'validate'\">{{customerEnquiryLoading ? 'Please Wait...' : 'Validate'}}</b-button>\n                </div>\n          </form>\n        </div>\n      <!-- end handle Cable TV, Electricity and Betting payment -->\n\n      <!-- handle AIRTIME and DATA purchase -->\n        <form @submit.prevent=\"payment(obj = productCode)\" v-if=\"products[0].productBillerCode.includes('AIRTIME') || products[0].productBillerCode.includes('DATA')\">\n          <div class=\"card-body\">\n                <div class=\"mb-2\"  v-for=\"i in products\" :key=\"i\">\n                  <div v-if=\"i.productBillerCode.includes('AIRTIME')\">\n                  <div>\n                    <!-- area for AIRTIME -->\n                      <div v-for=\"i in products\" :key=\"i\">\n                        <div>\n                          <label class=\"small\">{{billerCustomerIdInputLabel}}</label>\n                          <b-input type=\"tell\" required class=\"mb-2\"\n                                   v-model=\"productpaymentModdel.billerCustomerId\" placeholder=\"Enter mobile number\">\n                          </b-input>\n                        </div>\n                        <div v-if=\"i.productPrice == 'VARIABLE'\">\n                          <div>\n                            <label class=\"small\">Amount</label>\n                            <b-input type=\"number\" required class=\"mb-2\" v-model=\"productpaymentModdel.amount\">\n                            </b-input>\n                          </div>\n                        </div>\n                        <div class=\"mt-2\">\n                          <label class=\"small\">Email</label>\n                          <b-input type=\"email\" :value=\"currentOrganisation.organisationEmail\" id=\"organisationEmail\"></b-input>\n                        </div>\n                      </div>\n                  </div>\n                  </div>\n\n                </div>\n          <!-- end area for AIRTIME -->\n\n          <!-- Area for DATA BUNDLE -->\n              <div v-if=\"products[0].productBillerCode.includes('DATA')\">\n                <div>\n                  <label class=\"small\">{{billerCustomerIdInputLabel ? billerCustomerIdInputLabel : 'Betting Wallet'}}</label>\n                  <b-input type=\"tell\" required class=\"mb-2\"\n                           v-model=\"productpaymentModdel.billerCustomerId\" :placeholder=\"billerCustomerIdInputLabel ? `${billerCustomerIdInputLabel}`: 'Betting Wallet'\">\n                  </b-input>\n                </div>\n                <div>\n                  <div v-if=\"products[0].productBillerCode.includes('DATA')\">\n                    <label class=\"small\">Select Plan</label>\n                    <b-select v-model=\"productpaymentModdel.productCode\" >\n                       <b-select-option  v-for=\"i in products\" :key=\"i\" :value=\"i.productPrice + ' ' + i.productCode\">{{i.productDescription}} @ {{i.productPrice | formatAmount}}</b-select-option>\n                    </b-select>\n                    <div class=\"mt-2\">\n                      <label class=\"small\">Email</label>\n                      <b-input type=\"email\" :value=\"currentOrganisation.organisationEmail\" id=\"organisationEmail\"></b-input>\n                    </div>\n                  </div>\n                </div>\n            </div>\n\n          </div>\n\n          <div class=\"card-footer\">\n            <b-button class=\"mt-2 w-100\" type=\"submit\" style=\"background-color:#413d52;color:white\" :disabled=\"paymentLoading\">{{paymentLoading ? 'Please Wait...' : 'Proceed'}}</b-button>\n          </div>\n        </form>\n      <!-- End Area for DATA BUNDLE -->\n    </div>\n</template>\n\n<script>\nimport {mapState} from \"vuex\";\nimport StoreUtils from \"@/util/baseUtils/StoreUtils\";\nimport BillsPaymentRequest from \"@/model/request/BillsPaymentRequest\";\nimport AuthenticationResponse from \"@/model/reponse/AuthenticationResponse\";\n\nexport default {\n  name: \"PaybillsForm\",\n  data(){\n    return{\n      productpaymentModdel:BillsPaymentRequest.productPayment,\n      customerEnqModel:BillsPaymentRequest.customerEnquiry,\n      action:null,\n      code:this.productCode,\n      emailModel:AuthenticationResponse.organisation\n    }\n  },\n\n  props:{\n    billerCustomerIdInputLabel: String,\n    productBillerCode:String,\n    productCode:String,\n    productPrice:String,\n    billerImage:String,\n\n  },\n  methods:{\n    customerEnq(product_code, action){\n      //checks if users is using the validate\n      if(this.action == 'validate'){\n        this.customerEnqModel.billerCode = product_code\n        StoreUtils.dispatch(StoreUtils.actions.billspayment.updateCustomerEnq, this.customerEnqModel).then(() => {\n          if(this.error_msg == '00'){\n              document.getElementById(\"smartcardInput\").style.border = \"solid green\"\n          }else{\n            //checks to know what error to display either smart card or meter number or bet number error\n            if(product_code.includes('ELECTRIC')) {\n              document.getElementById(\"err\").innerHTML = \"Invalid meter number\"\n              document.getElementById(\"smartcardInput\").style.border = \"solid red\"\n            }else if(product_code.includes('CABLE')){\n              document.getElementById(\"err\").innerHTML = \"Invalid smart card number\"\n              document.getElementById(\"smartcardInput\").style.border = \"solid red\"\n            }else{\n              document.getElementById(\"err\").innerHTML = \"Could not validate number\"\n              document.getElementById(\"smartcardInput\").style.border = \"solid red\"\n            }\n            //clears error text makes it disappear\n            setTimeout(() => {\n              document.getElementById(\"err\").innerHTML = \"\"\n            },2000)\n\n          }\n        })\n      }else{\n        //calls payment api\n        if(product_code.includes('CABLE')){\n          let price = this.productpaymentModdel.productCode.split(\" \")[0]\n          let code = this.productpaymentModdel.productCode.split(\" \")[1]\n          this.productpaymentModdel.amount = price\n          this.productpaymentModdel.productCode = code\n          this.productpaymentModdel.billerCustomerId= this.customerEnqModel.billerCustomerId\n          this.productpaymentModdel.reference = `BIZGEM-${this.reference(30)}`\n          this.productpaymentModdel.email = document.getElementById('organisationEmail').value\n        }else{\n          this.productpaymentModdel.billerCustomerId= this.customerEnqModel.billerCustomerId\n          this.productpaymentModdel.reference = `BIZGEM-${this.reference(30)}`\n          this.productpaymentModdel.email = document.getElementById('organisationEmail').value\n        }\n\n      // console.log(this.productpaymentModdel)\n      StoreUtils.dispatch(StoreUtils.actions.billspayment.updatePayment, this.productpaymentModdel).then(() => {\n        StoreUtils.dispatch(StoreUtils.actions.auth.readDashboardStats)\n      })\n      }\n    },\n    clearEnq(){\n      Object.keys(this.customerEnquiryData).forEach(key => this.customerEnquiryData[key] = null)\n    },\n    payment(){\n      if(this.products[0].productBillerCode.includes('DATA') || this.products[0].productBillerCode.includes('CABLE_TV')){\n        let price = this.productpaymentModdel.productCode.split(\" \")[0]\n        let code = this.productpaymentModdel.productCode.split(\" \")[1]\n        this.productpaymentModdel.amount = price\n        this.productpaymentModdel.productCode = code\n        this.productpaymentModdel.email = document.getElementById('organisationEmail').value\n      }else if (this.products[0].productBillerCode.includes('AIRTIME')){\n        this.productpaymentModdel.productCode = this.productCode\n      }\n      this.productpaymentModdel.reference = `BIZGEM-${this.reference(30)}`\n      this.productpaymentModdel.email = document.getElementById('organisationEmail').value\n      console.log(this.productpaymentModdel)\n      StoreUtils.dispatch(StoreUtils.actions.billspayment.updatePayment, this.productpaymentModdel).then(() => {\n        StoreUtils.dispatch(StoreUtils.actions.auth.readDashboardStats)\n      })\n    },\n    reference(length) {\n      let result = \"\"\n      let characters = 'abcdefghijklmnopgrstuvwxyzABCDEFJHIJKLMNOPQRSTUVWXYZ0123456789';\n      let charactersLength = characters.length;\n      for (var i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n      return result;\n    },\n  },\n  computed:{\n    ...mapState({\n      categories: state => state.billspayment.categories.data,\n      billers: state => state.billspayment.billers.data,\n      billerloading:state => state.billspayment.billersloading,\n      categoryloading:state => state.billspayment.categoriesloading,\n      products:state => state.billspayment.products.data,\n      paymentLoading:state => state.billspayment.paymentloading,\n      customerEnquiryData:state => state.billspayment.customerEnq,\n      customerEnquiryLoading: state => state.billspayment.customerEnqloading,\n      error_msg:state => state.billspayment.errorMsg,\n    }),\n\n    currentOrganisation(){\n      return StoreUtils.rootGetters(StoreUtils.getters.auth.getCurrentOrganization)\n    }\n  },\n}\n</script>\n\n<style scoped>\n.form{\n  height: auto;\n  width: 100%;\n  background-color: #FFFFFF;\n  box-shadow:0 0 1rem 0 rgb(136 152 170 / 15%);\n  border-radius: calc(0.375rem - 1px) calc(0.375rem - 1px) 0 0;\n\n}\n.card-header{\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n@media (max-width: 999px) {\n  .form{\n    height: auto;\n    width: 100%;\n    background-color: #FFFFFF;\n    box-shadow:0 0 1rem 0 rgb(136 152 170 / 15%);\n    border-radius: calc(0.375rem - 1px) calc(0.375rem - 1px) 0 0;\n\n  }\n}\n</style>"],"mappings":";;;;;;AAoJA,SAAAA,QAAA;AACA,OAAAC,UAAA;AACA,OAAAC,mBAAA;AACA,OAAAC,sBAAA;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,oBAAA,EAAAJ,mBAAA,CAAAK,cAAA;MACAC,gBAAA,EAAAN,mBAAA,CAAAO,eAAA;MACAC,MAAA;MACAC,IAAA,OAAAC,WAAA;MACAC,UAAA,EAAAV,sBAAA,CAAAW;IACA;EACA;EAEAC,KAAA;IACAC,0BAAA,EAAAC,MAAA;IACAC,iBAAA,EAAAD,MAAA;IACAL,WAAA,EAAAK,MAAA;IACAE,YAAA,EAAAF,MAAA;IACAG,WAAA,EAAAH;EAEA;EACAI,OAAA;IACAC,WAAA,WAAAA,YAAAC,YAAA,EAAAb,MAAA;MAAA,IAAAc,KAAA;MACA;MACA,SAAAd,MAAA;QACA,KAAAF,gBAAA,CAAAiB,UAAA,GAAAF,YAAA;QACAtB,UAAA,CAAAyB,QAAA,CAAAzB,UAAA,CAAA0B,OAAA,CAAAC,YAAA,CAAAC,iBAAA,OAAArB,gBAAA,EAAAsB,IAAA;UACA,IAAAN,KAAA,CAAAO,SAAA;YACAC,QAAA,CAAAC,cAAA,mBAAAC,KAAA,CAAAC,MAAA;UACA;YACA;YACA,IAAAZ,YAAA,CAAAa,QAAA;cACAJ,QAAA,CAAAC,cAAA,QAAAI,SAAA;cACAL,QAAA,CAAAC,cAAA,mBAAAC,KAAA,CAAAC,MAAA;YACA,WAAAZ,YAAA,CAAAa,QAAA;cACAJ,QAAA,CAAAC,cAAA,QAAAI,SAAA;cACAL,QAAA,CAAAC,cAAA,mBAAAC,KAAA,CAAAC,MAAA;YACA;cACAH,QAAA,CAAAC,cAAA,QAAAI,SAAA;cACAL,QAAA,CAAAC,cAAA,mBAAAC,KAAA,CAAAC,MAAA;YACA;YACA;YACAG,UAAA;cACAN,QAAA,CAAAC,cAAA,QAAAI,SAAA;YACA;UAEA;QACA;MACA;QACA;QACA,IAAAd,YAAA,CAAAa,QAAA;UACA,IAAAG,KAAA,QAAAjC,oBAAA,CAAAM,WAAA,CAAA4B,KAAA;UACA,IAAA7B,IAAA,QAAAL,oBAAA,CAAAM,WAAA,CAAA4B,KAAA;UACA,KAAAlC,oBAAA,CAAAmC,MAAA,GAAAF,KAAA;UACA,KAAAjC,oBAAA,CAAAM,WAAA,GAAAD,IAAA;UACA,KAAAL,oBAAA,CAAAoC,gBAAA,QAAAlC,gBAAA,CAAAkC,gBAAA;UACA,KAAApC,oBAAA,CAAAqC,SAAA,aAAAC,MAAA,MAAAD,SAAA;UACA,KAAArC,oBAAA,CAAAuC,KAAA,GAAAb,QAAA,CAAAC,cAAA,sBAAAa,KAAA;QACA;UACA,KAAAxC,oBAAA,CAAAoC,gBAAA,QAAAlC,gBAAA,CAAAkC,gBAAA;UACA,KAAApC,oBAAA,CAAAqC,SAAA,aAAAC,MAAA,MAAAD,SAAA;UACA,KAAArC,oBAAA,CAAAuC,KAAA,GAAAb,QAAA,CAAAC,cAAA,sBAAAa,KAAA;QACA;;QAEA;QACA7C,UAAA,CAAAyB,QAAA,CAAAzB,UAAA,CAAA0B,OAAA,CAAAC,YAAA,CAAAmB,aAAA,OAAAzC,oBAAA,EAAAwB,IAAA;UACA7B,UAAA,CAAAyB,QAAA,CAAAzB,UAAA,CAAA0B,OAAA,CAAAqB,IAAA,CAAAC,kBAAA;QACA;MACA;IACA;IACAC,QAAA,WAAAA,SAAA;MAAA,IAAAC,MAAA;MACAC,MAAA,CAAAC,IAAA,MAAAC,mBAAA,EAAAC,OAAA,WAAAC,GAAA;QAAA,OAAAL,MAAA,CAAAG,mBAAA,CAAAE,GAAA;MAAA;IACA;IACAC,OAAA,WAAAA,QAAA;MACA,SAAAC,QAAA,IAAAxC,iBAAA,CAAAkB,QAAA,iBAAAsB,QAAA,IAAAxC,iBAAA,CAAAkB,QAAA;QACA,IAAAG,KAAA,QAAAjC,oBAAA,CAAAM,WAAA,CAAA4B,KAAA;QACA,IAAA7B,IAAA,QAAAL,oBAAA,CAAAM,WAAA,CAAA4B,KAAA;QACA,KAAAlC,oBAAA,CAAAmC,MAAA,GAAAF,KAAA;QACA,KAAAjC,oBAAA,CAAAM,WAAA,GAAAD,IAAA;QACA,KAAAL,oBAAA,CAAAuC,KAAA,GAAAb,QAAA,CAAAC,cAAA,sBAAAa,KAAA;MACA,gBAAAY,QAAA,IAAAxC,iBAAA,CAAAkB,QAAA;QACA,KAAA9B,oBAAA,CAAAM,WAAA,QAAAA,WAAA;MACA;MACA,KAAAN,oBAAA,CAAAqC,SAAA,aAAAC,MAAA,MAAAD,SAAA;MACA,KAAArC,oBAAA,CAAAuC,KAAA,GAAAb,QAAA,CAAAC,cAAA,sBAAAa,KAAA;MACAa,OAAA,CAAAC,GAAA,MAAAtD,oBAAA;MACAL,UAAA,CAAAyB,QAAA,CAAAzB,UAAA,CAAA0B,OAAA,CAAAC,YAAA,CAAAmB,aAAA,OAAAzC,oBAAA,EAAAwB,IAAA;QACA7B,UAAA,CAAAyB,QAAA,CAAAzB,UAAA,CAAA0B,OAAA,CAAAqB,IAAA,CAAAC,kBAAA;MACA;IACA;IACAN,SAAA,WAAAA,UAAAkB,MAAA;MACA,IAAAC,MAAA;MACA,IAAAC,UAAA;MACA,IAAAC,gBAAA,GAAAD,UAAA,CAAAF,MAAA;MACA,SAAAI,CAAA,MAAAA,CAAA,GAAAJ,MAAA,EAAAI,CAAA;QACAH,MAAA,IAAAC,UAAA,CAAAG,MAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA,KAAAL,gBAAA;MACA;MACA,OAAAF,MAAA;IACA;EACA;EACAQ,QAAA,EAAAC,aAAA,CAAAA,aAAA,KACAvE,QAAA;IACAwE,UAAA,WAAAA,WAAAC,KAAA;MAAA,OAAAA,KAAA,CAAA7C,YAAA,CAAA4C,UAAA,CAAAnE,IAAA;IAAA;IACAqE,OAAA,WAAAA,QAAAD,KAAA;MAAA,OAAAA,KAAA,CAAA7C,YAAA,CAAA8C,OAAA,CAAArE,IAAA;IAAA;IACAsE,aAAA,WAAAA,cAAAF,KAAA;MAAA,OAAAA,KAAA,CAAA7C,YAAA,CAAAgD,cAAA;IAAA;IACAC,eAAA,WAAAA,gBAAAJ,KAAA;MAAA,OAAAA,KAAA,CAAA7C,YAAA,CAAAkD,iBAAA;IAAA;IACApB,QAAA,WAAAA,SAAAe,KAAA;MAAA,OAAAA,KAAA,CAAA7C,YAAA,CAAA8B,QAAA,CAAArD,IAAA;IAAA;IACA0E,cAAA,WAAAA,eAAAN,KAAA;MAAA,OAAAA,KAAA,CAAA7C,YAAA,CAAAoD,cAAA;IAAA;IACA1B,mBAAA,WAAAA,oBAAAmB,KAAA;MAAA,OAAAA,KAAA,CAAA7C,YAAA,CAAAN,WAAA;IAAA;IACA2D,sBAAA,WAAAA,uBAAAR,KAAA;MAAA,OAAAA,KAAA,CAAA7C,YAAA,CAAAsD,kBAAA;IAAA;IACAnD,SAAA,WAAAA,UAAA0C,KAAA;MAAA,OAAAA,KAAA,CAAA7C,YAAA,CAAAuD,QAAA;IAAA;EACA;IAEAC,mBAAA,WAAAA,oBAAA;MACA,OAAAnF,UAAA,CAAAoF,WAAA,CAAApF,UAAA,CAAAqF,OAAA,CAAAtC,IAAA,CAAAuC,sBAAA;IACA;EAAA;AAEA"}]}