{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/views/auth/ForgotPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/views/auth/ForgotPassword.vue","mtime":1683674085861},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBGb3Jnb3RQYXNzd29yZEZvcm0gZnJvbSAiLi4vLi4vY29tcG9uZW50cy9mb3JtL0ZvcmdvdFBhc3N3b3JkRm9ybSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRm9yZ290UGFzc3dvcmRGb3JtCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZXJDb3VudDogMCwKCiAgICAgIG1vZGVsOiB7CiAgICAgICAgY3VzdG9tZXJFbWFpbDogIiIsCiAgICAgICAgY3VzdG9tZXJQYXNzd29yZDogIiIsCiAgICAgICAgY3VzdG9tZXJPdHA6ICIiLAogICAgICAgIGN1c3RvbWVyUGFzc3dvcmRDb25maXJtYXRpb246ICIiLAogICAgICAgIHJlbWVtYmVyTWU6IGZhbHNlLAogICAgICB9LAoKICAgICAgbm90aWZpY2F0aW9uczogewogICAgICAgIHRvcENlbnRlcjogZmFsc2UsCiAgICAgIH0sCiAgICAgIC8vZGlzYWJsZUJ0bjpmYWxzZSwKICAgICAgLy9zcGlubmVyOmZhbHNlLAogICAgICBzaG93RGlzbWlzc2libGVBbGVydDogZmFsc2UsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2lnblVwKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJTaWduVXAiIH0pOwogICAgfSwKICAgIGZvcmdvdFBhc3N3b3JkKCkge30sCiAgIAogICAgb25pbml0aWF0ZVBhc3N3b3JkKCkgewogICAgICBjb25zdCB1c2VyID0gewogICAgICAgIGN1c3RvbWVyRW1haWw6IHRoaXMubW9kZWwuY3VzdG9tZXJFbWFpbCwKICAgICAgICBzb3VyY2U6ICJ3ZWIiLAogICAgICB9OwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiaW5pdGlhdGVQYXNzd29yZFJlc3QiLCB1c2VyLCB7IHJvb3Q6IGZhbHNlIH0pOwogICAgfSwKICAgIG9uY29tcGxldGVQYXNzd29yZCgpIHsKICAgICAgY29uc3QgdXNlciA9IHsKICAgICAgICBjdXN0b21lckVtYWlsOiB0aGlzLm1vZGVsLmN1c3RvbWVyRW1haWwsCiAgICAgICAgY3VzdG9tZXJQYXNzd29yZDogdGhpcy5tb2RlbC5jdXN0b21lclBhc3N3b3JkLAogICAgICAgIGN1c3RvbWVyUGFzc3dvcmRDb25maXJtYXRpb246IHRoaXMubW9kZWwuY3VzdG9tZXJQYXNzd29yZENvbmZpcm1hdGlvbiwKICAgICAgICBjdXN0b21lck90cDogdGhpcy5tb2RlbC5jdXN0b21lck90cCwKICAgICAgfTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImNvbXBsZXRlUGFzc3dvcmRSZXN0IiwgdXNlciwgeyByb290OiBmYWxzZSB9KTsKICAgIH0sCiAgICByZXNlbmRPdHAoKSB7CiAgICAgIGNvbnN0IHVzZXJFbWFpbEZvclJlc2VuZE90cCA9IHsKICAgICAgICBjdXN0b21lckVtYWlsOiB0aGlzLm1vZGVsLmN1c3RvbWVyRW1haWwsCiAgICAgICAgc291cmNlOiAid2ViIiwKICAgICAgfTsKICAgICAgdGhpcy4kc3RvcmUKICAgICAgICAuZGlzcGF0Y2goInJlc2VuZE90cCIsIHVzZXJFbWFpbEZvclJlc2VuZE90cCwgeyByb290OiBmYWxzZSB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMudGltZXJDb3VudCA9IDMwOwogICAgICAgIH0pOwogICAgfSwKICAgIHN0YXJ0VGltZXIoZHVyYXRpb24pIHsKICAgICAgbGV0IHRpbWVyID0gZHVyYXRpb24sCiAgICAgICAgbWludXRlcywKICAgICAgICBzZWNvbmRzOwogICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgbWludXRlcyA9IHBhcnNlSW50KCh0aW1lciAvIDYwKS50b1N0cmluZygpLCAxMCk7CiAgICAgICAgc2Vjb25kcyA9IHBhcnNlSW50KCh0aW1lciAlIDYwKS50b1N0cmluZygpLCAxMCk7CiAgICAgICAgbWludXRlcyA9IG1pbnV0ZXMgPCAxMCA/ICIwIiArIG1pbnV0ZXMgOiBtaW51dGVzOwogICAgICAgIHNlY29uZHMgPSBzZWNvbmRzIDwgMTAgPyAiMCIgKyBzZWNvbmRzIDogc2Vjb25kczsKICAgICAgICB0aGlzLnRpbWVyID0gbWludXRlcyArICI6IiArIHNlY29uZHM7CiAgICAgICAgaWYgKC0tdGltZXIgPCAwKSB7CiAgICAgICAgICB0aW1lciA9IGR1cmF0aW9uOwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgbG9hZGluZzogKHN0YXRlKSA9PiBzdGF0ZS5hdXRoLmxvYWRpbmcsCiAgICAgIGNoZWNrRm9ybTogKHN0YXRlKSA9PiBzdGF0ZS5hdXRoLmVucm9sbEZvcm0sCiAgICB9KSwKICAgIC4uLm1hcEFjdGlvbnMoWyJsb2dvbiJdKSwKICAgIC4uLm1hcEdldHRlcnMoWyIiXSksCiAgfSwKICB3YXRjaDogewogICAgZXJyb3JzKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICBjb25zb2xlLmxvZyhgVXBkYXRpbmcgZnJvbSAke29sZFZhbHVlfSB0byAke25ld1ZhbHVlfWApOwoKICAgICAgLy8gRG8gd2hhdGV2ZXIgbWFrZXMgc2Vuc2Ugbm93CiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuJHRvYXN0LmVycm9yKG5ld1ZhbHVlKTsKICAgICAgICAvL3RoaXMuc2hvd0Rpc21pc3NpYmxlQWxlcnQ9dHJ1ZTsKICAgICAgfQogICAgfSwKICAgIHN1Y2Nlc3MobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIGNvbnNvbGUubG9nKGBVcGRhdGluZyBmcm9tICR7b2xkVmFsdWV9IHRvICR7bmV3VmFsdWV9YCk7CgogICAgICAvLyBEbyB3aGF0ZXZlciBtYWtlcyBzZW5zZSBub3cKICAgICAgaWYgKG5ld1ZhbHVlICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy4kdG9hc3Quc3VjY2VzcyhuZXdWYWx1ZSk7CiAgICAgICAgLy90aGlzLnNob3dEaXNtaXNzaWJsZUFsZXJ0PXRydWU7CiAgICAgIH0KICAgIH0sCiAgICAgIHRpbWVyQ291bnQ6IHsKICAgIGhhbmRsZXIodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID4gMCkgewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy50aW1lckNvdW50LS07CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0KICAgIH0sCiAgICAvL2ltbWVkaWF0ZTogdHJ1ZSwgLy8gVGhpcyBlbnN1cmVzIHRoZSB3YXRjaGVyIGlzIHRyaWdnZXJlZCB1cG9uIGNyZWF0aW9uCiAgfSwKICB9LAoKICBtb3VudGVkOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuc3RhcnRUaW1lcigpOwogICAgdGhpcy50aW1lckNvdW50ID0gMzA7CiAgfSwKfTsK"},{"version":3,"sources":["ForgotPassword.vue"],"names":[],"mappings":";AAYA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ForgotPassword.vue","sourceRoot":"src/views/auth","sourcesContent":["<template>\n  <div>\n    <notifications></notifications>\n    <div class=\"auth-wrap\">\n        <forgot-password-form/>\n      </div>\n      \n  </div>\n  <!--    </div>-->\n  <!--  </div>-->\n</template>\n<script>\nimport { mapState, mapActions, mapGetters } from \"vuex\";\nimport ForgotPasswordForm from \"../../components/form/ForgotPasswordForm\";\n\nexport default {\n  components: {\n    ForgotPasswordForm\n  },\n  data() {\n    return {\n      timerCount: 0,\n\n      model: {\n        customerEmail: \"\",\n        customerPassword: \"\",\n        customerOtp: \"\",\n        customerPasswordConfirmation: \"\",\n        rememberMe: false,\n      },\n\n      notifications: {\n        topCenter: false,\n      },\n      //disableBtn:false,\n      //spinner:false,\n      showDismissibleAlert: false,\n    };\n  },\n  methods: {\n    signUp() {\n      this.$router.push({ name: \"SignUp\" });\n    },\n    forgotPassword() {},\n   \n    oninitiatePassword() {\n      const user = {\n        customerEmail: this.model.customerEmail,\n        source: \"web\",\n      };\n      this.$store.dispatch(\"initiatePasswordRest\", user, { root: false });\n    },\n    oncompletePassword() {\n      const user = {\n        customerEmail: this.model.customerEmail,\n        customerPassword: this.model.customerPassword,\n        customerPasswordConfirmation: this.model.customerPasswordConfirmation,\n        customerOtp: this.model.customerOtp,\n      };\n      this.$store.dispatch(\"completePasswordRest\", user, { root: false });\n    },\n    resendOtp() {\n      const userEmailForResendOtp = {\n        customerEmail: this.model.customerEmail,\n        source: \"web\",\n      };\n      this.$store\n        .dispatch(\"resendOtp\", userEmailForResendOtp, { root: false })\n        .then(() => {\n          this.timerCount = 30;\n        });\n    },\n    startTimer(duration) {\n      let timer = duration,\n        minutes,\n        seconds;\n      setInterval(function () {\n        minutes = parseInt((timer / 60).toString(), 10);\n        seconds = parseInt((timer % 60).toString(), 10);\n        minutes = minutes < 10 ? \"0\" + minutes : minutes;\n        seconds = seconds < 10 ? \"0\" + seconds : seconds;\n        this.timer = minutes + \":\" + seconds;\n        if (--timer < 0) {\n          timer = duration;\n        }\n      }, 1000);\n    },\n  },\n  computed: {\n    ...mapState({\n      loading: (state) => state.auth.loading,\n      checkForm: (state) => state.auth.enrollForm,\n    }),\n    ...mapActions([\"logon\"]),\n    ...mapGetters([\"\"]),\n  },\n  watch: {\n    errors(newValue, oldValue) {\n      console.log(`Updating from ${oldValue} to ${newValue}`);\n\n      // Do whatever makes sense now\n      if (newValue !== null) {\n        this.$toast.error(newValue);\n        //this.showDismissibleAlert=true;\n      }\n    },\n    success(newValue, oldValue) {\n      console.log(`Updating from ${oldValue} to ${newValue}`);\n\n      // Do whatever makes sense now\n      if (newValue !== null) {\n        this.$toast.success(newValue);\n        //this.showDismissibleAlert=true;\n      }\n    },\n      timerCount: {\n    handler(value) {\n      if (value > 0) {\n        setTimeout(() => {\n          this.timerCount--;\n        }, 1000);\n      }\n    },\n    //immediate: true, // This ensures the watcher is triggered upon creation\n  },\n  },\n\n  mounted: function() {\n    this.startTimer();\n    this.timerCount = 30;\n  },\n};\n</script>\n<style lang=\"css\" scoped>\n\n.auth-wrap {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  width: 100%;\n  /* background-color: white; */\n}\n\n\n@media (max-width: 500px) {\n  .auth-wrap {\n    width: 100%;\n    display: block;\n    height: 100vh;\n\n  }\n}\n\n\n</style>\n"]}]}