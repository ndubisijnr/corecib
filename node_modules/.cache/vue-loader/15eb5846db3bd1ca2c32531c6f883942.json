{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/form/CreateWalletForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/form/CreateWalletForm.vue","mtime":1687343304155},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBCYXNlQnV0dG9uIGZyb20gIkAvY29tcG9uZW50cy9idXR0b24vQmFzZUJ1dHRvbiI7CmltcG9ydCBTdG9yZVV0aWxzIGZyb20gIkAvdXRpbC9iYXNlVXRpbHMvU3RvcmVVdGlscyI7CmltcG9ydCBjcmVhdGVXYWxsZXRSZXF1ZXN0IGZyb20gIkAvbW9kZWwvcmVxdWVzdC9DcmVhdGVXYWxsZXQiOwppbXBvcnQge21hcFN0YXRlfSBmcm9tICJ2dWV4IjsKaW1wb3J0IFdhbGxldFJlcXVlc3QgZnJvbSAiLi4vLi4vbW9kZWwvcmVxdWVzdC9XYWxsZXRSZXF1ZXN0IjsKLy8gaW1wb3J0IHZDdXJyZW5jeVNlbGVjdCBmcm9tICd2dWUtY3VycmVuY3ktc2VsZWN0JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3JlYXRlV2FsbGV0Rm9ybSIsCgogIGNvbXBvbmVudHM6ewogICAgLy8gQmFzZUJ1dHRvbiwKICAgIC8vIHZDdXJyZW5jeVNlbGVjdAogIH0sCgogIHByb3BzOiB7CiAgICBzaG93V2FsbGV0Rm9ybTogQm9vbGVhbiwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93TW9kYWw6IHRydWUsCiAgICAgIGNyZWF0ZVdhbGxldE1vZGVsOmNyZWF0ZVdhbGxldFJlcXVlc3QuY3JlYXRlV2FsbGV0LAogICAgICByZWFkV2FsbGV0OiBXYWxsZXRSZXF1ZXN0LnJlYWRXYWxsZXQsCiAgICAgIHByaW1hcnlDb2xvcjp3aW5kb3cuX19lbnYuYXBwLnByaW1hcnlDb2xvciwKICAgICAgY3VzdG9tT3B0aW9uczoKICAgICAgICB7CiAgICAgICAgICBjdXJyZW5jeTogJ05HTicsCiAgICAgICAgICBjb3VudHJ5OiAnTmlnZXJpYScKICAgICAgICB9LAoKCiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIGNsb3NlTW9kYWwoKSB7CiAgICAgIC8vY2xvc2UgbW9kYWwgZm9ybQogICAgICB0aGlzLnNob3dNb2RhbCA9IGZhbHNlOwogICAgICB0aGlzLiRlbWl0KCJjbG9zZVdhbGxldEZvcm0iLCBmYWxzZSk7CiAgICAgIHRoaXMuc2hvd01vZGFsID0gdHJ1ZTsKICAgICAgLy8gICBTdG9yZVV0aWxzLmNvbW1pdChTdG9yZVV0aWxzLm11dGF0aW9ucy5hY2NvdW50UGF5b3V0LnVwZGF0ZVN0YXR1cywgJ2ZhbHNlJykKICAgIH0sCgogICAgb25TZWxlY3QoeyBkaWFsQ29kZSB9KSB7CiAgICAgIHRoaXMuY3JlYXRlV2FsbGV0TW9kZWwuY291bnRyeUNvZGUgPSBkaWFsQ29kZTsKICAgIH0sCgogICAgZChvYmopewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWluQScpLmlubmVySFRNTD1vYmoudG9Mb2NhbGVTdHJpbmcoKQogICAgfSwKCiAgICBzZWxlY3RDaGFuZ2VkKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkQ3VycmVuY3kpCiAgICB9LAoKICAgIGNyZWF0ZVdhbGxldCgpewogICAgICB0aGlzLmNyZWF0ZVdhbGxldE1vZGVsLmN1cnJlbmN5ID0gJ05HTicsCiAgICAgIHRoaXMuY3JlYXRlV2FsbGV0TW9kZWwubWluaW11bUJhbGFuY2UgPSAiMCIsCiAgICAgIHRoaXMuY3JlYXRlV2FsbGV0TW9kZWwubWF4aW11bUJhbGFuY2UgPSAiMCIsCiAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLndhbGxldFRyYW5zYWN0aW9ucy51cGRhdGVDcmVhdGVkV2FsbGV0LHRoaXMuY3JlYXRlV2FsbGV0TW9kZWwpLnRoZW4oKCkgPT4gewogICAgICAgIE9iamVjdC5rZXlzKHRoaXMuY3JlYXRlV2FsbGV0TW9kZWwpLmZvckVhY2goa2V5ID0+IHsKICAgICAgICAgIHRoaXMuY3JlYXRlV2FsbGV0TW9kZWxba2V5XSA9IG51bGwKICAgICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLndhbGxldFRyYW5zYWN0aW9ucy51cGRhdGVSZWFkQWxsV2FsbGV0cyx0aGlzLnJlYWRXYWxsZXQpOwoKICAgICAgICB9KQogICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpCiAgICAgIH0pCiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6ewogICAgLi4ubWFwU3RhdGUoewogICAgICBsb2FkaW5nOnN0YXRlID0+IHN0YXRlLndhbGxldFRyYW5zYWN0aW9ucy5sb2FkaW5nCiAgICB9KQogIH0KCn0K"},{"version":3,"sources":["CreateWalletForm.vue"],"names":[],"mappings":";AAuDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"CreateWalletForm.vue","sourceRoot":"src/components/form","sourcesContent":["<template>\n  <modal-1 :show=\"showWalletForm && showModal\" body-classes=\"p-1\" modal-classes=\"modal-dialog-centered modal-md\">\n    <div>\n      <div class=\"card-head\">\n        <div class=\"d-flex justify-content-between\">\n          <h4 style=\"color:#413d52;font-size:18px;font-weight:700;width: 100%;display: flex;justify-content: center;align-items: center\">Create Wallet</h4>\n          <button type=\"button\" class=\"btn-close p-2 m-2\" @click=\"closeModal()\" title=\"Cancel Create Account\"></button>\n        </div>\n      </div>\n      <div class=\"modal-body\">\n          <b-form class=\"\" @submit.prevent=\"createWallet\">\n            <div class=\"row\">\n              <div class=\"col w-100 mb-2\">\n                <label class=\"small\">First Name</label>\n                <input type=\"text\" v-model=\"createWalletModel.firstName\" class=\"form-control\" placeholder=\"First Name\"  required>\n              </div>\n              <div class=\"col w-100 mb-2\">\n                <label class=\"small\">Last Name</label>\n                <input type=\"text\" v-model=\"createWalletModel.lastName\" class=\"form-control\" placeholder=\"Last Name\" aria-label=\"Server\" required>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col w-100 mb-2\">\n                <label class=\"small\">Email</label>\n                <input type=\"email\" v-model=\"createWalletModel.email\" class=\"form-control\" placeholder=\"Email\" required>\n              </div>\n              <div class=\"col w-100 mb-2\">\n                <label class=\"small\">Bank Verification Number</label>\n                <input type=\"text\" v-model=\"createWalletModel.bvn\" class=\"form-control\" placeholder=\"BVN\">\n              </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col w-100 mb-2\">\n                  <label class=\"small\">Date Of Birth</label>\n                  <input type=\"date\" v-model=\"createWalletModel.dob\" class=\"form-control\" placeholder=\"Date Of Birth\" aria-label=\"Server\" required>\n                </div>\n                <div class=\"col w-100\">\n                  <label class=\"small\">Phone Number</label>\n                  <div class=\"d-flex\">\n                    <vue-country-code v-model=\"createWalletModel.countryCode\" @onSelect=\"onSelect\" :preferredCountries=\"['ng', 'us', 'gb']\" style=\"height: 45px\" class=\"\" required></vue-country-code>\n                    <input type=\"tel\" v-model=\"createWalletModel.phoneNumber\" class=\"form-control\" placeholder=\"Phone Number\" aria-label=\"Server\" required>\n                  </div>\n                </div>\n              </div>\n            <div>\n              <b-button type=\"submit\" :style=\"{backgroundColor:primaryColor,color: 'white',width: '100%'}\" :disabled=\"loading\"><span :class=\"{'spinner-border':loading}\"></span> {{loading ? 'Creating' : 'Create'}}</b-button>\n            </div>\n          </b-form>\n      </div>\n    </div>\n\n  </modal-1>\n</template>\n\n<script>\nimport BaseButton from \"@/components/button/BaseButton\";\nimport StoreUtils from \"@/util/baseUtils/StoreUtils\";\nimport createWalletRequest from \"@/model/request/CreateWallet\";\nimport {mapState} from \"vuex\";\nimport WalletRequest from \"../../model/request/WalletRequest\";\n// import vCurrencySelect from 'vue-currency-select';\n\nexport default {\n  name: \"CreateWalletForm\",\n\n  components:{\n    // BaseButton,\n    // vCurrencySelect\n  },\n\n  props: {\n    showWalletForm: Boolean,\n  },\n  data() {\n    return {\n      showModal: true,\n      createWalletModel:createWalletRequest.createWallet,\n      readWallet: WalletRequest.readWallet,\n      primaryColor:window.__env.app.primaryColor,\n      customOptions:\n        {\n          currency: 'NGN',\n          country: 'Nigeria'\n        },\n\n\n    }\n  },\n  methods:{\n    closeModal() {\n      //close modal form\n      this.showModal = false;\n      this.$emit(\"closeWalletForm\", false);\n      this.showModal = true;\n      //   StoreUtils.commit(StoreUtils.mutations.accountPayout.updateStatus, 'false')\n    },\n\n    onSelect({ dialCode }) {\n      this.createWalletModel.countryCode = dialCode;\n    },\n\n    d(obj){\n      document.getElementById('minA').innerHTML=obj.toLocaleString()\n    },\n\n    selectChanged() {\n      console.log(this.selectedCurrency)\n    },\n\n    createWallet(){\n      this.createWalletModel.currency = 'NGN',\n      this.createWalletModel.minimumBalance = \"0\",\n      this.createWalletModel.maximumBalance = \"0\",\n      StoreUtils.dispatch(StoreUtils.actions.walletTransactions.updateCreatedWallet,this.createWalletModel).then(() => {\n        Object.keys(this.createWalletModel).forEach(key => {\n          this.createWalletModel[key] = null\n          StoreUtils.dispatch(StoreUtils.actions.walletTransactions.updateReadAllWallets,this.readWallet);\n\n        })\n        this.closeModal()\n      })\n    }\n  },\n\n  computed:{\n    ...mapState({\n      loading:state => state.walletTransactions.loading\n    })\n  }\n\n}\n</script>\n\n<style scoped>\n.card-head{\n  /*background-color: #D7E6F3;*/\n  color: white;\n}\n.btn-close{\n  background-color: #FFFFFF;\n}\n.spinner-border {\n  display: inline-block;\n  width: 1rem;\n  height: 1rem;\n  vertical-align: text-bottom;\n  border: 0.25em solid currentColor;\n  border-right-color: transparent;\n  border-radius: 50%;\n  -webkit-animation: spinner-border 0.75s linear infinite;\n  animation: spinner-border 0.75s linear infinite;\n}\n\n@keyframes spinner-border {\n  to {\n    transform: rotate(360deg);\n  }\n}\n</style>"]}]}