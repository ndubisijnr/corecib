{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/sidebarPlugin/SideBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/sidebarPlugin/SideBar.vue","mtime":1684633106024},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKaW1wb3J0IHttYXBTdGF0ZX0gZnJvbSAidnVleCI7CmltcG9ydCBTdG9yZVV0aWxzIGZyb20gIi4uLy4uL3V0aWwvYmFzZVV0aWxzL1N0b3JlVXRpbHMiOwppbXBvcnQgT3JnYW5pc2F0aW9uUmVxdWVzdCBmcm9tICIuLi8uLi9tb2RlbC9yZXF1ZXN0L09yZ2FuaXNhdGlvblJlcXVlc3QiOwppbXBvcnQgV2FsbGV0UmVxdWVzdCBmcm9tICIuLi8uLi9tb2RlbC9yZXF1ZXN0L1dhbGxldFJlcXVlc3QiOwoKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc2lkZWJhcicsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByaW1hcnlDb2xvcjp3aW5kb3cuX19lbnYuYXBwLnByaW1hcnlDb2xvciwKICAgICAgcHJpbWFyeUNvbG9yR3JhZGllbnQ6IHdpbmRvdy5fX2Vudi5hcHAucHJpbWFyeUNvbG9yR3JhZGllbnQsCiAgICAgIC8vIHNob3dCdXNpbmVzc0Zvcm06ZmFsc2UsCiAgICAgIG9yZ2FuaXNhdGlvblJlcXVlc3Q6T3JnYW5pc2F0aW9uUmVxdWVzdC5yZWFkT3JnYW5pc2F0aW9uQnlJZCwKICAgICAgcmVhZE9yZ2FuaXNhdGlvbjpPcmdhbmlzYXRpb25SZXF1ZXN0LnJlYWRPcmdhbmlzYXRpb25CeVVzZXJJZCwKICAgICAgYWxsVHJhbnNhY3Rpb25zTW9kZWw6IFdhbGxldFJlcXVlc3QucmVhZEFsbFdhbGxldFRyYW5zYWN0aW9uLAogICAgfQogIH0sCiAgcHJvcHM6IHsKICAgIHRpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ0NyZWF0aXZlIFRpbScsCiAgICAgIGRlc2NyaXB0aW9uOiAnU2lkZWJhciB0aXRsZScKICAgIH0sCiAgICBzaG9ydFRpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ0NUJywKICAgICAgZGVzY3JpcHRpb246ICdTaWRlYmFyIHNob3J0IHRpdGxlJwogICAgfSwKICAgIGxvZ286IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnL2ltZy90aGVtZS9MT0dPVEVYVC5wbmcnLAogICAgICBkZXNjcmlwdGlvbjogJ1NpZGViYXIgYXBwIGxvZ28nCiAgICB9LAogICAgc2lkZWJhckxpbmtzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXSwKICAgICAgZGVzY3JpcHRpb246CiAgICAgICAgICAiTGlzdCBvZiBzaWRlYmFyIGxpbmtzIGFzIGFuIGFycmF5IGlmIHlvdSBkb24ndCB3YW50IHRvIHVzZSBjb21wb25lbnRzIGZvciB0aGVzZS4iCiAgICB9LAogICAgYXV0b0Nsb3NlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICAgIGRlc2NyaXB0aW9uOgogICAgICAgICAgJ1doZXRoZXIgc2lkZWJhciBzaG91bGQgYXV0b2Nsb3NlIG9uIG1vYmlsZSB3aGVuIGNsaWNraW5nIGFuIGl0ZW0nCiAgICB9CiAgfSwKICBwcm92aWRlKCkgewogICAgcmV0dXJuIHsKICAgICAgYXV0b0Nsb3NlOiB0aGlzLmF1dG9DbG9zZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dCdXNpbmVzc0Zvcm0odmFsdWUpewogICAgICBTdG9yZVV0aWxzLmNvbW1pdChTdG9yZVV0aWxzLm11dGF0aW9ucy5hdXRoLnVwZGF0ZUZvcm0sIHZhbHVlKQogICAgfSwKCiAgICBzd2l0Y2hCdXNpbmVzcyh2YWx1ZSl7CiAgICAgIGxvY2FsU3RvcmFnZS5vcmdhbmlzYXRpb25JZCA9IHZhbHVlCiAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmF1dGgucmVhZE9yZ2FuaXNhdGlvbkJ5SWQpCiAgICAgIC8vIGxvY2F0aW9uLnJlbG9hZCgpCiAgICAgIGNvbnN0IHVzZXJUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpCiAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmF1dGgucmV2YWxpZGF0ZVVzZXIsIHVzZXJUb2tlbikKICAgIH0sCgogICAgbWluaW1pemVTaWRlYmFyKCkgewogICAgICBpZiAodGhpcy4kc2lkZWJhcikgewogICAgICAgIHRoaXMuJHNpZGViYXIudG9nZ2xlTWluaW1pemUoKTsKICAgICAgfQogICAgfSwKCiAgICBhZGRCdXNpbmVzcygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICJOZXdCdXNpbmVzcyJ9KQogICAgfSwKCiAgICBnZXRJZChwYXlsb2FkKSB7CiAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHBheWxvYWQub3JnYW5pc2F0aW9uSWQpKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3N3aXRjaE9yZ2FuaXNhdGlvbicsIHBheWxvYWQsIHtyb290OiBmYWxzZX0pCiAgICB9LAogICAgdG9vZ2xlRCgpewogICAgICBsZXQgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJrIik7CiAgICAgIGxldCB5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFycm93IikKICAgICAgaWYgKHguc3R5bGUuZGlzcGxheSA9PT0gIm5vbmUiKSB7CiAgICAgICAgeC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICB4LmNsYXNzTGlzdC5hZGQoJ3RyYW5zaXRpb24nKQogICAgICAgIHkuY2xhc3NMaXN0LnJlbW92ZSgicm90YXRlMCIpOwogICAgICAgIHkuY2xhc3NMaXN0LmFkZCgicm90YXRlLTE4MCIpOwogICAgICB9IGVsc2UgewogICAgICAgIHguc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICB4LmNsYXNzTGlzdC5hZGQoJ3RyYW5zaXRpb24nKQogICAgICAgIHguc3R5bGUudHJhbnNpdGlvbiA9ICcycyBlYXNlLW91dC1pbiBpbmZpbml0ZScKICAgICAgICB5LmNsYXNzTGlzdC5hZGQoInJvdGF0ZTAiKTsKICAgICAgICB5LmNsYXNzTGlzdC5yZW1vdmUoInJvdGF0ZS0xODAiKTsKICAgICAgfQogICAgfQoKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSh7CiAgICAgIHVzZXJJbmZvOiBzdGF0ZSA9PiBzdGF0ZS5hdXRoLnVzZXJJbmZvLAogICAgICBsb2FkaW5nOiBzdGF0ZSA9PiBzdGF0ZS5hdXRoLmxvYWRpbmcsCiAgICAgIGFsbE9yZ2FuaXNhdGlvbjpzdGF0ZSA9PiBzdGF0ZS5hdXRoLmFsbE9yZ2FuaXNhdGlvbnMsCiAgICAgIGlzZGFya01vZGU6c3RhdGUgPT4gc3RhdGUuYXV0aC5kYXJrTW9kZQogICAgfSksCiAgICBzdGFnZSgpewogICAgICByZXR1cm4gU3RvcmVVdGlscy5yb290R2V0dGVycyhTdG9yZVV0aWxzLmdldHRlcnMuYXV0aC5nZXRTdGFnZSkKICAgIH0sCiAgICBjdXJyZW50T3JnYW5pc2F0aW9uKCl7CiAgICAgIHJldHVybiBTdG9yZVV0aWxzLnJvb3RHZXR0ZXJzKFN0b3JlVXRpbHMuZ2V0dGVycy5hdXRoLmdldEN1cnJlbnRPcmdhbml6YXRpb24pCiAgICB9LAogICAgb3JnYW5pc2F0aW9uTGlzdCgpewogICAgICByZXR1cm4gdGhpcy51c2VySW5mby5vcmdhbmlzYXRpb25zLmZpbHRlcihpdCA9PiBpdC5vcmdhbmlzYXRpb25JZCAhPT0gdGhpcy5jdXJyZW50T3JnYW5pc2F0aW9uLm9yZ2FuaXNhdGlvbklkKQogICAgfQoKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRzaWRlYmFyLmlzTWluaW1pemVkID0gdGhpcy4kc2lkZWJhci5icmVha3BvaW50IDwgd2luZG93LmlubmVyV2lkdGgKICAgIHRoaXMubWluaW1pemVTaWRlYmFyKCkKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJrIikuc3R5bGUuZGlzcGxheSA9ICdub25lJwogICAgLy8gaWYodGhpcy5pc2RhcmtNb2RlKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JhcHBlcicpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMTgxODE4JwogICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dyYXBwZXInKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2Y2ZjZmNicKICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkZCcpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkZGRkZGJwoKCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMuJHNpZGViYXIuc2hvd1NpZGViYXIpIHsKICAgICAgdGhpcy4kc2lkZWJhci5zaG93U2lkZWJhciA9IGZhbHNlOwogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["SideBar.vue"],"names":[],"mappings":";;;AA2DA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SideBar.vue","sourceRoot":"src/components/sidebarPlugin","sourcesContent":["<template>\n  <div class=\"sidenav navbar-vertical fixed-left navbar-expand-xs\"\n       @mouseenter=\"$sidebar.onMouseEnter()\"\n       @mouseleave=\"$sidebar.onMouseLeave()\" :style=\"{backgroundColor:'#413d52'}\">\n    <div class=\"scrollbar-inner\" ref=\"sidebarScrollArea\">\n      <div class=\"sidenav-header\">\n        <div class=\"add-business\" @click=\"toogleD\" :style=\"{backgroundColor:'#413d52'}\">\n            <div class=\"\">\n                <span class=\"arrow ni ni-bold-down\" id=\"arrow\"></span>\n                <div class=\"mt-3\" v-if=\"allOrganisation.length > 0\">\n                <h4 class=\"elispe text-white\" id=\"orgname\">{{currentOrganisation.organisationName}}</h4>\n                <h4 class=\"small text-white\" id=\"id\" v-if=\"currentOrganisation.organisationId\" >{{ `Customer ID : ${Math.floor(Math.random() * (10000,10000))}${(currentOrganisation.organisationId)}${Math.floor(Math.random() * (10000,10000))}`}}</h4>\n                <h4 class=\"small text-white \"  v-else > regenerating ID... </h4>\n                </div>\n                <div class=\"mt-3 only-mobile\" v-if=\"allOrganisation.length > 0\">\n                  <h4 class=\"elispe text-white\">{{currentOrganisation.organisationName}}</h4>\n                  <h4 class=\"small text-white\" v-if=\"currentOrganisation.organisationId\" >{{ `Customer ID : ${Math.floor(Math.random() * (10000,10000))}${(currentOrganisation.organisationId)}${Math.floor(Math.random() * (10000,10000))}`}}</h4>\n                  <h4 class=\"small text-white\" v-else >regenerating...</h4>\n                </div>\n              </div>\n        </div>\n        <div id=\"k\" class=\"business-dropdown\" :style=\"{background:primaryColor}\">\n            <ul class=\"add-business-ul\">\n              <li class=\"add-business-li\" v-for=\"(item, index) in allOrganisation\" :key=\"index\" v-if=\"item.organisationName !== currentOrganisation.organisationName \" @click=\"switchBusiness(item.organisationId)\">\n                {{item.organisationName}} {{index === 0 ? '‚≠ê' : null}}\n              </li>\n            </ul>\n            <div class=\"pl-3 pb-2 p-2 mt--2\">\n              <b-button size=\"sm\" @click=\"showBusinessForm(true)\">Add New Business</b-button>\n            </div>\n          </div>\n      </div>\n      <slot></slot>\n      <div class=\"mt-3 navbar-inner\" v-if=\"allOrganisation.length > 0\" style=\"transform: scale(.9)\">\n        <ul class=\"navbar-nav\">\n          <slot name=\"links\">\n            <sidebar-item\n                v-for=\"(link, index) in sidebarLinks\"\n                :key=\"link.name + index\"\n                :link=\"link\">\n              <sidebar-item\n                  v-for=\"(subLink, index) in link.children\"\n                  :key=\"subLink.name + index\"\n                  :link=\"subLink\"\n              >\n              </sidebar-item>\n            </sidebar-item>\n\n          </slot>\n        </ul>\n        <slot name=\"links-after\"></slot>\n      </div>\n    </div>\n  </div>\n\n</template>\n<script>\n\n\nimport {mapState} from \"vuex\";\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\nimport OrganisationRequest from \"../../model/request/OrganisationRequest\";\nimport WalletRequest from \"../../model/request/WalletRequest\";\n\n\nexport default {\n  name: 'sidebar',\n  data() {\n    return {\n      primaryColor:window.__env.app.primaryColor,\n      primaryColorGradient: window.__env.app.primaryColorGradient,\n      // showBusinessForm:false,\n      organisationRequest:OrganisationRequest.readOrganisationById,\n      readOrganisation:OrganisationRequest.readOrganisationByUserId,\n      allTransactionsModel: WalletRequest.readAllWalletTransaction,\n    }\n  },\n  props: {\n    title: {\n      type: String,\n      default: 'Creative Tim',\n      description: 'Sidebar title'\n    },\n    shortTitle: {\n      type: String,\n      default: 'CT',\n      description: 'Sidebar short title'\n    },\n    logo: {\n      type: String,\n      default: '/img/theme/LOGOTEXT.png',\n      description: 'Sidebar app logo'\n    },\n    sidebarLinks: {\n      type: Array,\n      default: () => [],\n      description:\n          \"List of sidebar links as an array if you don't want to use components for these.\"\n    },\n    autoClose: {\n      type: Boolean,\n      default: true,\n      description:\n          'Whether sidebar should autoclose on mobile when clicking an item'\n    }\n  },\n  provide() {\n    return {\n      autoClose: this.autoClose\n    };\n  },\n  methods: {\n    showBusinessForm(value){\n      StoreUtils.commit(StoreUtils.mutations.auth.updateForm, value)\n    },\n\n    switchBusiness(value){\n      localStorage.organisationId = value\n      StoreUtils.dispatch(StoreUtils.actions.auth.readOrganisationById)\n      // location.reload()\n      const userToken = localStorage.getItem('token')\n      StoreUtils.dispatch(StoreUtils.actions.auth.revalidateUser, userToken)\n    },\n\n    minimizeSidebar() {\n      if (this.$sidebar) {\n        this.$sidebar.toggleMinimize();\n      }\n    },\n\n    addBusiness() {\n      this.$router.push({name: \"NewBusiness\"})\n    },\n\n    getId(payload) {\n      console.log(JSON.stringify(payload.organisationId));\n      this.$store.dispatch('switchOrganisation', payload, {root: false})\n    },\n    toogleD(){\n      let x = document.getElementById(\"k\");\n      let y = document.getElementById(\"arrow\")\n      if (x.style.display === \"none\") {\n        x.style.display = \"block\";\n        x.classList.add('transition')\n        y.classList.remove(\"rotate0\");\n        y.classList.add(\"rotate-180\");\n      } else {\n        x.style.display = \"none\";\n        x.classList.add('transition')\n        x.style.transition = '2s ease-out-in infinite'\n        y.classList.add(\"rotate0\");\n        y.classList.remove(\"rotate-180\");\n      }\n    }\n\n  },\n  computed: {\n    ...mapState({\n      userInfo: state => state.auth.userInfo,\n      loading: state => state.auth.loading,\n      allOrganisation:state => state.auth.allOrganisations,\n      isdarkMode:state => state.auth.darkMode\n    }),\n    stage(){\n      return StoreUtils.rootGetters(StoreUtils.getters.auth.getStage)\n    },\n    currentOrganisation(){\n      return StoreUtils.rootGetters(StoreUtils.getters.auth.getCurrentOrganization)\n    },\n    organisationList(){\n      return this.userInfo.organisations.filter(it => it.organisationId !== this.currentOrganisation.organisationId)\n    }\n\n  },\n  mounted() {\n    this.$sidebar.isMinimized = this.$sidebar.breakpoint < window.innerWidth\n    this.minimizeSidebar()\n    document.getElementById(\"k\").style.display = 'none'\n    // if(this.isdarkMode) document.getElementById('wrapper').style.backgroundColor = '#181818'\n    // document.getElementById('wrapper').style.backgroundColor = '#f6f6f6'\n    // document.getElementById('cardd').style.backgroundColor = '#FFFFFF'\n\n\n  },\n  beforeDestroy() {\n    if (this.$sidebar.showSidebar) {\n      this.$sidebar.showSidebar = false;\n    }\n  },\n};\n</script>\n\n\n<style scoped>\n.add-business{\n  padding-left: 30px;\n  padding-top: 4px;\n  width: 100%;\n  /*background: linear-gradient(to bottom,#3F88Cd, #236395);*/\n  left: 0;\n  height: 90px;\n  cursor: pointer;\n  transition: .2s ease-out;\n\n}\n\n.transition{\n  transition: ease-in-out 2s;\n}\n.add-business-li{\n  list-style: circle !important;\n  padding-top: 8px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: .5s ease-out;\n\n}\n\n.add-business-li:hover{\n  transform: scaleX(1.1);\n  /*background: red;*/\n  transition: .1s ease-in;\n}\n.add-business-ul{\n}\n\n\n.elispe{\n  width: 105px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n\n#k{\n  z-index: 1;\n  position: relative;\n  /*top: 44px;*/\n  left: 0;\n  /*background-color: #e7e7ef;*/\n  color: #ffffff !important;\n  /*background-color: #91a0af;*/\n  width: 100%;\n  transition: 2s ease-out infinite;\n  /*padding: 12px;*/\n}\n\n.business-dropdown{\n  display: none;\n}\n\n.arrow{\n  position: absolute;\n  right: 20px;\n  font-size: 15px;\n  font-weight: 900;\n  transform: rotate(0deg);\n  color: #ffffff;\n}\n\n\n\n\n.sidenav{\n  border: none !important;\n  overflow: scroll;\n  color: white !important;\n}\n\n.sidenav::-webkit-scrollbar {\n  display: none;\n}\n\n.sidenav::-webkit-scrollbar:hover{\n  display: block;\n}\n\n.spinner-border {\n  display: inline-block;\n  width: 1rem;\n  height: 1rem;\n  vertical-align: text-bottom;\n  border: .25em solid currentColor;\n  border-right-color: transparent;\n  border-radius: 50%;\n  -webkit-animation: spinner-border .75s linear infinite;\n  animation: spinner-border .75s linear infinite;\n}\n.only-mobile{\n  display: none;\n}\n@media(max-width:999px){\n  .only-mobile{\n    display:block;\n  }\n}\n\n@keyframes spinner-border {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.link-drop {\n  padding-left: 19px;\n  margin-bottom: 5px;\n  cursor: pointer;\n  color: white;\n  list-style: none;\n  text-align: left;\n}\n\n</style>\n"]}]}