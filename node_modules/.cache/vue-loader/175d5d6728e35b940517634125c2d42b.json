{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/views/settings/Referral.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/views/settings/Referral.vue","mtime":1684675546931},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBTdG9yZVV0aWxzIGZyb20gIi4uLy4uL3V0aWwvYmFzZVV0aWxzL1N0b3JlVXRpbHMiOwppbXBvcnQgQmFzZVRhYmxlIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvdGFibGUvQmFzZVRhYmxlIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgRGFzaGJvYXJkVmlldyBmcm9tICIuLi8uLi9jb21wb25lbnRzL2Rhc2hib2FyZENvbXBvbmVudC9EYXNoYm9hcmRDaXJjbGUiCmltcG9ydCB7bWFwU3RhdGV9IGZyb20gInZ1ZXgiCgpjb25zdCBUb2FzdCA9IFN3YWwubWl4aW4oewogIHRvYXN0OiB0cnVlLAogIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogIHRpbWVyOiAzMDAwLAogIHRpbWVyUHJvZ3Jlc3NCYXI6IHRydWUsCiAgZGlkT3BlbjogKHRvYXN0KSA9PiB7CiAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgU3dhbC5zdG9wVGltZXIpCiAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgU3dhbC5yZXN1bWVUaW1lcikKICB9Cn0pCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlZmVycmFsIiwKICBjb21wb25lbnRzOiB7CiAgICBCYXNlVGFibGUsCiAgICAnZGFzaGJvYXJkLWNhcmQnOkRhc2hib2FyZFZpZXcKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpdGVtczogW10sCiAgICAgIGZpZWxkczogWwogICAgICAgIHsga2V5OiAib3JnYW5pc2F0aW9uTmFtZSIsIGxhYmVsOiAiYnVzaW5lc3NOYW1lIiB9LAogICAgICAgIHsga2V5OiAib3JnYW5pc2F0aW9uU3RhdHVzIiwgbGFiZWw6ICJidXNpbmVzc1N0YXR1cyIgfSwKICAgICAgICB7IGtleTogIm9yZ2FuaXNhdGlvbkNyZWF0ZWRBdCIsIGxhYmVsOiAiRGF0ZSBKb2luZWQiIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY29weVRvQ2xpcGJvYXJkKCkgewogICAgICBsZXQgY29weUxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29udGVudCIpLnZhbHVlOwogICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb3B5TGluaykudGhlbigoKSA9PiB7CiAgICAgICAgVG9hc3QuZmlyZSh7IHRleHQ6ICJDb3BpZWQgdG8gY2xpcGJvYXJkIiwgaWNvbjogInN1Y2Nlc3MiIH0pLnRoZW4oCiAgICAgICAgICAoKSA9PiB7fQogICAgICAgICk7CiAgICAgIH0pOwogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICBnZXRSZWZlcnJhbExpbmsoKSB7CiAgICAgIGxldCB1cmwgPSB3aW5kb3cuX19lbnYuYXBwLnVybDsKICAgICAgbGV0IHJlZmVycmFsTGluayA9IFN0b3JlVXRpbHMucm9vdEdldHRlcnMoCiAgICAgICAgU3RvcmVVdGlscy5nZXR0ZXJzLmF1dGguZ2V0T3JnaW5pemF0aW9uUmVmZXJyYWxMaW5rCiAgICAgICk7CiAgICAgIHJldHVybiBgJHt1cmx9L3NpZ251cC8ke3JlZmVycmFsTGlua31gOwogICAgfSwKCiAgICAuLi5tYXBTdGF0ZSh7CiAgICAgIGxvYWRpbmdSZWZmZXJhbDpzdGF0ZSA9PiBzdGF0ZS5hdXRoLmxvYWRpbmcsCiAgICAgIHJlZmZlcmFsc3RhdHM6c3RhdGUgPT4gc3RhdGUuYXV0aC5yZWZmZXJhbHN0YXRzLAogICAgICByZWZlcmFsYmFsYW5jZTpzdGF0ZSA9PiBzdGF0ZS5hdXRoLmJhbGFuY2VzCgogICAgfSkKICB9LAoKICBtb3VudGVkKCkgewogICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMuYXV0aC5yZWFkUmVmZmVyYWxTdGF0ZSkKICB9LAp9Owo="},{"version":3,"sources":["Referral.vue"],"names":[],"mappings":";AA8CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"Referral.vue","sourceRoot":"src/views/settings","sourcesContent":["<template>\n  <div class=\"m-3\">\n    <div class=\"tab\">\n      <b-card-body>\n        <div class=\"inner-card\">\n          <b-container class=\"itemabc1234\">\n            <div class=\"p-2\" style=\"z-index: 9999999\">\n              <lottie-player src=\"https://assets5.lottiefiles.com/packages/lf20_rkboxc5u.json\"  background=\"transparent\"\n                             speed=\"1\"  style=\"top:-20px;left:170px; width: 100px; height: 100px;\"  loop  autoplay></lottie-player>\n              <h4 style=\"z-index: 9999999\">Your Referral link</h4>\n              <p class=\"text-dark\">\n                Refer new merchants with your referral Link and earn 10% on the\n                revenue Corestep makes from each transaction.\n              </p>\n              <div style=\"z-index: 9999999\" class=\"mb-3\" @click=\"copyToClipboard()\" title=\"click to copy to clipboard\" >\n                <label>click on link to copy</label>\n                <input\n                  class=\"form-control form-control-md\"\n                  :value=\"getReferralLink\"\n                  id=\"content\"\n                  style=\"cursor: pointer;\"\n                  disabled\n                />\n              </div>\n            </div>\n          </b-container>\n          <b-container class=\"itemabc123\">\n            <dashboard-card :value=\"refferalstats.totalReferrals == null ? '0' : refferalstats.totalReferrals\" :title=\"'Total Referrals'\" :showBtn=\"false\" :showBtn1=\"false\"></dashboard-card>\n            <dashboard-card :show=\"true\" :refresh=\"true\" :currency=\"'â‚¦'\" :value=\"referalbalance.referralBalance.accountBalance | formatAmount\" :title=\"'Total Revenue'\" :showBtn=\"false\" :showBtn1=\"false\"></dashboard-card>\n          </b-container>\n          \n        </div>\n         <div class=\"text-center\">\n        <base-table\n          :items=\"refferalstats.referral\"\n          :fields=\"fields\"\n          filter-mode=\"default\"\n          :is-busy=\"loadingRefferal\"\n        />\n      </div>\n      </b-card-body>\n    </div>\n  </div>\n</template>\n\n<script>\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\nimport BaseTable from \"../../components/table/BaseTable\";\nimport Swal from \"sweetalert2\";\nimport DashboardView from \"../../components/dashboardComponent/DashboardCircle\"\nimport {mapState} from \"vuex\"\n\nconst Toast = Swal.mixin({\n  toast: true,\n  position: 'top-end',\n  showConfirmButton: false,\n  timer: 3000,\n  timerProgressBar: true,\n  didOpen: (toast) => {\n    toast.addEventListener('mouseenter', Swal.stopTimer)\n    toast.addEventListener('mouseleave', Swal.resumeTimer)\n  }\n})\n\nexport default {\n  name: \"Referral\",\n  components: {\n    BaseTable,\n    'dashboard-card':DashboardView\n  },\n  data() {\n    return {\n      items: [],\n      fields: [\n        { key: \"organisationName\", label: \"businessName\" },\n        { key: \"organisationStatus\", label: \"businessStatus\" },\n        { key: \"organisationCreatedAt\", label: \"Date Joined\" },\n      ],\n    };\n  },\n  methods: {\n    copyToClipboard() {\n      let copyLink = document.getElementById(\"content\").value;\n      navigator.clipboard.writeText(copyLink).then(() => {\n        Toast.fire({ text: \"Copied to clipboard\", icon: \"success\" }).then(\n          () => {}\n        );\n      });\n    },\n  },\n  computed: {\n    getReferralLink() {\n      let url = window.__env.app.url;\n      let referralLink = StoreUtils.rootGetters(\n        StoreUtils.getters.auth.getOrginizationReferralLink\n      );\n      return `${url}/signup/${referralLink}`;\n    },\n\n    ...mapState({\n      loadingRefferal:state => state.auth.loading,\n      refferalstats:state => state.auth.refferalstats,\n      referalbalance:state => state.auth.balances\n\n    })\n  },\n\n  mounted() {\n    StoreUtils.dispatch(StoreUtils.actions.auth.readRefferalState)\n  },\n};\n</script>\n\n<style scoped>\n.inner-card {\n  display: flex;\n  justify-content: space-around;\n  padding: 30px;\n  line-height: 3rem;\n  font-family: \"Fibon Sans\";\n  background-color: white;\n\n}\n.tab{\n    margin-top:2%;\n    box-shadow: 0 1px 2px hsl(0deg 0% 0% / 20%);\n    background-color: white;\n}\n@media (max-width:999px) {\n  .inner-card {\n  display: flex;\n  justify-content: space-around;\n  padding: 5px;\n  flex-direction: column-reverse;\n  line-height: 3rem;\n  font-family: \"Fibon Sans\";\n}\n.itemabc123 {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n    flex-direction: column-reverse;\n\n}\n}\n.itemabc123 {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n}\n\n.itemabc1234 {\n  width: 100%;\n  display: flex;\n  align-items: center;\n}\n\n</style>"]}]}