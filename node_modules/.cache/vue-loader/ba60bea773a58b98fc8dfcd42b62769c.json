{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/form/DisputeForm.vue?vue&type=style&index=0&id=09d61766&scoped=true&lang=css&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/form/DisputeForm.vue","mtime":1684370058997},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/css-loader/dist/cjs.js","mtime":1670880042824},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1670880044043},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/postcss-loader/src/index.js","mtime":1670880043297},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jYXJkLWhlYWR7CiAgY29sb3I6ICM0MTNkNTI7Cn0KCi5idG4tY2xvc2V7CiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjsKfQouc3Bpbm5lci1ib3JkZXIgewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207CiAgYm9yZGVyOiAwLjE1ZW0gc29saWQgY3VycmVudENvbG9yOwogIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgLXdlYmtpdC1hbmltYXRpb246IHNwaW5uZXItYm9yZGVyIDAuNzVzIGxpbmVhciBpbmZpbml0ZTsKICBhbmltYXRpb246IHNwaW5uZXItYm9yZGVyIDAuNzVzIGxpbmVhciBpbmZpbml0ZTsKfQoKQGtleWZyYW1lcyBzcGlubmVyLWJvcmRlciB7CiAgdG8gewogICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsKICB9Cn0K"},{"version":3,"sources":["DisputeForm.vue"],"names":[],"mappings":";AAsMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"DisputeForm.vue","sourceRoot":"src/components/form","sourcesContent":["   <template>\n  <modal-1 :show=\"showCreateDispute && showModal\" body-classes=\"p-1\" modal-classes=\"modal-dialog-centered modal-md\">\n    <div>\n      <div class=\"card-head\">\n        <div class=\"d-flex justify-content-between\">\n          <h4 style=\"font-size:18px;font-weight:700;width: 100%;display: flex;justify-content: center;align-items: center\">Log A Dispute</h4>\n          <button type=\"button\" class=\"btn-close p-2 m-2\" @click=\"closeModal()\" title=\"Cancel Request Payout\"></button>\n        </div>\n      </div>\n\n      <div class=\"card-body\">\n        <form role=\"form\" @submit.prevent=\"transactionsQuery()\" v-if=\"status == 'false'\">\n          <div class=\"form-floating mb-3\">\n            <input type=\"tel\" class=\"form-control\" placeholder=\"Session ID or Transaction Refrenence\" required\n              v-model=\"transactionsQuerymodel.reference\" />\n            <label>Session ID or Transaction Refrenence</label>\n          </div>\n          <b-button type=\"submit\" v-if=\"status == 'false'\"\n            :style=\"{backgroundColor:primaryColor,border:'none',color:'white'}\">\n            <span v-if=\"!loading2\">Proceed</span>\n            <span :class=\"{ 'spinner-border': loading2 }\" :disabled=\"loading2\"></span>\n          </b-button>\n\n        </form>\n\n        <form role=\"form\" @submit.prevent=\"logDispute()\" v-else>\n          <div class=\"form-floating mb-3\">\n            <input type=\"tel\" class=\"form-control\" placeholder=\"Payment Refrenence\" required\n              v-model=\"transactionquery.trnReference\" disabled />\n            <label>Payment Refrenence</label>\n          </div>\n          <div class=\"form-floating mb-3\">\n            <select class=\"form-select\" aria-label=\"Default select example\" required\n              v-model=\"createDisputemodel.disputeIssueType\">\n              <option value=\"Credit\" selected>Credit</option>\n              <option value=\"Debit\">Debit</option>\n            </select>\n            <label>Dispute Issue Type</label>\n          </div>\n          <div class=\"row\">\n            <div class=\"col col-6 mb-3\">\n              <label>Dispute Transaction Type</label>\n              <input type=\"tel\" class=\"form-control\" placeholder=\"Dispute Transaction Type\" disabled\n                :value=\"transactionquery.transactionType == null ? 'NA' : transactionquery.transactionType\" required />\n            </div>\n\n            <div class=\"col col-6 mb-3\">\n              <label>Dispute Remark</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Dispute Remark\" value=\"Transaction\" disabled />\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <div class=\"col\">\n              <label>Debit Account Name</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Debit Account Name\"\n                :value=\"transactionquery.trnDrAccountName\" required disabled />\n            </div>\n            <div class=\"col\">\n              <label>Debit Account Number</label>\n              <input type=\"number\" class=\"form-control\" placeholder=\"Organasation ID\"\n                :value=\"transactionquery.trnDrAccountNumber\" required disabled />\n            </div>\n\n          </div>\n\n          <div class=\"row mb-3\">\n            <div class=\"col\">\n              <label>Credit Account Number</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Organasation ID\"\n                :value=\"transactionquery.trnCrAccountNumber\" required disabled />\n            </div>\n            <div class=\"col\">\n              <label>narration</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"narration\" :value=\"transactionquery.trnNarration\"\n                required disabled />\n            </div>\n\n          </div>\n          <div class=\"row\">\n            <div class=\"col mb-3\">\n              <label>Bank Name</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Bank Name\" required disabled\n                v-model=\"transactionquery.trnCrInstitutionName\n\" />\n            </div>\n            <div class=\"col mb-3\">\n              <label>Amount</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Bank Name\" required disabled\n                v-model=\"transactionquery.trnAmount\" />\n            </div>\n          </div>\n          <div class=\"form-floating mb-3\">\n            <textarea type=\"text\" class=\"form-control h-25\" placeholder=\"Dispute Comment\" cols=\"5\" required\n              v-model=\"createDisputemodel.disputeComment\" />\n            <label>Dispute Comment</label>\n          </div>\n\n          <b-button type=\"submit\" v-if=\"status != 'false'\"\n                    :style=\"{backgroundColor:primaryColor,border:'none',color:'white'}\"><span v-if=\"!loading2\">Proceed</span>\n            <span :class=\"{ 'spinner-border': loading2 }\" :disabled=\"loading2\"></span>\n          </b-button>\n        </form>\n      </div>\n    </div>\n  </modal-1>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport DisputeRequest from \"../../model/request/DisputeRequest\";\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\n\nexport default {\n  name: \"Dispute-Form\",\n  props: {\n    showCreateDispute: Boolean,\n  },\n  data: () => {\n    return {\n      showModal: true,\n      createDisputemodel: DisputeRequest.disputeCreate,\n      transactionsQuerymodel: DisputeRequest.transactionStatusQuery,\n      disputeReadModel: DisputeRequest.disputeRead,\n      primaryColor:window.__env.app.primaryColor,\n\n    };\n  },\n\n  methods: {\n    closeModal() {\n      //close modal form\n      this.showModal = false;\n      this.$emit(\"closeCreateDispute\", false);\n      this.showModal = true;\n      StoreUtils.commit(StoreUtils.mutations.dispute.updateStatus, 'false')\n    },\n\n    logDispute() {\n      //set dispute session id from transaction reference\n      this.createDisputemodel.disputeOrgId = this.currentOrganisationId.organisationId\n      this.createDisputemodel.disputeSessionId = this.transactionsQuerymodel.reference,\n        this.createDisputemodel.disputeRemark = \"Transaction\",\n        this.createDisputemodel.disputeTrnType = \"NA\",\n        //call create dispute action\n        StoreUtils.dispatch(\n          StoreUtils.actions.dispute.createDispute,\n          this.createDisputemodel\n        ).then(() => {\n          //clear create dispute form\n          this.createDisputemodel.disputeComment = null,\n            this.createDisputemodel.disputeSessionId = null,\n            this.transactionsQuerymodel = {}\n          this.closeModal();\n\n        });\n    },\n\n    transactionsQuery() {\n      //call create transaction query action\n      StoreUtils.dispatch(\n        StoreUtils.actions.dispute.updateTransactionQuery,\n        this.transactionsQuerymodel\n      )\n\n    },\n  },\n  computed: {\n    ...mapState({\n      loading2: (state) => state.dispute.loading2,\n      userinfo: (state) => state.auth.userInfo,\n      //get's oraganisation ID from localstorage\n      currentOrganisationId: () => { return StoreUtils.rootGetters(StoreUtils.getters.auth.getCurrentOrganization) },\n      transactionquery: (state) => state.dispute.transactionsquery,\n      success: (state) => state.dispute.success,\n      status: state => state.dispute.status\n    }),\n  },\n\n  watch: {\n    status(newvalue) {\n      //watch for change to close modal form and update dispute table \n      if (newvalue == 'read') {\n        this.disputeReadModel.disputeId = localStorage.organisationId;\n        StoreUtils.dispatch(\n          StoreUtils.actions.dispute.updateDisputes,\n          this.disputeReadModel\n        );\n        this.closeModal()\n      }\n\n    }\n  },\n\n};\n</script>\n\n<style scoped>\n.card-head{\n  color: #413d52;\n}\n\n.btn-close{\n  background-color: #FFFFFF;\n}\n.spinner-border {\n  display: inline-block;\n  vertical-align: text-bottom;\n  border: 0.15em solid currentColor;\n  border-right-color: transparent;\n  -webkit-animation: spinner-border 0.75s linear infinite;\n  animation: spinner-border 0.75s linear infinite;\n}\n\n@keyframes spinner-border {\n  to {\n    transform: rotate(360deg);\n  }\n}\n</style>\n"]}]}