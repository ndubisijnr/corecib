{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/kyc-components/KycForm.vue?vue&type=style&index=0&id=14874f28&scoped=true&lang=css&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/kyc-components/KycForm.vue","mtime":1684759230179},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/css-loader/dist/cjs.js","mtime":1670880042824},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1670880044043},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/postcss-loader/src/index.js","mtime":1670880043297},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cgoua3ljQnV0dG9uewogIGNvbG9yOndoaXRlICFpbXBvcnRhbnQ7CiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKfQoKLmNhcmQtaGVhZHsKICAvKmJhY2tncm91bmQtY29sb3I6ICNEN0U2RjM7Ki8KICBjb2xvcjogIzQxM2Q1MjsKfQoK"},{"version":3,"sources":["KycForm.vue"],"names":[],"mappings":";;AAsRA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"KycForm.vue","sourceRoot":"src/components/kyc-components","sourcesContent":["<template>\n  <div>\n    <modal-1 :show=\"showKycForm && showModal && !cancel\">\n      <div>\n        <div class=\"card-head\">\n          <div class=\"d-flex justify-content-between\">\n            <h4 style=\"color:#413d52;font-size:18px;font-weight:700;width: 100%;display: flex;justify-content: center;align-items: center\">{{kycVerificationType}}</h4>\n            <button type=\"button\" class=\"btn-close p-2 m-2\" @click=\"closeModal2\" title=\"Cancel Create Wallet Account\"></button>\n          </div>\n        </div>\n          <div>\n<!--            <h4 class=\"text-center m-4\">Tell us about who you want to verify</h4>-->\n          </div>\n        <div class=\"\">\n          <b-form @submit.prevent=\"kycVerificationAction\">\n            <div v-if=\"kycVerificationType == 'Corporate affairs commission'\">\n            <b-form-group label=\"Type\">\n              <b-form-select v-model=\"KycRequest_corporate_affairsModal.type\" required>\n                <b-form-select-option value=\"business\">Business</b-form-select-option>\n                <b-form-select-option value=\"limited_company\">Limited Company</b-form-select-option>\n                <b-form-select-option value=\"incorprated_trustee\">Incorporated Trustee</b-form-select-option>\n              </b-form-select>\n            </b-form-group>\n            <b-form-group label=\"RcNumber\">\n              <b-form-input v-model=\"KycRequest_corporate_affairsModal.rcNumber\" required></b-form-input>\n            </b-form-group>\n            </div>\n\n\n\n            <!-- Bank verification number -->\n\n            <div v-else-if=\"kycVerificationType === 'Bank verification number'\">\n              <b-form-group  label=\"First Name\">\n                <b-form-input v-model=\"KycRequest_bank_verificationModal.firstName\"  required></b-form-input>\n              </b-form-group>\n              <b-form-group  label=\"Last Name\">\n                <b-form-input  v-model=\"KycRequest_bank_verificationModal.lastName\"   required></b-form-input>\n              </b-form-group>\n              <b-form-group label=\"Date Of Birth\">\n                  <b-form-input\n                      v-model=\"KycRequest_bank_verificationModal.dob\"\n                      type=\"date\"\n                      placeholder=\"DD-MM-YYYY\"\n                      maxLength=\"10\"\n                      required\n                  ></b-form-input>\n                </b-form-group>\n              <b-form-group label=\"Bank verification number\">\n                <b-form-input v-model=\"KycRequest_bank_verificationModal.bvn\"  maxLength=\"11\" required></b-form-input>\n              </b-form-group>\n            </div>\n\n            <!-- End Bank verification number -->\n\n\n\n            <div v-else-if=\"kycVerificationType === 'National identity'\">\n              <b-form-group  label=\"First Name\">\n                <b-form-input v-model=\"KycRequest_national_identityModal.firstName\"required></b-form-input>\n              </b-form-group>\n              <b-form-group  label=\"Last Name\">\n                <b-form-input v-model=\"KycRequest_national_identityModal.lastName\" required></b-form-input>\n              </b-form-group>\n              <b-form-group label=\"Date Of Birth\">\n                <b-form-input\n                    v-model=\"KycRequest_national_identityModal.dob\"\n                    type=\"date\"\n                    placeholder=\"DD-MM-YYYY\"\n                    required\n                ></b-form-input>\n              </b-form-group>\n              <b-form-group label=\"ID Number\">\n                <b-form-input v-model=\"KycRequest_national_identityModal.idNumber\" required></b-form-input>\n              </b-form-group>\n            </div>\n            <div v-else-if=\"kycVerificationType === 'Drivers license'\">\n              <b-form-group  label=\"First Name\">\n                <b-form-input v-model=\"KycRequest_drivers_licenceModal.firstName\" required></b-form-input>\n              </b-form-group>\n              <b-form-group  label=\"Last Name\">\n                <b-form-input v-model=\"KycRequest_drivers_licenceModal.lastName\" required></b-form-input>\n              </b-form-group>\n              <b-form-group label=\"Date Of Birth\">\n                <b-form-input\n                    v-model=\"KycRequest_drivers_licenceModal.dob\"\n                    type=\"date\"\n                    placeholder=\"DD-MM-YYYY\"\n                    required\n                ></b-form-input>\n              </b-form-group>\n\n              <b-form-group label=\"License Number\">\n                <b-form-input v-model=\"KycRequest_drivers_licenceModal.licenseNumber\" required></b-form-input>\n              </b-form-group>\n            </div>\n            <div v-else-if=\"kycVerificationType === 'Tax identification number'\">\n              <b-form-group label=\"Tax Identification Number\">\n                <b-form-input v-model=\"KycRequest_tax_identification_numberModal.taxIdentificationNumber\" required></b-form-input>\n              </b-form-group>\n            </div>\n            <div v-else-if=\"kycVerificationType === 'Voters card'\">\n              <b-form-group  label=\"First Name\">\n                <b-form-input v-model=\"KycRequest_voter_cardModal.firstName\" required></b-form-input>\n              </b-form-group>\n              <b-form-group  label=\"Last Name\">\n                <b-form-input v-model=\"KycRequest_voter_cardModal.lastName\" required></b-form-input>\n              </b-form-group>\n              <b-form-group label=\"Date Of Birth\">\n                <b-form-input\n                    v-model=\"KycRequest_voter_cardModal.dob\"\n                    type=\"date\"\n                    placeholder=\"DD-MM-YYYY\"\n                    required\n                ></b-form-input>\n              </b-form-group>\n              <b-form-group label=\"ID Number\">\n                <b-form-input v-model=\"KycRequest_voter_cardModal.idNumber\" required></b-form-input>\n              </b-form-group>\n            </div>\n            <b-button type=\"submit\" :style=\"{backgroundColor:primaryColor}\" class=\"kycButton\" :disabled=\"loading\">{{loading ? 'Please Wait' : 'Proceed'}}</b-button>\n          </b-form>\n        </div>\n      </div>\n  </modal-1>\n  </div>\n</template>\n\n<script>\nimport KycLists from \"../../components/kyc-components/KycLists\";\nimport KycRequest from \"../../model/request/KycRequest\";\nimport {mapState} from \"vuex\";\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\nimport router from \"../../router\";\n\nexport default {\n  name: \"KycForm\",\n  props: {\n    showKycForm: Boolean,\n  },\n  components: {\n    KycLists,\n  },\n\n  data() {\n    return {\n      showModal2: false,\n      showModal: true,\n      cancel:false,\n      formatted: null,\n      primaryColor: window.__env.app.primaryColor,\n      KycRequest_corporate_affairsModal: KycRequest.corporate_affairs,\n      KycRequest_bank_verificationModal: JSON.parse(JSON.stringify(KycRequest.bank_verification)),\n      KycRequest_tax_identification_numberModal: KycRequest.tax_identification_number,\n      KycRequest_voter_cardModal: KycRequest.voter_card,\n      KycRequest_drivers_licenceModal: KycRequest.drivers_licence,\n      KycRequest_national_identityModal: KycRequest.national_identity,\n      BankValidation:{\n        first_name:false,\n        last_name:false,\n        dob:false,\n        bvn:false\n      }\n\n    }\n  },\n\n  methods: {\n    kycVerificationAction() {\n      if (this.kycVerificationType === 'Corporate affairs commission') {\n        this.KycRequest_corporate_affairsModal.reference = `BIZGEM-${this.reference(30)}`\n        StoreUtils.dispatch(StoreUtils.actions.kycVerification.UpdateCorporateAffairs, this.KycRequest_corporate_affairsModal).then(() => {\n          this.closeModal2()\n        })\n      }\n\n      else if (this.kycVerificationType === 'Bank verification number') {\n        let date = new Date(this.KycRequest_bank_verificationModal.dob).toLocaleDateString().replaceAll('/','-')\n        this.KycRequest_bank_verificationModal.dob = date\n        this.KycRequest_bank_verificationModal.reference = `BIZGEM-${this.reference(30)}`\n        StoreUtils.dispatch(StoreUtils.actions.kycVerification.UpdateBvn, this.KycRequest_bank_verificationModal).then(() => {\n          this.closeModal2()\n        })\n      }\n\n      else if (this.kycVerificationType === 'National identity') {\n        let date = new Date(this.KycRequest_national_identityModal.dob).toLocaleDateString().replaceAll('/','-')\n        this.KycRequest_national_identityModal.dob = date\n        this.KycRequest_national_identityModal.reference = `BIZGEM-${this.reference(30)}`\n        StoreUtils.dispatch(StoreUtils.actions.kycVerification.UpdateNationalIdentity, this.KycRequest_national_identityModal).then(() => {\n          this.closeModal2()\n        })\n      }\n\n      else if (this.kycVerificationType === 'Drivers license') {\n        let date = new Date(this.KycRequest_drivers_licenceModal.dob).toLocaleDateString().replaceAll('/','-')\n        this.KycRequest_drivers_licenceModal.dob = date\n        this.KycRequest_drivers_licenceModal.reference = `BIZGEM-${this.reference(30)}`\n        StoreUtils.dispatch(StoreUtils.actions.kycVerification.UpdateDriversLicense, this.KycRequest_drivers_licenceModal).then(() => {\n          this.closeModal2()\n        })\n      }\n\n      else if (this.kycVerificationType === 'Tax identification number') {\n        this.KycRequest_tax_identification_numberModal.reference = `BIZGEM-${this.reference(30)}`\n        StoreUtils.dispatch(StoreUtils.actions.kycVerification.UpdateTax, this.KycRequest_tax_identification_numberModal).then(() => {\n          this.closeModal2()\n        })\n      }\n\n      else if (this.kycVerificationType === 'Voters card') {\n        this.KycRequest_voter_cardModal.reference = `BIZGEM-${this.reference(30)}`\n        StoreUtils.dispatch(StoreUtils.actions.kycVerification.UpdateVoterCard, this.KycRequest_voter_cardModal).then(() => {\n          this.closeModal2()\n        })\n      }\n    },\n\n    closeModal2() {\n      //close modal form\n      this.showModal= false;\n      this.$emit(\"closeKycForm\", false);\n      this.showModal= true;\n    },\n\n    closeModal() {\n      this.showModal2 = false;\n    },\n\n    showKycForm2(modelValue) {\n      this.showModal2 = modelValue\n    },\n    reference(length) {\n      let result = \"\"\n      let characters = 'abcdefghijklmnopgrstuvwxyzABCDEFJHIJKLMNOPQRSTUVWXYZ0123456789';\n      let charactersLength = characters.length;\n      for (var i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n      return result;\n    },\n\n    onContext(ctx) {\n      // The date formatted in the locale, or the `label-no-date-selected` string\n      this.formatted = ctx.selectedFormatted\n      // The following will be an empty string until a valid date is entered\n      this.selected = ctx.selectedYMD\n      console.log(this.formatted)\n    }\n\n  },\n\n  computed: {\n    ...mapState({\n      kycVerificationType: state => state.kycVerification.kycType,\n      loading: state => state.kycVerification.loading\n    }),\n\n    // BnvValidationState() {\n    //   if (JSON.stringify(this.KycRequest_bank_verificationModal.bvn)) {\n    //     return JSON.stringify(this.KycRequest_bank_verificationModal.bvn.length) == 11 ? this.BankValidation.bvn = true : this.BankValidation.bvn = false\n    //   }\n    //   if (JSON.stringify(this.KycRequest_bank_verificationModal.firstName)) {\n    //     return JSON.stringify(this.KycRequest_bank_verificationModal.firstName.length) > 2 ? this.BankValidation.first_name = true : this.BankValidation.first_name = false\n    //   }\n    //   if (this.KycRequest_bank_verificationModal.lastName !== null) {\n    //     return this.KycRequest_bank_verificationModal.lastName.length > 2 ? this.BankValidation.last_name = true : this.BankValidation.last_name = false\n    //   }\n    //   if (this.KycRequest_bank_verificationModal.dob !== null){\n    //     return this.KycRequest_bank_verificationModal.dob.length > 7 ? this.BankValidation.dob  = true : this.BankValidation.dob = false\n    //   }\n    // }\n  }\n}\n</script>\n\n<style scoped>\n\n.kycButton{\n  color:white !important;\n  width: 100% !important;\n}\n\n.card-head{\n  /*background-color: #D7E6F3;*/\n  color: #413d52;\n}\n\n</style>"]}]}