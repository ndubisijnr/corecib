{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/views/transactions/Transactions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/views/transactions/Transactions.vue","mtime":1683674085873},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBTZWFyY2hGb3JtIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvZm9ybS9TZWFyY2hGb3JtIjsKaW1wb3J0IEJhc2VUYWJsZSBmcm9tICIuLi8uLi9jb21wb25lbnRzL3RhYmxlL0Jhc2VUYWJsZSI7CmltcG9ydCBXYWxsZXRSZXF1ZXN0IGZyb20gIi4uLy4uL21vZGVsL3JlcXVlc3QvV2FsbGV0UmVxdWVzdCI7CmltcG9ydCBTZWFyY2hNb2R1bGV1dGlsIGZyb20gIi4uLy4uL3V0aWwvY29uc3RhbnQvU2VhcmNoTW9kdWxldXRpbCI7CmltcG9ydCBUb2FzdCBmcm9tICIuLi8uLi8uLi90b2FzdE5vdGlmaWNhdGlvbiI7CmltcG9ydCB7bWFwU3RhdGV9IGZyb20gInZ1ZXgiOwppbXBvcnQgU3RvcmVVdGlscyBmcm9tICIuLi8uLi91dGlsL2Jhc2VVdGlscy9TdG9yZVV0aWxzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVHJhbnNhY3Rpb25zIiwKICBwcm9wczp7CiAgICB3aXRoU2VhcmNoOnsKICAgICAgZGVmYXVsdDoiWUVTIgogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFNlYXJjaEZvcm0sCiAgICBCYXNlVGFibGUKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbGxUcmFuc2FjdGlvbnNNb2RlbDogV2FsbGV0UmVxdWVzdC5yZWFkQWxsV2FsbGV0VHJhbnNhY3Rpb24sCiAgICAgIFRSQU5TQUNUSU9OOiBTZWFyY2hNb2R1bGV1dGlsLlRSQU5TQUNUSU9OUywKICAgICAgbGlnaHQ6ICJsaWdodCIsCiAgICAgIHR5cGU6ICIiLAogICAgICBpdGVtczogW10sCiAgICAgIGZpZWxkczogWwogICAgICAgIHsga2V5OiAidHJuRHJDciIsIGxhYmVsOiAiZHJDciIgfSwKICAgICAgICB7IGtleTogInRybkFtb3VudCIsIGxhYmVsOiAiYW1vdW50Iixzb3J0YWJsZTogdHJ1ZSwgY2xhc3M6J3RleHQtcmlnaHQnICB9LAogICAgICAgIHsga2V5OiAidHJuQ29tbWlzc2lvbiIsIGxhYmVsOiAiY29tbWlzc2lvbiIsIGNsYXNzOid0ZXh0LXJpZ2h0JyAgfSwKICAgICAgICB7IGtleTogInRybkZlZSIsIGxhYmVsOiAiZmVlIiwgY2xhc3M6J3RleHQtcmlnaHQnIH0sCiAgICAgICAgeyBrZXk6ICJ0cm5SYXRlIiwgbGFiZWw6ICJyYXRlIiwgY2xhc3M6J3RleHQtcmlnaHQnICB9LAogICAgICAgIHsga2V5OiAidHJuU2VydmljZSIsIGxhYmVsOiAiU2VydmljZSIgfSwKICAgICAgICB7IGtleTogInRybkRyQWNjb3VudE51bWJlciIsIGxhYmVsOiAiVFJORHIuQWNjb3VudE51bWJlciIsY2xhc3M6J3RleHQtbGVmdCcgfSwKICAgICAgICB7IGtleTogInRybkRyQWNjb3VudE5hbWUiLCBsYWJlbDogInRybkRyLiBBY2NvdW50TmFtZSIgfSwKICAgICAgICB7IGtleTogInRybk5hcnJhdGlvbiIsIGxhYmVsOiAidHJuTmFycmF0aW9uIixjbGFzczondGV4dC1sZWZ0JyB9LAogICAgICAgIC8veyBrZXk6ICJjb3VudGVyUGFydHlCYW5rQ29kZSIsIGxhYmVsOiAiY291bnRlclBhcnR5QmFua0NvZGUiIH0sCiAgICAgICAgeyBrZXk6ICJ0cm5TdGF0dXMiLCBsYWJlbDogIlN0YXR1cyIgfSwKICAgICAgICB7IGtleTogInRybkNyZWF0ZWRBdCIsIGxhYmVsOiAiQ3JlYXRlZEF0IiB9LAogICAgICAgIHsga2V5OiAiVHJhbnNhY3Rpb25BY3Rpb24iLCBsYWJlbDogImFjdGlvbnMiIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZG93bmxvYWQoKXsKICAgICAgaWYodGhpcy50cmFuc2FjdGlvbnMubGVuZ3RoIDw9IDApewogICAgICAgIFRvYXN0LmZpcmUoe3RleHQ6Ik5vIGRhdGEgdG8gZG93bmxvYWQiLCBpY29uOiJlcnJvciJ9KQogICAgICB9ZWxzZXsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwb3J0JykuY2xpY2soKQogICAgICB9CiAgICB9CgogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBzb3J0T3B0aW9ucygpIHsKICAgICAgLy8gQ3JlYXRlIGFuIG9wdGlvbnMgbGlzdCBmcm9tIG91ciBmaWVsZHMKICAgICAgcmV0dXJuIHRoaXMuZmllbGRzCiAgICAgICAgICAuZmlsdGVyKChmKSA9PiBmLnNvcnRhYmxlKQogICAgICAgICAgLm1hcCgoZikgPT4gewogICAgICAgICAgICByZXR1cm4geyB0ZXh0OiBmLmxhYmVsLCB2YWx1ZTogZi5rZXkgfTsKICAgICAgICAgIH0pOwogICAgfSwKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgdXNlckluZm9ybWF0aW9uOiAoc3RhdGUpID0+IHN0YXRlLmF1dGgudXNlckluZm8sCiAgICAgIHRyYW5zYWN0aW9uczogKHN0YXRlKSA9PiBzdGF0ZS50cmFuc2FjdGlvbnMudHJhbnNhY3Rpb25zLAogICAgICBsb2FkaW5nOiAoc3RhdGUpID0+IHN0YXRlLnRyYW5zYWN0aW9ucy5sb2FkaW5nLAogICAgfSksCgogICAgbXlTdHlsZXMoKSB7CiAgICAgIHJldHVybiB7IGhlaWdodDogIjE1MHB4IiB9OwogICAgfSwKCiAgICBsbGwoKXsKICAgICAgcmV0dXJuIHRoaXMuYWxsVHJhbnNhY3Rpb25zLmRhdGEubWFwKChpdGVtKSA9PiBbaXRlbS50cmFuc2FjdGlvbkRhdGUsaXRlbS5hbW91bnRdKQogICAgfSwKCiAgICBqamooKXsKICAgICAgcmV0dXJuIHRoaXMubGxsLmZpbHRlcihkYXRlID0+IHsKICAgICAgICBzd2l0Y2ggKGRhdGUpe30KICAgICAgfSkKICAgIH0KICB9LAoKICBtb3VudGVkKCkgewogICAgU3RvcmVVdGlscy5kaXNwYXRjaChTdG9yZVV0aWxzLmFjdGlvbnMudHJhbnNhY3Rpb25zLnJlYWRUcmFuc2FjdGlvbnMpCiAgfSwKfQo="},{"version":3,"sources":["Transactions.vue"],"names":[],"mappings":";AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Transactions.vue","sourceRoot":"src/views/transactions","sourcesContent":["<template>\n  <div class=\"\">\n    <div class=\"export-btn-area\" v-if=\"withSearch === 'YES'\">\n      <search-form :module=\"TRANSACTION\"></search-form>\n      <b-button class=\"export-ex shadow-lg--hover small desktop\" @click=\"download\">Download Transactions</b-button>\n      <b-icon-download  class=\"mobile\" @click=\"download\" />\n    </div>\n    <export-excel style=\"display: none\" id=\"export\" name=\"bizgemTransactions-excel\" :data=\"[transactions]\"></export-excel>\n    <base-table\n        :items=\"JSON.parse(JSON.stringify(transactions))\"\n        :fields=\"fields\"\n        filter-mode=\"default\"\n        :is-busy=\"loading\" />\n  </div>\n</template>\n\n<script>\nimport SearchForm from \"../../components/form/SearchForm\";\nimport BaseTable from \"../../components/table/BaseTable\";\nimport WalletRequest from \"../../model/request/WalletRequest\";\nimport SearchModuleutil from \"../../util/constant/SearchModuleutil\";\nimport Toast from \"../../../toastNotification\";\nimport {mapState} from \"vuex\";\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\n\nexport default {\n  name: \"Transactions\",\n  props:{\n    withSearch:{\n      default:\"YES\"\n    },\n  },\n  components: {\n    SearchForm,\n    BaseTable\n  },\n  data() {\n    return {\n      allTransactionsModel: WalletRequest.readAllWalletTransaction,\n      TRANSACTION: SearchModuleutil.TRANSACTIONS,\n      light: \"light\",\n      type: \"\",\n      items: [],\n      fields: [\n        { key: \"trnDrCr\", label: \"drCr\" },\n        { key: \"trnAmount\", label: \"amount\",sortable: true, class:'text-right'  },\n        { key: \"trnCommission\", label: \"commission\", class:'text-right'  },\n        { key: \"trnFee\", label: \"fee\", class:'text-right' },\n        { key: \"trnRate\", label: \"rate\", class:'text-right'  },\n        { key: \"trnService\", label: \"Service\" },\n        { key: \"trnDrAccountNumber\", label: \"TRNDr.AccountNumber\",class:'text-left' },\n        { key: \"trnDrAccountName\", label: \"trnDr. AccountName\" },\n        { key: \"trnNarration\", label: \"trnNarration\",class:'text-left' },\n        //{ key: \"counterPartyBankCode\", label: \"counterPartyBankCode\" },\n        { key: \"trnStatus\", label: \"Status\" },\n        { key: \"trnCreatedAt\", label: \"CreatedAt\" },\n        { key: \"TransactionAction\", label: \"actions\" },\n      ],\n    };\n  },\n  methods: {\n    download(){\n      if(this.transactions.length <= 0){\n        Toast.fire({text:\"No data to download\", icon:\"error\"})\n      }else{\n        document.getElementById('export').click()\n      }\n    }\n\n  },\n\n  computed: {\n    sortOptions() {\n      // Create an options list from our fields\n      return this.fields\n          .filter((f) => f.sortable)\n          .map((f) => {\n            return { text: f.label, value: f.key };\n          });\n    },\n    ...mapState({\n      userInformation: (state) => state.auth.userInfo,\n      transactions: (state) => state.transactions.transactions,\n      loading: (state) => state.transactions.loading,\n    }),\n\n    myStyles() {\n      return { height: \"150px\" };\n    },\n\n    lll(){\n      return this.allTransactions.data.map((item) => [item.transactionDate,item.amount])\n    },\n\n    jjj(){\n      return this.lll.filter(date => {\n        switch (date){}\n      })\n    }\n  },\n\n  mounted() {\n    StoreUtils.dispatch(StoreUtils.actions.transactions.readTransactions)\n  },\n}\n</script>\n\n<style scoped>\n\n\n.mobile{\n  display: none;\n}\n\n.export-btn-area{\n  /*box-shadow: 0 0 2rem 0 rgb(136 152 170 / 15%);*/\n  gap: 10px;\n  padding: 1%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: sticky;\n  /*background-color: #ffffff;*/\n\n}\n.cardd {\n  box-shadow: 0 1px 2px hsl(0deg 0% 0% / 10%);\n  background-color: white;\n\n}\n.export-ex{\n  background-color:#413d52;\n  color:white;\n  /*margin: 2px;*/\n  /*width:200px;*/\n  /*cursor: pointer;*/\n  /*height: 5vh;*/\n  /*display: flex;*/\n  /*align-items: center;*/\n  /*justify-content: center;*/\n  /*border-radius: 5px;*/\n}\n\n.spinner-border {\n  display: inline-block;\n  width: 1rem;\n  height: 1rem;\n  vertical-align: text-bottom;\n  border: 0.25em solid currentColor;\n  border-right-color: transparent;\n  border-radius: 50%;\n  -webkit-animation: spinner-border 0.75s linear infinite;\n  animation: spinner-border 0.75s linear infinite;\n}\n\n\n@keyframes spinner-border {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@media (max-width: 500px) {\n  .export-btn-area{\n    flex-direction: row;\n    justify-content: space-evenly;\n    /*border: solid red;*/\n  }\n  .export-ex{\n    background-color:#413d52;\n    color:white;\n    margin: 2px;\n    width:200px;\n    cursor: pointer;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 5px;\n  }\n  .desktop{\n    display: none;\n  }\n\n  .mobile{\n    font-size: 25px;\n    display: block;\n  }\n}\n\n.table-section tbody {\n  max-width: 500px;\n  overflow-x: scroll;\n}\n\n</style>\n"]}]}