{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/form/CreateAccountForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/form/CreateAccountForm.vue","mtime":1687359902959},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBY2NvdW50UmVxdWVzdCBmcm9tICIuLi8uLi9tb2RlbC9yZXF1ZXN0L0FjY291bnRSZXF1ZXN0IjsKaW1wb3J0IFN0b3JlVXRpbHMgZnJvbSAiLi4vLi4vdXRpbC9iYXNlVXRpbHMvU3RvcmVVdGlscyI7CmltcG9ydCB7bWFwU3RhdGV9IGZyb20gInZ1ZXgiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDcmVhdGVBY2NvdW50Rm9ybSIsCiAgcHJvcHM6IHsKICAgIHNob3dBY2NvdW50Rm9ybTogQm9vbGVhbiwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93TW9kYWw6IHRydWUsCiAgICAgIGNyZWF0ZUFjY291bnRNb2RlbDpBY2NvdW50UmVxdWVzdC5jcmVhdGUsCiAgICAgIHByaW1hcnlDb2xvcjp3aW5kb3cuX19lbnYuYXBwLnByaW1hcnlDb2xvciwKICAgICAgY3VzdG9tT3B0aW9uczoKICAgICAgICAgIHsKICAgICAgICAgICAgY3VycmVuY3k6ICdOR04nLAogICAgICAgICAgICBjb3VudHJ5OiAnTmlnZXJpYScKICAgICAgICAgIH0sCgogICAgfQogIH0sCgogIG1ldGhvZHM6ewogICAgY2xvc2VNb2RhbCgpIHsKICAgICAgLy9jbG9zZSBtb2RhbCBmb3JtCiAgICAgIHRoaXMuc2hvd01vZGFsID0gZmFsc2U7CiAgICAgIHRoaXMuJGVtaXQoImNsb3NlQWNjb3VudEZvcm0iLCBmYWxzZSk7CiAgICAgIHRoaXMuc2hvd01vZGFsID0gdHJ1ZTsKICAgICAgLy8gICBTdG9yZVV0aWxzLmNvbW1pdChTdG9yZVV0aWxzLm11dGF0aW9ucy5hY2NvdW50UGF5b3V0LnVwZGF0ZVN0YXR1cywgJ2ZhbHNlJykKICAgIH0sCgogICAgb25TZWxlY3QoeyBkaWFsQ29kZSB9KSB7CiAgICAgIHRoaXMuY3JlYXRlQWNjb3VudE1vZGVsLmNvdW50cnlDb2RlID0gZGlhbENvZGU7CiAgICB9LAoKICAgIGQob2JqKXsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbkEnKS5pbm5lckhUTUw9b2JqLnRvTG9jYWxlU3RyaW5nKCkKICAgIH0sCgogICAgc2VsZWN0Q2hhbmdlZCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZEN1cnJlbmN5KQogICAgfSwKCiAgICBjcmVhdGVBY2NvdW50KCl7CiAgICAgIHRoaXMuY3JlYXRlQWNjb3VudE1vZGVsLmFjY291bnRDdXJyZW5jeSA9ICdOR04nCiAgICAgIHRoaXMuY3JlYXRlQWNjb3VudE1vZGVsLmN1c3RvbWVyQ291bnRyeSA9ICJOaWdlcmlhIgogICAgICB0aGlzLmNyZWF0ZUFjY291bnRNb2RlbC5jb3VudHJ5Q29kZSA9IHRoaXMuY3JlYXRlQWNjb3VudE1vZGVsLmNvdW50cnlDb2RlID8gdGhpcy5jcmVhdGVBY2NvdW50TW9kZWwuY291bnRyeUNvZGUgOiAiKzIzNCIKICAgICAgdGhpcy5jcmVhdGVBY2NvdW50TW9kZWwuc291cmNlID0gIldFQiIKICAgICAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goU3RvcmVVdGlscy5hY3Rpb25zLmFjY291bnQuY3JlYXRlQWNjb3VudCkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuY3JlYXRlQWNjb3VudE1vZGVsKS5mb3JFYWNoKGtleSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVBY2NvdW50TW9kZWxba2V5XSA9IG51bGwKICAgICAgICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKFN0b3JlVXRpbHMuYWN0aW9ucy5hY2NvdW50LnJlYWRBY2NvdW50KTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCkKICAgICAgICAgIH0pCiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6ewogICAgLi4ubWFwU3RhdGUoewogICAgICBsb2FkaW5nOnN0YXRlID0+IHN0YXRlLmFjY291bnQubG9hZGluZwogICAgfSkKICB9Cn0K"},{"version":3,"sources":["CreateAccountForm.vue"],"names":[],"mappings":";AAqEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"CreateAccountForm.vue","sourceRoot":"src/components/form","sourcesContent":["<template>\n  <modal-1 :show=\"showAccountForm && showModal\" body-classes=\"p-1\" modal-classes=\"modal-dialog-centered modal-md\">\n    <div>\n      <div class=\"card-head\">\n        <div class=\"d-flex justify-content-between\">\n          <h4 style=\"color:#413d52;font-size:18px;font-weight:700;width: 100%;display: flex;justify-content: center;align-items: center\">Create Account</h4>\n          <button type=\"button\" class=\"btn-close p-2 m-2\" @click=\"closeModal()\" title=\"Cancel Create Account\"></button>\n        </div>\n      </div>\n      <div class=\"modal-body\">\n        <b-form class=\"\" @submit.prevent=\"createAccount\">\n          <div class=\"row\">\n            <div class=\"col w-100 mb-2\">\n              <label class=\"small\">First Name</label>\n              <input type=\"text\" v-model=\"createAccountModel.customerFirstName\" class=\"form-control\" placeholder=\"First Name\"  required>\n            </div>\n            <div class=\"col w-100 mb-2\">\n              <label class=\"small\">Last Name</label>\n              <input type=\"text\" v-model=\"createAccountModel.customerLastName\" class=\"form-control\" placeholder=\"Last Name\" aria-label=\"Server\" required>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col w-100 mb-2\">\n              <label class=\"small\">Middle Name</label>\n              <input type=\"text\" v-model=\"createAccountModel.customerMiddleName\" class=\"form-control\" placeholder=\"Middle Name\" aria-label=\"Server\">\n            </div>\n            <div class=\"col w-100\">\n              <label class=\"small\">Phone Number</label>\n              <div class=\"d-flex\">\n                <vue-country-code v-model=\"createAccountModel.countryCode\" @onSelect=\"onSelect\" :preferredCountries=\"['ng', 'us', 'gb']\" style=\"height: 45px\" class=\"\"></vue-country-code>\n                <input type=\"tel\" v-model=\"createAccountModel.customerPhoneNumber\" class=\"form-control\" placeholder=\"Phone Number\" aria-label=\"Server\" required>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col w-100 mb-2\">\n              <label class=\"small\">Email</label>\n              <input type=\"email\" v-model=\"createAccountModel.customerEmail\" class=\"form-control\" placeholder=\"Email\">\n            </div>\n            <div class=\"col w-100 mb-2\">\n              <label class=\"small\">BVN(optional)</label>\n              <input type=\"text\" v-model=\"createAccountModel.customerBvn\" class=\"form-control\" placeholder=\"BVN\">\n            </div>\n          </div>\n<!--          <div class=\"row\">-->\n<!--            <div class=\"col w-100 mb-2\">-->\n<!--              <label class=\"small\">Date Of Birth</label>-->\n<!--              <input type=\"text\" v-model=\"createAccountModel.customerMiddleName\" class=\"form-control\" placeholder=\"Middle Name\" aria-label=\"Server\" required>-->\n<!--            </div>-->\n<!--            <div class=\"col w-100\">-->\n<!--              <label class=\"small\">Phone Number</label>-->\n<!--              <div class=\"d-flex\">-->\n<!--                <vue-country-code v-model=\"createWalletModel.countryCode\" @onSelect=\"onSelect\" :preferredCountries=\"['ng', 'us', 'gb']\" style=\"height: 45px\" class=\"\" required></vue-country-code>-->\n<!--                <input type=\"tel\" v-model=\"createWalletModel.phoneNumber\" class=\"form-control\" placeholder=\"Phone Number\" aria-label=\"Server\" required>-->\n<!--              </div>-->\n<!--            </div>-->\n<!--          </div>-->\n          <div>\n            <b-button type=\"submit\" :style=\"{backgroundColor:primaryColor,color: 'white',width: '100%'}\" :disabled=\"loading\"><span :class=\"{'spinner-border':loading}\"></span> {{loading ? 'Creating' : 'Create'}}</b-button>\n          </div>\n        </b-form>\n      </div>\n    </div>\n\n  </modal-1>\n\n</template>\n\n<script>\nimport AccountRequest from \"../../model/request/AccountRequest\";\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\nimport {mapState} from \"vuex\";\n\nexport default {\n  name: \"CreateAccountForm\",\n  props: {\n    showAccountForm: Boolean,\n  },\n  data() {\n    return {\n      showModal: true,\n      createAccountModel:AccountRequest.create,\n      primaryColor:window.__env.app.primaryColor,\n      customOptions:\n          {\n            currency: 'NGN',\n            country: 'Nigeria'\n          },\n\n    }\n  },\n\n  methods:{\n    closeModal() {\n      //close modal form\n      this.showModal = false;\n      this.$emit(\"closeAccountForm\", false);\n      this.showModal = true;\n      //   StoreUtils.commit(StoreUtils.mutations.accountPayout.updateStatus, 'false')\n    },\n\n    onSelect({ dialCode }) {\n      this.createAccountModel.countryCode = dialCode;\n    },\n\n    d(obj){\n      document.getElementById('minA').innerHTML=obj.toLocaleString()\n    },\n\n    selectChanged() {\n      console.log(this.selectedCurrency)\n    },\n\n    createAccount(){\n      this.createAccountModel.accountCurrency = 'NGN'\n      this.createAccountModel.customerCountry = \"Nigeria\"\n      this.createAccountModel.countryCode = this.createAccountModel.countryCode ? this.createAccountModel.countryCode : \"+234\"\n      this.createAccountModel.source = \"WEB\"\n          StoreUtils.dispatch(StoreUtils.actions.account.createAccount).then(() => {\n            Object.keys(this.createAccountModel).forEach(key => {\n              this.createAccountModel[key] = null\n              StoreUtils.dispatch(StoreUtils.actions.account.readAccount);\n            })\n            this.closeModal()\n          })\n    }\n  },\n\n  computed:{\n    ...mapState({\n      loading:state => state.account.loading\n    })\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}