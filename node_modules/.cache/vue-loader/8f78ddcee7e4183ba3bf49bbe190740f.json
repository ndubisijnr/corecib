{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/form/DisputeForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/form/DisputeForm.vue","mtime":1684370058997},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCBEaXNwdXRlUmVxdWVzdCBmcm9tICIuLi8uLi9tb2RlbC9yZXF1ZXN0L0Rpc3B1dGVSZXF1ZXN0IjsKaW1wb3J0IFN0b3JlVXRpbHMgZnJvbSAiLi4vLi4vdXRpbC9iYXNlVXRpbHMvU3RvcmVVdGlscyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRpc3B1dGUtRm9ybSIsCiAgcHJvcHM6IHsKICAgIHNob3dDcmVhdGVEaXNwdXRlOiBCb29sZWFuLAogIH0sCiAgZGF0YTogKCkgPT4gewogICAgcmV0dXJuIHsKICAgICAgc2hvd01vZGFsOiB0cnVlLAogICAgICBjcmVhdGVEaXNwdXRlbW9kZWw6IERpc3B1dGVSZXF1ZXN0LmRpc3B1dGVDcmVhdGUsCiAgICAgIHRyYW5zYWN0aW9uc1F1ZXJ5bW9kZWw6IERpc3B1dGVSZXF1ZXN0LnRyYW5zYWN0aW9uU3RhdHVzUXVlcnksCiAgICAgIGRpc3B1dGVSZWFkTW9kZWw6IERpc3B1dGVSZXF1ZXN0LmRpc3B1dGVSZWFkLAogICAgICBwcmltYXJ5Q29sb3I6d2luZG93Ll9fZW52LmFwcC5wcmltYXJ5Q29sb3IsCgogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBjbG9zZU1vZGFsKCkgewogICAgICAvL2Nsb3NlIG1vZGFsIGZvcm0KICAgICAgdGhpcy5zaG93TW9kYWwgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2VDcmVhdGVEaXNwdXRlIiwgZmFsc2UpOwogICAgICB0aGlzLnNob3dNb2RhbCA9IHRydWU7CiAgICAgIFN0b3JlVXRpbHMuY29tbWl0KFN0b3JlVXRpbHMubXV0YXRpb25zLmRpc3B1dGUudXBkYXRlU3RhdHVzLCAnZmFsc2UnKQogICAgfSwKCiAgICBsb2dEaXNwdXRlKCkgewogICAgICAvL3NldCBkaXNwdXRlIHNlc3Npb24gaWQgZnJvbSB0cmFuc2FjdGlvbiByZWZlcmVuY2UKICAgICAgdGhpcy5jcmVhdGVEaXNwdXRlbW9kZWwuZGlzcHV0ZU9yZ0lkID0gdGhpcy5jdXJyZW50T3JnYW5pc2F0aW9uSWQub3JnYW5pc2F0aW9uSWQKICAgICAgdGhpcy5jcmVhdGVEaXNwdXRlbW9kZWwuZGlzcHV0ZVNlc3Npb25JZCA9IHRoaXMudHJhbnNhY3Rpb25zUXVlcnltb2RlbC5yZWZlcmVuY2UsCiAgICAgICAgdGhpcy5jcmVhdGVEaXNwdXRlbW9kZWwuZGlzcHV0ZVJlbWFyayA9ICJUcmFuc2FjdGlvbiIsCiAgICAgICAgdGhpcy5jcmVhdGVEaXNwdXRlbW9kZWwuZGlzcHV0ZVRyblR5cGUgPSAiTkEiLAogICAgICAgIC8vY2FsbCBjcmVhdGUgZGlzcHV0ZSBhY3Rpb24KICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKAogICAgICAgICAgU3RvcmVVdGlscy5hY3Rpb25zLmRpc3B1dGUuY3JlYXRlRGlzcHV0ZSwKICAgICAgICAgIHRoaXMuY3JlYXRlRGlzcHV0ZW1vZGVsCiAgICAgICAgKS50aGVuKCgpID0+IHsKICAgICAgICAgIC8vY2xlYXIgY3JlYXRlIGRpc3B1dGUgZm9ybQogICAgICAgICAgdGhpcy5jcmVhdGVEaXNwdXRlbW9kZWwuZGlzcHV0ZUNvbW1lbnQgPSBudWxsLAogICAgICAgICAgICB0aGlzLmNyZWF0ZURpc3B1dGVtb2RlbC5kaXNwdXRlU2Vzc2lvbklkID0gbnVsbCwKICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbnNRdWVyeW1vZGVsID0ge30KICAgICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpOwoKICAgICAgICB9KTsKICAgIH0sCgogICAgdHJhbnNhY3Rpb25zUXVlcnkoKSB7CiAgICAgIC8vY2FsbCBjcmVhdGUgdHJhbnNhY3Rpb24gcXVlcnkgYWN0aW9uCiAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goCiAgICAgICAgU3RvcmVVdGlscy5hY3Rpb25zLmRpc3B1dGUudXBkYXRlVHJhbnNhY3Rpb25RdWVyeSwKICAgICAgICB0aGlzLnRyYW5zYWN0aW9uc1F1ZXJ5bW9kZWwKICAgICAgKQoKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBsb2FkaW5nMjogKHN0YXRlKSA9PiBzdGF0ZS5kaXNwdXRlLmxvYWRpbmcyLAogICAgICB1c2VyaW5mbzogKHN0YXRlKSA9PiBzdGF0ZS5hdXRoLnVzZXJJbmZvLAogICAgICAvL2dldCdzIG9yYWdhbmlzYXRpb24gSUQgZnJvbSBsb2NhbHN0b3JhZ2UKICAgICAgY3VycmVudE9yZ2FuaXNhdGlvbklkOiAoKSA9PiB7IHJldHVybiBTdG9yZVV0aWxzLnJvb3RHZXR0ZXJzKFN0b3JlVXRpbHMuZ2V0dGVycy5hdXRoLmdldEN1cnJlbnRPcmdhbml6YXRpb24pIH0sCiAgICAgIHRyYW5zYWN0aW9ucXVlcnk6IChzdGF0ZSkgPT4gc3RhdGUuZGlzcHV0ZS50cmFuc2FjdGlvbnNxdWVyeSwKICAgICAgc3VjY2VzczogKHN0YXRlKSA9PiBzdGF0ZS5kaXNwdXRlLnN1Y2Nlc3MsCiAgICAgIHN0YXR1czogc3RhdGUgPT4gc3RhdGUuZGlzcHV0ZS5zdGF0dXMKICAgIH0pLAogIH0sCgogIHdhdGNoOiB7CiAgICBzdGF0dXMobmV3dmFsdWUpIHsKICAgICAgLy93YXRjaCBmb3IgY2hhbmdlIHRvIGNsb3NlIG1vZGFsIGZvcm0gYW5kIHVwZGF0ZSBkaXNwdXRlIHRhYmxlIAogICAgICBpZiAobmV3dmFsdWUgPT0gJ3JlYWQnKSB7CiAgICAgICAgdGhpcy5kaXNwdXRlUmVhZE1vZGVsLmRpc3B1dGVJZCA9IGxvY2FsU3RvcmFnZS5vcmdhbmlzYXRpb25JZDsKICAgICAgICBTdG9yZVV0aWxzLmRpc3BhdGNoKAogICAgICAgICAgU3RvcmVVdGlscy5hY3Rpb25zLmRpc3B1dGUudXBkYXRlRGlzcHV0ZXMsCiAgICAgICAgICB0aGlzLmRpc3B1dGVSZWFkTW9kZWwKICAgICAgICApOwogICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpCiAgICAgIH0KCiAgICB9CiAgfSwKCn07Cg=="},{"version":3,"sources":["DisputeForm.vue"],"names":[],"mappings":";AA6GA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"DisputeForm.vue","sourceRoot":"src/components/form","sourcesContent":["   <template>\n  <modal-1 :show=\"showCreateDispute && showModal\" body-classes=\"p-1\" modal-classes=\"modal-dialog-centered modal-md\">\n    <div>\n      <div class=\"card-head\">\n        <div class=\"d-flex justify-content-between\">\n          <h4 style=\"font-size:18px;font-weight:700;width: 100%;display: flex;justify-content: center;align-items: center\">Log A Dispute</h4>\n          <button type=\"button\" class=\"btn-close p-2 m-2\" @click=\"closeModal()\" title=\"Cancel Request Payout\"></button>\n        </div>\n      </div>\n\n      <div class=\"card-body\">\n        <form role=\"form\" @submit.prevent=\"transactionsQuery()\" v-if=\"status == 'false'\">\n          <div class=\"form-floating mb-3\">\n            <input type=\"tel\" class=\"form-control\" placeholder=\"Session ID or Transaction Refrenence\" required\n              v-model=\"transactionsQuerymodel.reference\" />\n            <label>Session ID or Transaction Refrenence</label>\n          </div>\n          <b-button type=\"submit\" v-if=\"status == 'false'\"\n            :style=\"{backgroundColor:primaryColor,border:'none',color:'white'}\">\n            <span v-if=\"!loading2\">Proceed</span>\n            <span :class=\"{ 'spinner-border': loading2 }\" :disabled=\"loading2\"></span>\n          </b-button>\n\n        </form>\n\n        <form role=\"form\" @submit.prevent=\"logDispute()\" v-else>\n          <div class=\"form-floating mb-3\">\n            <input type=\"tel\" class=\"form-control\" placeholder=\"Payment Refrenence\" required\n              v-model=\"transactionquery.trnReference\" disabled />\n            <label>Payment Refrenence</label>\n          </div>\n          <div class=\"form-floating mb-3\">\n            <select class=\"form-select\" aria-label=\"Default select example\" required\n              v-model=\"createDisputemodel.disputeIssueType\">\n              <option value=\"Credit\" selected>Credit</option>\n              <option value=\"Debit\">Debit</option>\n            </select>\n            <label>Dispute Issue Type</label>\n          </div>\n          <div class=\"row\">\n            <div class=\"col col-6 mb-3\">\n              <label>Dispute Transaction Type</label>\n              <input type=\"tel\" class=\"form-control\" placeholder=\"Dispute Transaction Type\" disabled\n                :value=\"transactionquery.transactionType == null ? 'NA' : transactionquery.transactionType\" required />\n            </div>\n\n            <div class=\"col col-6 mb-3\">\n              <label>Dispute Remark</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Dispute Remark\" value=\"Transaction\" disabled />\n            </div>\n          </div>\n\n          <div class=\"row mb-3\">\n            <div class=\"col\">\n              <label>Debit Account Name</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Debit Account Name\"\n                :value=\"transactionquery.trnDrAccountName\" required disabled />\n            </div>\n            <div class=\"col\">\n              <label>Debit Account Number</label>\n              <input type=\"number\" class=\"form-control\" placeholder=\"Organasation ID\"\n                :value=\"transactionquery.trnDrAccountNumber\" required disabled />\n            </div>\n\n          </div>\n\n          <div class=\"row mb-3\">\n            <div class=\"col\">\n              <label>Credit Account Number</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Organasation ID\"\n                :value=\"transactionquery.trnCrAccountNumber\" required disabled />\n            </div>\n            <div class=\"col\">\n              <label>narration</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"narration\" :value=\"transactionquery.trnNarration\"\n                required disabled />\n            </div>\n\n          </div>\n          <div class=\"row\">\n            <div class=\"col mb-3\">\n              <label>Bank Name</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Bank Name\" required disabled\n                v-model=\"transactionquery.trnCrInstitutionName\n\" />\n            </div>\n            <div class=\"col mb-3\">\n              <label>Amount</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Bank Name\" required disabled\n                v-model=\"transactionquery.trnAmount\" />\n            </div>\n          </div>\n          <div class=\"form-floating mb-3\">\n            <textarea type=\"text\" class=\"form-control h-25\" placeholder=\"Dispute Comment\" cols=\"5\" required\n              v-model=\"createDisputemodel.disputeComment\" />\n            <label>Dispute Comment</label>\n          </div>\n\n          <b-button type=\"submit\" v-if=\"status != 'false'\"\n                    :style=\"{backgroundColor:primaryColor,border:'none',color:'white'}\"><span v-if=\"!loading2\">Proceed</span>\n            <span :class=\"{ 'spinner-border': loading2 }\" :disabled=\"loading2\"></span>\n          </b-button>\n        </form>\n      </div>\n    </div>\n  </modal-1>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport DisputeRequest from \"../../model/request/DisputeRequest\";\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\n\nexport default {\n  name: \"Dispute-Form\",\n  props: {\n    showCreateDispute: Boolean,\n  },\n  data: () => {\n    return {\n      showModal: true,\n      createDisputemodel: DisputeRequest.disputeCreate,\n      transactionsQuerymodel: DisputeRequest.transactionStatusQuery,\n      disputeReadModel: DisputeRequest.disputeRead,\n      primaryColor:window.__env.app.primaryColor,\n\n    };\n  },\n\n  methods: {\n    closeModal() {\n      //close modal form\n      this.showModal = false;\n      this.$emit(\"closeCreateDispute\", false);\n      this.showModal = true;\n      StoreUtils.commit(StoreUtils.mutations.dispute.updateStatus, 'false')\n    },\n\n    logDispute() {\n      //set dispute session id from transaction reference\n      this.createDisputemodel.disputeOrgId = this.currentOrganisationId.organisationId\n      this.createDisputemodel.disputeSessionId = this.transactionsQuerymodel.reference,\n        this.createDisputemodel.disputeRemark = \"Transaction\",\n        this.createDisputemodel.disputeTrnType = \"NA\",\n        //call create dispute action\n        StoreUtils.dispatch(\n          StoreUtils.actions.dispute.createDispute,\n          this.createDisputemodel\n        ).then(() => {\n          //clear create dispute form\n          this.createDisputemodel.disputeComment = null,\n            this.createDisputemodel.disputeSessionId = null,\n            this.transactionsQuerymodel = {}\n          this.closeModal();\n\n        });\n    },\n\n    transactionsQuery() {\n      //call create transaction query action\n      StoreUtils.dispatch(\n        StoreUtils.actions.dispute.updateTransactionQuery,\n        this.transactionsQuerymodel\n      )\n\n    },\n  },\n  computed: {\n    ...mapState({\n      loading2: (state) => state.dispute.loading2,\n      userinfo: (state) => state.auth.userInfo,\n      //get's oraganisation ID from localstorage\n      currentOrganisationId: () => { return StoreUtils.rootGetters(StoreUtils.getters.auth.getCurrentOrganization) },\n      transactionquery: (state) => state.dispute.transactionsquery,\n      success: (state) => state.dispute.success,\n      status: state => state.dispute.status\n    }),\n  },\n\n  watch: {\n    status(newvalue) {\n      //watch for change to close modal form and update dispute table \n      if (newvalue == 'read') {\n        this.disputeReadModel.disputeId = localStorage.organisationId;\n        StoreUtils.dispatch(\n          StoreUtils.actions.dispute.updateDisputes,\n          this.disputeReadModel\n        );\n        this.closeModal()\n      }\n\n    }\n  },\n\n};\n</script>\n\n<style scoped>\n.card-head{\n  color: #413d52;\n}\n\n.btn-close{\n  background-color: #FFFFFF;\n}\n.spinner-border {\n  display: inline-block;\n  vertical-align: text-bottom;\n  border: 0.15em solid currentColor;\n  border-right-color: transparent;\n  -webkit-animation: spinner-border 0.75s linear infinite;\n  animation: spinner-border 0.75s linear infinite;\n}\n\n@keyframes spinner-border {\n  to {\n    transform: rotate(360deg);\n  }\n}\n</style>\n"]}]}