{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/form/AddNewBusiness.vue?vue&type=style&index=0&id=16340fec&scoped=true&lang=css&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/form/AddNewBusiness.vue","mtime":1683674085712},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/css-loader/dist/cjs.js","mtime":1670880042824},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1670880044043},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/postcss-loader/src/index.js","mtime":1670880043297},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5zcGlubmVyLWJvcmRlciB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHdpZHRoOiAxcmVtOwogIGhlaWdodDogMXJlbTsKICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207CiAgYm9yZGVyOiAwLjI1ZW0gc29saWQgY3VycmVudENvbG9yOwogIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgYm9yZGVyLXJhZGl1czogNTAlOwogIC13ZWJraXQtYW5pbWF0aW9uOiBzcGlubmVyLWJvcmRlciAwLjc1cyBsaW5lYXIgaW5maW5pdGU7CiAgYW5pbWF0aW9uOiBzcGlubmVyLWJvcmRlciAwLjc1cyBsaW5lYXIgaW5maW5pdGU7Cn0KCmxhYmVsewogIGNvbG9yOiAjMDAwOwp9CgpAa2V5ZnJhbWVzIHNwaW5uZXItYm9yZGVyIHsKICB0byB7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwogIH0KfQo="},{"version":3,"sources":["AddNewBusiness.vue"],"names":[],"mappings":";AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"AddNewBusiness.vue","sourceRoot":"src/components/form","sourcesContent":["<template>\n  <modal-1 :show=\"showBusinessForm && showModal\" body-classes=\"p-1\" modal-classes=\"modal-dialog-centered modal-md\">\n    <div>\n      <div class=\"modal-header\">\n        <h3>Add New Business ðŸ¤© </h3>\n        <button type=\"button\" class=\"btn-close p-2 m-2\" @click=\"closeModal()\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <b-form class=\"\" @submit.prevent=\"addBusiness\">\n          <div class=\"row\">\n            <div class=\"col w-100 mb-2\">\n              <label class=\"small\">Business Name</label>\n              <input type=\"text\" @blur=\"validation\" v-model=\"newBusinessModal.customerBusinessName\" class=\"form-control\" placeholder=\"Business Name\"  required>\n              <span class=\"text-danger small\" v-if=\"errors.businessName\">{{errors.businessName}}</span>\n            </div>\n            <div class=\"col w-100 mb-2\">\n              <label class=\"small\">Business Email</label>\n              <input type=\"email\" v-model=\"newBusinessModal.customerEmail\" class=\"form-control\" placeholder=\"Business Email\" aria-label=\"Server\" required>\n            </div>\n          </div>\n          <div class=\"row mb-3\">\n            <div class=\"form-floating col\">\n              <base-input label=\"Country\">\n                <el-select class=\"select-danger w-100\" filterable placeholder=\"Country\" v-model=\"newBusinessModal.customerCountry\"\n                           required>\n                  <el-option v-for=\"option in option_country\" class=\"select-danger\" :value=\"option.value\"\n                             :label=\"option.label\" :key=\"option.value\">\n                  </el-option>\n                </el-select>\n                <p v-show=\"countryCtrl\" class=\"form-error-message\">\n                  The Country is required\n                </p>\n              </base-input>\n            </div>\n            <div class=\"col\">\n              <label class=\"small\">Phone Number</label>\n              <div class=\"d-flex\">\n                <vue-country-code v-model=\"newBusinessModal.customerCountryCode\" @onSelect=\"onSelect\" :preferredCountries=\"['ng', 'us', 'gb']\" style=\"height: 45px\" class=\"\" required></vue-country-code>\n                <input type=\"text\" v-model=\"newBusinessModal.customerPhone\" class=\"form-control\" placeholder=\"Phone Number\" aria-label=\"Server\" required>\n              </div>\n            </div>\n          </div>\n          <div>\n            <b-button type=\"submit\" :style=\"{backgroundColor:primaryColor,color: 'white',width: '100%'}\" :disabled=\"loading\"><span :class=\"{'spinner-border':loading}\"></span> {{loading ? 'Please Wait...' : 'Proceed'}}</b-button>\n          </div>\n        </b-form>\n      </div>\n    </div>\n  </modal-1>\n</template>\n\n<script>\nimport OrganisationRequest from \"../../model/request/OrganisationRequest\";\nimport country from \"@/components/country\";\nimport BaseInput from \"../../components/inputs/BaseInput\";\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\nimport {mapState} from \"vuex\";\n\n\nexport default {\n  name: \"AddNewBusiness\",\n  components: {\n    BaseInput,\n  },\n  data(){\n    return{\n      showModal: true,\n      option_country: [],\n      countryCtrl: false,\n      newBusinessModal:OrganisationRequest.addOrganisation,\n      primaryColor:window.__env.app.primaryColor,\n      errors:{\n        businessName:null,\n      }\n\n    }\n  },\n  props: {\n    showBusinessForm: Boolean,\n  },\n\n  methods:{\n    closeModal() {\n      //close modal form\n      this.showModal = false;\n      this.$emit(\"closeBusinessForm\", false);\n      this.showModal = true;\n      //   StoreUtils.commit(StoreUtils.mutations.accountPayout.updateStatus, 'false')\n    },\n\n    validation(){\n      if(!this.newBusinessModal.customerBusinessName.includes(\" \")){\n        this.errors.businessName = '\"business name should be at least two words separated with space\"'\n      }else{\n        this.errors.businessName = null\n      }\n    },\n\n    addBusiness(){\n      this.newBusinessModal.customerId = StoreUtils.rootGetters(StoreUtils.getters.auth.getCustomerId)\n      StoreUtils.dispatch(StoreUtils.actions.auth.addOrganisation, this.newBusinessModal).then(() => {\n        this.readOrganisation.customerId = StoreUtils.rootGetters(StoreUtils.getters.auth.getCustomerId)\n        StoreUtils.dispatch(StoreUtils.actions.auth.readOrganisationByUserId)\n        StoreUtils.dispatch(StoreUtils.actions.auth.readDashboardStats)\n      })\n    },\n\n    onSelect({ dialCode }) {\n      this.newBusinessModal.customerCountryCode = dialCode;\n    },\n  },\n\n  computed:{\n    ...mapState({\n      loading:state => state.auth.loading\n    }),\n\n\n  },\n\n  watch:{\n\n  },\n  mounted() {\n    let countries = country;\n    this.option_country = countries.map((item) => {\n      return {\n        value: `${item.name}`,\n        label: `${item.name}`,\n      };\n    });\n  }\n}\n</script>\n\n<style scoped>\n.spinner-border {\n  display: inline-block;\n  width: 1rem;\n  height: 1rem;\n  vertical-align: text-bottom;\n  border: 0.25em solid currentColor;\n  border-right-color: transparent;\n  border-radius: 50%;\n  -webkit-animation: spinner-border 0.75s linear infinite;\n  animation: spinner-border 0.75s linear infinite;\n}\n\nlabel{\n  color: #000;\n}\n\n@keyframes spinner-border {\n  to {\n    transform: rotate(360deg);\n  }\n}\n</style>"]}]}