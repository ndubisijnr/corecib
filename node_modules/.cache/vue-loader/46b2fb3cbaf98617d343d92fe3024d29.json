{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/form/ForgotPasswordForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/form/ForgotPasswordForm.vue","mtime":1709723296990},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/babel-loader/lib/index.js","mtime":1670880017786},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7Ci8vIGltcG9ydCBWdWVGYWtlSW5wdXQgZnJvbSAidnVlLWZha2UtaW5wdXQiOwppbXBvcnQgQXV0aGVudGljYXRpb25SZXF1ZXN0IGZyb20gIi4uLy4uL21vZGVsL3JlcXVlc3QvQXV0aFJlcXVlc3QiOwppbXBvcnQgU3RvcmVVdGlscyBmcm9tICIuLi8uLi91dGlsL2Jhc2VVdGlscy9TdG9yZVV0aWxzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRm9yZ290UGFzc3dvcmRGb3JtIiwKICBjb21wb25lbnRzOiB7CiAgICAvLyBWdWVGYWtlSW5wdXQsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5pdGlhdGVNb2RlbDogQXV0aGVudGljYXRpb25SZXF1ZXN0LmluaXRpYXRlUGFzc3dvcmRSZXNldCwKICAgICAgY29tcGxldGVNb2RlbDogQXV0aGVudGljYXRpb25SZXF1ZXN0LmNvbXBsZXRlUGFzc3dvcmRSZXNldCwKICAgICAgcmVzZW5kT3RwTW9kZWw6IEF1dGhlbnRpY2F0aW9uUmVxdWVzdC5yZXNlbmRPdHAsCiAgICAgIHRpbWVyQ291bnQ6IDAsCiAgICAgIHByaW1hcnlDb2xvcjp3aW5kb3cuX19lbnYuYXBwLnByaW1hcnlDb2xvcgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSh7CiAgICAgIHRva2VuOiAoc3RhdGUpID0+IHN0YXRlLmF1dGgudG9rZW4sCiAgICAgIGxvYWRpbmc6IChzdGF0ZSkgPT4gc3RhdGUuYXV0aC5sb2FkaW5nLAogICAgICB1c2VySW5mbzogKHN0YXRlKSA9PiBzdGF0ZS5hdXRoLnVzZXJJbmZvLAogICAgICBzY3JlZW46IChzdGF0ZSkgPT4gc3RhdGVhdXRoLmF1dGguc2NyZWVuLAogICAgICBwYXNzd29yZFJlc2V0U2NyZWVuOiAoc3RhdGUpID0+IHN0YXRlLmF1dGgucGFzc3dvcmRSZXNldFNjcmVlbiwKICAgICAgc3RhZ2U6IChzdGF0ZSkgPT4gc3RhdGUuc3RhZ2UsCiAgICB9KSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGhpZGUkc2hvdygpIHsKICAgICAgbGV0IGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHdkIik7CiAgICAgIGxldCBleWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXllIik7CiAgICAgIGxldCBiMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwd2QyIik7CiAgICAgIGxldCBleWUyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV5ZTIiKTsKICAgICAgaWYgKGIudHlwZSA9PT0gInBhc3N3b3JkIikgewogICAgICAgIGIudHlwZSA9ICJ0ZXh0IjsKICAgICAgICBleWUuY2xhc3NMaXN0LnJlbW92ZSgiZmEtZXllIik7CiAgICAgICAgZXllLmNsYXNzTGlzdC5hZGQoImZhLWV5ZS1zbGFzaCIpOwogICAgICB9IGVsc2UgewogICAgICAgIGIudHlwZSA9ICJwYXNzd29yZCI7CiAgICAgICAgZXllLmNsYXNzTGlzdC5hZGQoImZhLWV5ZSIpOwogICAgICAgIGV5ZS5jbGFzc0xpc3QucmVtb3ZlKCJmYS1leWUtc2xhc2giKTsKICAgICAgfQogICAgICBpZiAoYjIudHlwZSA9PT0gInBhc3N3b3JkIikgewogICAgICAgIGIyLnR5cGUgPSAidGV4dCI7CiAgICAgICAgZXllMi5jbGFzc0xpc3QucmVtb3ZlKCJmYS1leWUiKTsKICAgICAgICBleWUyLmNsYXNzTGlzdC5hZGQoImZhLWV5ZS1zbGFzaCIpOwogICAgICB9IGVsc2UgewogICAgICAgIGIyLnR5cGUgPSAicGFzc3dvcmQiOwogICAgICAgIGV5ZTIuY2xhc3NMaXN0LmFkZCgiZmEtZXllIik7CiAgICAgICAgZXllMi5jbGFzc0xpc3QucmVtb3ZlKCJmYS1leWUtc2xhc2giKTsKICAgICAgfQogICAgfSwKICAgIGxvZ2luKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJMb2dvbiIgfSk7CiAgICB9LAogICAgaW5pdGlhdGVQYXNzd29yZCgpIHsKICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaCgKICAgICAgICBTdG9yZVV0aWxzLmFjdGlvbnMuYXV0aC5pbml0aWF0ZVBhc3N3b3JkUmVzZXQsCiAgICAgICAgdGhpcy5pbml0aWF0ZU1vZGVsCiAgICAgICkKCiAgICB9LAogICAgY29tcGxldGVQYXNzd29yZCgpIHsKICAgICAgdGhpcy5jb21wbGV0ZU1vZGVsLmN1c3RvbWVyRW1haWwgPSB0aGlzLmluaXRpYXRlTW9kZWwuY3VzdG9tZXJFbWFpbDsKICAgICAgU3RvcmVVdGlscy5kaXNwYXRjaCgKICAgICAgICBTdG9yZVV0aWxzLmFjdGlvbnMuYXV0aC5jb21wbGV0ZVBhc3N3b3JkUmVzZXQsCiAgICAgICAgdGhpcy5jb21wbGV0ZU1vZGVsCiAgICAgICkudGhlbigoKSA9PiB7CiAgICAgICAgT2JqZWN0LmtleXModGhpcy5jb21wbGV0ZU1vZGVsKS5mb3JFYWNoKGtleSA9PiB7CiAgICAgICAgICB0aGlzLmNvbXBsZXRlTW9kZWxba2V5XSA9IG51bGw7CiAgICAgICAgfSk7CiAgICAgIH0pCgogICAgfSwKICAgIHJlc2VuZE90cCgpIHsKICAgICAgdGhpcy5yZXNlbmRPdHBNb2RlbC5jdXN0b21lckVtYWlsID0gdGhpcy5pbml0aWF0ZU1vZGVsLmN1c3RvbWVyRW1haWw7CiAgICAgIFN0b3JlVXRpbHMuZGlzcGF0Y2goCiAgICAgICAgU3RvcmVVdGlscy5hY3Rpb25zLmF1dGgucmVzZW5kT3RwLAogICAgICAgIHRoaXMucmVzZW5kT3RwTW9kZWwKICAgICAgKTsKICAgICAgdGhpcy5zdGFydFRpbWVyKCkKICAgICAgdGhpcy50aW1lckNvdW50ID0gMzAKCiAgICB9LAogICAgc3RhcnRUaW1lcihkdXJhdGlvbikgewogICAgICBsZXQgdGltZXIgPSBkdXJhdGlvbiwKICAgICAgICBtaW51dGVzLAogICAgICAgIHNlY29uZHM7CiAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBtaW51dGVzID0gcGFyc2VJbnQoKHRpbWVyIC8gNjApLnRvU3RyaW5nKCksIDEwKTsKICAgICAgICBzZWNvbmRzID0gcGFyc2VJbnQoKHRpbWVyICUgNjApLnRvU3RyaW5nKCksIDEwKTsKICAgICAgICBtaW51dGVzID0gbWludXRlcyA8IDEwID8gIjAiICsgbWludXRlcyA6IG1pbnV0ZXM7CiAgICAgICAgc2Vjb25kcyA9IHNlY29uZHMgPCAxMCA/ICIwIiArIHNlY29uZHMgOiBzZWNvbmRzOwogICAgICAgIHRoaXMudGltZXIgPSBtaW51dGVzICsgIjoiICsgc2Vjb25kczsKICAgICAgICBpZiAoLS10aW1lciA8IDApIHsKICAgICAgICAgIHRpbWVyID0gZHVyYXRpb247CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgdGltZXJDb3VudDogewogICAgICBoYW5kbGVyKHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlID4gMCkgewogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMudGltZXJDb3VudC0tOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBTdG9yZVV0aWxzLmNvbW1pdCgKICAgICAgU3RvcmVVdGlscy5tdXRhdGlvbnMuYXV0aC51cGRhdGVQYXNzd29yZFJlc2V0U2NyZWVuLAogICAgICAiZW1haWwiCiAgICApOwogIH0sCn07Cg=="},{"version":3,"sources":["ForgotPasswordForm.vue"],"names":[],"mappings":";AA4EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ForgotPasswordForm.vue","sourceRoot":"src/components/form","sourcesContent":["<!--suppress ALL -->\n<template>\n  <div>\n\n    <div class=\"check-for-email\" v-if=\"passwordResetScreen === 'email'\">\n      <form  class=\"form-login\" role=\"form\"\n      @submit.prevent=\"initiatePassword\" style=\"margin-top:0px\">\n      <div class=\"text-center\">\n        <!--        <a href=\"#\">-->\n<!--          <img src=\"@/assets/img.png\" alt=\"\" class=\"mg-fluid p\" width=\"180px\" /></a>-->\n      </div>\n        <div class=\"text-center\">\n          <img src=\"../../assets/ProRev_logo.png\" class=\"mg-fluid p\" width=\"100px\"/>\n        </div>\n      <div class=\"\">\n        <h4 class=\"forgot-password-h4\">Password Reset</h4>\n          <div class=\"form-floating mb-3\">\n            <input type=\"email\" class=\"form-control\" name=\"email\" placeholder=\"businessEmail@gmail.com\"\n              v-model=\"initiateModel.customerEmail\" required />\n            <label>Email address</label>\n          </div>\n          <div class=\"login-footer\">\n            <button id=\"submitBtn\" class=\"btn-login\" native-type=\"submit\" :disabled=\"loading\" :style=\"{background:primaryColor}\">\n              {{ loading ? \"Checking\" : 'Check' }} <span :class=\"{ 'spinner-border': loading }\"></span>\n            </button>\n          </div>\n          <div class=\"m-3 text-center\">\n            <h5 class=\"text-dark\" style=\"cursor:pointer;text-decoration: underline\" @click=\"login()\">Remembered your password?</h5>\n          </div>\n      </div>\n    </form>\n    </div>\n    <form v-if=\"passwordResetScreen === 'otp'\" class=\"container form-group form-login\" role=\"form\"\n      @submit.prevent=\"completePassword\">\n      <div class=\"text-center\">\n        <a href=\"#\">\n          <img src=\"@/assets/img.png\" alt=\"\" class=\"mg-fluid p\" width=\"180px\" /></a>\n      </div>\n      <div class=\"p-3\">\n        <h4 class=\"forgot-password-h4\">Almost Done!</h4>\n        <div class=\"form-floating mb-3\">\n          <input type=\"tel\" class=\"form-control\" maxlength=\"6\"\n            style=\"font-size:30px; padding-left:10px;letter-spacing:7px;\" name=\"email\"\n            placeholder=\"Enter Your OTP Number\" v-model=\"completeModel.customerOtp\" required />\n          <label>Enter Your OTP Number</label>\n          <span v-if=\"timerCount > 0\" class=\"m-2\"> {{ timerCount }} secs left </span>\n          <h5 style=\"cursor: pointer\" @click=\"resendOtp()\" v-if=\"timerCount === 0\" class=\"m-2\" id=\"otp\"><i\n              class=\"fas fa-redo\"></i> Resend OTP </h5>\n        </div>\n        <div class=\"form-floating mb-3\">\n          <input type=\"password\" class=\"form-control\" name=\"password\" placeholder=\"XXXXX\"\n            v-model=\"completeModel.customerPassword\" id=\"pwd\" required />\n          <label>Password</label>\n          <i class=\"fas fa-eye\" style=\" position: absolute; right: 30px; top: 25px; cursor: pointer;\" id=\"eye\"\n            @click=\"hide$show()\"></i>\n        </div>\n        <div class=\"form-floating mb-3\">\n          <input type=\"password\" class=\"form-control\" name=\"password\" placeholder=\"XXXXX\"\n            v-model=\"completeModel.customerPasswordConfirmation\" id=\"pwd2\" required />\n          <label>Confirm Password</label>\n          <i class=\"fas fa-eye\" style=\" position: absolute; right: 30px; top: 25px; cursor: pointer;\" id=\"eye2\"\n            @click=\"hide$show()\"></i>\n        </div>\n\n        <div class=\"login-footer\">\n          <button id=\"submitBtn\" class=\"btn-login\" native-type=\"submit\" :disabled=\"loading\" :style=\"{background:primaryColor}\">\n            {{ loading ? \"Reseting\" : 'Reset' }} <span :class=\"{ 'spinner-border': loading }\"></span>\n          </button>\n        </div>\n      </div>\n    </form>\n\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n// import VueFakeInput from \"vue-fake-input\";\nimport AuthenticationRequest from \"../../model/request/AuthRequest\";\nimport StoreUtils from \"../../util/baseUtils/StoreUtils\";\n\nexport default {\n  name: \"ForgotPasswordForm\",\n  components: {\n    // VueFakeInput,\n  },\n  data() {\n    return {\n      initiateModel: AuthenticationRequest.initiatePasswordReset,\n      completeModel: AuthenticationRequest.completePasswordReset,\n      resendOtpModel: AuthenticationRequest.resendOtp,\n      timerCount: 0,\n      primaryColor:window.__env.app.primaryColor\n    };\n  },\n  computed: {\n    ...mapState({\n      token: (state) => state.auth.token,\n      loading: (state) => state.auth.loading,\n      userInfo: (state) => state.auth.userInfo,\n      screen: (state) => stateauth.auth.screen,\n      passwordResetScreen: (state) => state.auth.passwordResetScreen,\n      stage: (state) => state.stage,\n    }),\n  },\n  methods: {\n    hide$show() {\n      let b = document.getElementById(\"pwd\");\n      let eye = document.getElementById(\"eye\");\n      let b2 = document.getElementById(\"pwd2\");\n      let eye2 = document.getElementById(\"eye2\");\n      if (b.type === \"password\") {\n        b.type = \"text\";\n        eye.classList.remove(\"fa-eye\");\n        eye.classList.add(\"fa-eye-slash\");\n      } else {\n        b.type = \"password\";\n        eye.classList.add(\"fa-eye\");\n        eye.classList.remove(\"fa-eye-slash\");\n      }\n      if (b2.type === \"password\") {\n        b2.type = \"text\";\n        eye2.classList.remove(\"fa-eye\");\n        eye2.classList.add(\"fa-eye-slash\");\n      } else {\n        b2.type = \"password\";\n        eye2.classList.add(\"fa-eye\");\n        eye2.classList.remove(\"fa-eye-slash\");\n      }\n    },\n    login() {\n      this.$router.push({ name: \"Logon\" });\n    },\n    initiatePassword() {\n      StoreUtils.dispatch(\n        StoreUtils.actions.auth.initiatePasswordReset,\n        this.initiateModel\n      )\n\n    },\n    completePassword() {\n      this.completeModel.customerEmail = this.initiateModel.customerEmail;\n      StoreUtils.dispatch(\n        StoreUtils.actions.auth.completePasswordReset,\n        this.completeModel\n      ).then(() => {\n        Object.keys(this.completeModel).forEach(key => {\n          this.completeModel[key] = null;\n        });\n      })\n\n    },\n    resendOtp() {\n      this.resendOtpModel.customerEmail = this.initiateModel.customerEmail;\n      StoreUtils.dispatch(\n        StoreUtils.actions.auth.resendOtp,\n        this.resendOtpModel\n      );\n      this.startTimer()\n      this.timerCount = 30\n\n    },\n    startTimer(duration) {\n      let timer = duration,\n        minutes,\n        seconds;\n      setInterval(function () {\n        minutes = parseInt((timer / 60).toString(), 10);\n        seconds = parseInt((timer % 60).toString(), 10);\n        minutes = minutes < 10 ? \"0\" + minutes : minutes;\n        seconds = seconds < 10 ? \"0\" + seconds : seconds;\n        this.timer = minutes + \":\" + seconds;\n        if (--timer < 0) {\n          timer = duration;\n        }\n      }, 1000);\n    },\n  },\n  watch: {\n    timerCount: {\n      handler(value) {\n        if (value > 0) {\n          setTimeout(() => {\n            this.timerCount--;\n          }, 1000);\n        }\n      },\n    },\n  },\n  mounted() {\n    StoreUtils.commit(\n      StoreUtils.mutations.auth.updatePasswordResetScreen,\n      \"email\"\n    );\n  },\n};\n</script>\n\n<style lang=\"css\" scoped>\n.forgot-password {\n  color: black;\n  cursor: pointer;\n}\n\n.login-footer {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.btn-login {\n  width: 100%;\n  background-color: var(--primary);\n  border-radius: 5px;\n  border: none;\n  color: white;\n}\n\n::placeholder {\n  font-size: 10px;\n  letter-spacing: 1px;\n  padding-left: 0;\n}\n\n.join-now-text {\n  cursor: pointer;\n  color: var(--primary);\n\n}\n\n.forgot-password-h4{\n  font-weight: 500;\n  font-size: 18px;\n  text-align: center;\n  margin:2%;\n}\n\n.spinner-border {\n  display: inline-block;\n  width: 1rem;\n  height: 1rem;\n  vertical-align: text-bottom;\n  border: 0.25em solid currentColor;\n  border-right-color: transparent;\n  border-radius: 50%;\n  -webkit-animation: spinner-border 0.75s linear infinite;\n  animation: spinner-border 0.75s linear infinite;\n}\n\n@keyframes spinner-border {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.btn-login:hover {\n  box-shadow: 0 1px 2px hsl(0deg 0% 0% / 30%);\n}\n\n.login {\n  width: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  /*background-color: rgba(2, 32, 61, 0.99);*/\n\n  /* background-color: whitesmoke; */\n}\n\n\n\n.form-login {\n  width: 450px;\n  border-radius: 10px;\n  padding-top: 10px;\n  font-size: 14px;\n  line-height: 1.42857143;\n  padding-bottom: 20px;\n  /* background: white;\n  box-shadow: 0 1px 2px hsl(0deg 0% 0% / 30%); */\n}\n\n@media (max-width: 400px) {\n  .form-login{\n    width: 100%;\n  }\n\n  .check-for-email{\n    width: 100%;\n    display: flex;\n    height: 100vh;\n    align-items:center;\n    padding: 2%;\n  }\n\n}\n</style>"]}]}