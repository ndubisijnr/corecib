{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/UpdateBusinessProfile.vue?vue&type=style&index=0&id=0d5b19c0&scoped=true&lang=css&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/UpdateBusinessProfile.vue","mtime":1683674085667},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/css-loader/dist/cjs.js","mtime":1670880042824},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1670880044043},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/postcss-loader/src/index.js","mtime":1670880043297},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5mb3JtLWdyb3VwewogIHdpZHRoOiA5MCU7Cn0KCi5idXNpbmVzcy1wcm9maWxlewogIHdpZHRoOiAxMDAlOwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgbWFyZ2luOjEwcHg7CiAgb3ZlcmZsb3cteDogc2Nyb2xsOwp9CgpAbWVkaWEgKG1heC13aWR0aDo5OTlweCkgewogIC5mb3JtLWdyb3VwIHsKICAgIHdpZHRoOiAxMDAlOwogIH0KfQo="},{"version":3,"sources":["UpdateBusinessProfile.vue"],"names":[],"mappings":";AA8ZA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"UpdateBusinessProfile.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"business-profile\">\n    <form class=\"form-group\" @submit.prevent=\"ReupdateOrginasation()\">\n      <div>\n        <div class=\"row\">\n          <div class=\"col mb-3\">\n            <label for=\"floatingInput2\">Business Name</label>\n            <input type=\"text\" class=\"form-control\" id=\"organisationName\"  :value=\"organisationRes.organisationName\" :readonly=\"organisationRes.organisationName\" />\n          </div>\n          <div class=\"col mb-3\">\n            <label for=\"floatingInput\">Company Email</label>\n            <input type=\"email\" class=\"form-control\" id=\"organisationEmail\"  :value=\"organisationRes.organisationEmail\" :readonly=\"organisationRes.organisationEmail\" />\n          </div>\n          <div class=\"col mb-3\">\n            <label for=\"floatingInput1\">Company Phone</label>\n            <input type=\"tel\" class=\"form-control\" id=\"organisationPhone\" :value=\"organisationRes.organisationPhone\" :readonly=\"organisationRes.organisationPhone\" />\n          </div>\n        </div>\n      </div>\n        <section class=\"section-1\">\n          <div class=\"row\">\n            <div class=\"col mb-3\">\n              <label for=\"floatingInput1\">City</label>\n              <input type=\"text\" class=\"form-control\"  placeholder=\"Ikeja\" v-model=\"organisationRes.organisationCity\" required />\n            </div>\n            <div class=\"col mb-3\">\n              <label for=\"floatingInput2\">Address</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"1004 Federal Housing Estate, Victoral Island\"  id=\"organisationAddress\" v-model=\"organisationRes.organisationAddress\" required />\n            </div>\n            <div class=\"col mb-3\">\n              <label for=\"floatingInput1\">State</label>\n              <input type=\"text\" class=\"form-control\"  placeholder=\"Lagos\" v-model=\"organisationRes.organisationState\" id=\"organisationState\" required />\n            </div>\n          </div>\n        </section>\n      <!---------------------------------------------  Second layer ------------------------------------------------------>\n      <section class=\"section-2\">\n        <div class=\"row\">\n          <div class=\"col mb-3\">\n            <label for=\"floatingInput3\">Organization Type</label>\n            <select class=\"form-select form-control\" aria-label=\"Default select example\" v-model=\"organisationRes.organisationType\">\n              <option data-v-00a70ddc=\"\" value=\"Agric produce\">\n                Agric produce\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Betting/Lottery\">\n                Betting / Lottery\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Book Stores\">\n                Book Stores\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Bus Lines\">\n                Bus Lines\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Cable/Satellite/Pay Television\">\n                Cable / Satellite / Pay Television\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Clothing and Accessories\">\n                Clothing and Accessories\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Commercial footware\">\n                Commercial footware\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Credit Lending Companies\">\n                Credit Lending Companies\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Cryptocurrency\">\n                Cryptocurrency\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Department Stores\">\n                Department Stores\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Digital Goods/Entertainment\">\n                Digital Goods / Entertainment\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Education\">\n                Education\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Electronics Stores\">\n                Electronics Stores\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Financial Institutions/Fund Manager/Investment\">\n                Financial Institutions / Fund Manager /\n                Investment\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"General Contractors\">\n                General Contractors\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"General Merchandise Stores\">\n                General Merchandise Stores\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Grocery Stores and Supermarkets\">\n                Grocery Stores and Supermarkets\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Hospitality/Lodging\">\n                Hospitality / Lodging\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Insurance\">\n                Insurance\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Money Transfer\">\n                Money Transfer\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Non-Financial Institution\">\n                Non-Financial Institution\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Professional Services\">\n                Professional Services\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Real Estate/Facility Management\">\n                Real Estate / Facility Management\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Religious Organizations\">\n                Religious Organizations\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Security Broker/Dealer_Custom\">\n                Security Broker / Dealer_Custom\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Security Brokers/Dealers\">\n                Security Brokers / Dealers\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Tax/Accounting/Audit\">\n                Tax / Accounting / Audit\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Taxicabs\">\n                Taxicabs\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Telecommunication\">\n                Telecommunication\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Ticketing/Events\">\n                Ticketing / Events\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Transportation Services\">\n                Transportation Services\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Travel/Airlines\">\n                Travel / Airlines\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Travel Agencies/Tour\">\n                Travel Agencies / Tour\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Utilities/Electric/Gas\">\n                Utilities / Electric / Gas\n              </option>\n              <option data-v-00a70ddc=\"\" value=\"Video Game Arcades/Establishments\">\n                Video Game Arcades / Establishments\n              </option>\n            </select>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col mb-3\">\n            <label for=\"floatingInput1\">Organisation Website</label>\n            <input type=\"text\" class=\"form-control\"  placeholder=\" Website\" v-model=\"organisationRes.organisationWebsite\"  id=\"organisationWebsite\"/>\n          </div>\n          <div class=\"col mb-3\">\n            <label for=\"floatingInput1\">RC / BN Number</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Organisation RC / BN Number\" id=\"organisationRegistrationNo\" v-model=\"organisationRes.organisationRegistrationNo\"  />\n          </div>\n        </div>\n      </section>\n\n      <section class=\"section-3\">\n        <div>\n          <div class=\"text-center mt-3 mb-3\">\n            <h2 class=\"mt-2\"><span>Director 1</span></h2>\n          </div>\n          <div class=\"row\">\n            <div class=\"col mb-3\">\n              <label for=\"floatingInput2\">Full Name <span style=\"color: red\">*</span></label>\n              <input type=\"text\" class=\"form-control\" id=\"organisationDirectorName\" placeholder=\"Directors Full name\"  required v-model=\"organisationRes.organisationDirectorName\"  />\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col mb-3\">\n              <label for=\"floatingInput2\">Dob <span style=\"color: red\">*</span></label>\n              <input type=\"date\" class=\"form-control\" id=\"organisationDirectorDob\"  required v-model=\"organisationRes.organisationDirectorDob\"/>\n            </div>\n            <div class=\"col mb-3\">\n              <label for=\"floatingInput\">BVN <span style=\"color: red\">*</span></label>\n              <input type=\"number\" class=\"form-control\" id=\"organisationDirectorBvn\" placeholder=\"Bank Verification Number\"  required v-model=\"organisationRes.organisationDirectorBvn\"/>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col mb-3\">\n              <label for=\"floatingInput2\"> ID Card Type<span style=\"color: red\">*</span></label>\n              <select @change=\"showModalDirector1 = !showModalDirector1\" class=\"form-select form-control\" aria-label=\"Default select example\" required id=\"organisationDirectorIdCardType\" v-model=\"organisationRes.organisationDirectorIdCardType\">\n                <option value=\"national_id_card\">National ID Card</option>\n                <option value=\"international_passport\">International Passport</option>\n                <option value=\"permanent_voters_card\">Permanent Voters Card(PVC)</option>\n                <option value=\"drivers_licence\">Drivers Licence</option>\n              </select>\n            </div>\n            <div class=\"col mb-3\" style=\"padding-top:30px \">\n              <div v-if=\"!organisationRes.organisationDirectorIdCard\">\n                <label for=\"floatingInput\">{{ !uploadState1 ? 'Upload ID Card' : organisationRes.organisationDirectorIdCardType + ' Uploaded' }}<span style=\"color: red\">*</span></label><br/>\n                <b-button :style=\"{backgroundColor:primaryColor,color:'#FFF'}\" @click=\"showModalDirector1 = !showModalDirector1\" disabled>{{!uploadState1 ? 'Upload file' : 'File Uploaded' }}</b-button>\n              </div>\n              <a v-else :href=\"organisationRes.organisationDirectorIdCard\" target=\"_blank\"><b-button>View Uploaded ID</b-button></a>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section class=\"section-4\">\n        <div>\n          <div class=\"text-center mt-3 mb-3\">\n            <h2 class=\"mt-2\"><span>Director 2</span></h2>\n          </div>\n          <div class=\"row\">\n            <div class=\"col mb-3\">\n              <label for=\"floatingInput2\">Full Name </label>\n              <input type=\"text\" class=\"form-control\"  placeholder=\"Director's Full name\" v-model=\"organisationRes.organisationDirectorName2\" />\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col mb-3\">\n              <label for=\"floatingInput2\">Dob</label>\n              <input type=\"date\" class=\"form-control\" id=\"organisationDirectorDob2\"  v-model=\"organisationRes.organisationDirectorDob2\" />\n            </div>\n            <div class=\"col mb-3\">\n              <label for=\"floatingInput\">BVN </label>\n              <input type=\"number\" class=\"form-control\" id=\"organisationDirectorBvn2\"   placeholder=\"Bank Verification Number\" v-model=\"organisationRes.organisationDirectorBvn2\" />\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col mb-3\">\n              <label for=\"floatingInput2\"> ID Card Type</label>\n              <select @change=\"showModalDirector2 = !showModalDirector2\" class=\"form-select form-control\" aria-label=\"Default select example\"  id=\"organisationDirectorIdCardType2\" v-model=\"organisationRes.organisationDirectorIdCardType2\">\n                <option value=\"national_id_card\">National ID Card</option>\n                <option value=\"international_passport\">International Passport</option>\n                <option value=\"permanent_voters_card\">Permanent Voters Card(PVC)</option>\n                <option value=\"drivers_licence\">Drivers Licence</option>\n              </select>\n            </div>\n            <div class=\"col mb-3\" style=\"padding-top:30px \">\n              <div v-if=\"!organisationRes.organisationDirectorIdCardType2\">\n                <label for=\"floatingInput\">{{!uploadState2 ? 'Upload ID Card' : organisationRes.organisationDirectorIdCardType2 + ' Uploaded' }} <span style=\"color: red\">*</span></label><br/>\n                <b-button :style=\"{backgroundColor:primaryColor,color:'#FFF'}\" @click=\"showModalDirector2 = !showModalDirector2\" disabled>{{!uploadState2 ? 'Upload file' : 'File Uploaded' }}</b-button>\n              </div>\n              <a v-else :href=\"organisationRes.organisationDirectorIdCard2\" target=\"_blank\"><b-button>View Uploaded ID</b-button></a>\n            </div>\n          </div>\n        </div>\n      </section>\n\n        <div class=\"mt-3\">\n          <button type=\"submit\" :loading=\"loadingOtp\" :style=\"{backgroundColor:primaryColor, color:'#FFF', width:'100%',height:'40px'}\">Update</button>\n        </div>\n    </form>\n    <upload-image-modal\n        :show=\"showModalDirector1\"\n        :is-loading=\"loadingDoc\"\n        upload-type=\"document/uploadDocument\"\n        :upload-data=\"this.files\"\n        :file-name=\"organisationRes.organisationDirectorIdCardType\"\n        :director-type=\"1\"\n    >\n    </upload-image-modal>\n    <upload-image-modal\n        :show=\"showModalDirector2\"\n        :is-loading=\"loadingDoc\"\n        upload-type=\"document/uploadDocument\"\n        :upload-data=\"this.files\"\n        :file-name=\"organisationRes.organisationDirectorIdCardType2\"\n        :director-type=\"2\"\n    >\n\n    </upload-image-modal>\n  </div>\n</template>\n\n<script>\nimport StoreUtils from \"../util/baseUtils/StoreUtils\";\nimport {mapState} from \"vuex\";\nimport UploadImageModal from \"@/components/UploadImageModal\";\nimport BaseButton from \"./button/BaseButton\";\n\nexport default {\n  name: \"UpdateBusinessProfile\",\n\n  components:{\n    UploadImageModal,\n    BaseButton\n  },\n\n  data(){\n    return{\n      isEditState:false,\n      files: [],\n      showModalDirector1:false,\n      showModalDirector2:false,\n      uploadState1:false,\n      uploadState2:false,\n      primaryColor:window.__env.app.primaryColor,\n\n\n    }\n  },\n\n  methods:{\n    disableAllFieldsIfNotEmpty(){\n      let formInput =  document.querySelectorAll('section input')\n      let formSelect =  document.querySelectorAll('section select')\n\n      for(let i = 0; i < formInput.length; i++){\n        if(!formInput[i].value){\n          formInput[i].disabled = false;\n        }else{\n          formInput[i].disabled = true;\n        }\n      }\n      for(let i = 0; i < formSelect.length; i++){\n        if(!formSelect[i].value){\n          formSelect[i].disabled = false;\n        }else{\n          formSelect[i].disabled = true;\n        }\n      }\n\n    },\n\n\n    ReupdateOrginasation(){\n      this.organisationRes.organisationDirectorIdCard = this.director1\n      this.organisationRes.organisationDirectorIdCard2 = this.director2\n      this.organisationRes.organisationLogo = \"companyLogo\"\n      this.organisationRes.organisationName = this.organisationRes.organisationName\n      this.organisationRes.organisationPhone = this.organisationRes.organisationPhone\n      this.organisationRes.organisationEmail = this.organisationRes.organisationEmail\n      StoreUtils.dispatch(StoreUtils.actions.auth.updateOrganisation, this.organisationRes).then(() => {\n        const userToken = localStorage.getItem('token')\n        StoreUtils.dispatch(StoreUtils.actions.auth.revalidateUser, userToken)\n        StoreUtils.dispatch(StoreUtils.actions.auth.readOrganisationById)\n      });\n    },\n\n    isEdit(){\n      this.isEditState = !this.isEditState\n    },\n    handleImages(e, index, doc, action) {\n      const vm = this;\n      const selectedImage = e.target.files[0];\n      this.createBase64Images(selectedImage, index, doc, action);\n      // console.log(\"Submit\");\n    },\n    createBase64Images(fileObject, index, doc, action) {\n      const img_reader = new FileReader();\n      const vm = this;\n      img_reader.onload = (e) => {\n        vm.files[index] = e.target.result;\n        // console.log(this.files[index]);\n        vm.submitDocument(index, doc, action);\n        //vm.notifyVue(\"success\",\"Click on Submit\");\n      };\n      img_reader.readAsDataURL(fileObject);\n    },\n\n    file() {\n      this.edit = \"second\";\n    },\n\n    showUploadModal(_director){\n      if (_director === 1){\n        this.showModal = !this.showModal\n      }else{\n        this.showModal = !this.showModal\n      }\n\n    },\n\n    handleClick(tab, event) {\n      //console.log(tab.$vnode.key);\n      // console.log(tab.label);\n      //console.log(tab, event);\n    },\n  },\n\n  computed:{\n    ...mapState({\n      director1:state => state.document.directorIdCard1.url,\n      director2:state => state.document.directorIdCard2.url,\n      organisationRes:state => JSON.parse(JSON.stringify(state.auth.readOrganisation)),\n      loadingOtp: (state) => state.auth.loading,\n      loadingDoc: (state) => state.document.loading,\n      uploadStateDirectorIdCard1:state => state.document.upload1,\n      uploadStateDirectorIdCard2:state => state.document.upload2\n    }),\n    currentOrganisation() {\n      return StoreUtils.rootGetters(StoreUtils.getters.auth.getCurrentOrganization)\n    },\n  },\n\n  watch:{\n    uploadStateDirectorIdCard1(){\n      if(this.uploadStateDirectorIdCard1 === 'success'){\n        this.uploadState1 = true\n      }\n    },\n    uploadStateDirectorIdCard2(){\n      if(this.uploadStateDirectorIdCard2 === 'success'){\n        this.uploadState2 = true\n      }\n    }\n  },\n\n  mounted() {\n    this.disableAllFieldsIfNotEmpty()\n  }\n\n}\n</script>\n\n<style scoped>\n.form-group{\n  width: 90%;\n}\n\n.business-profile{\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin:10px;\n  overflow-x: scroll;\n}\n\n@media (max-width:999px) {\n  .form-group {\n    width: 100%;\n  }\n}\n</style>"]}]}