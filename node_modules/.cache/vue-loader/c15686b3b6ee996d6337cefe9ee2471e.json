{"remainingRequest":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/clark/Desktop/business.corestep.com/src/components/UploadImageModal.vue?vue&type=style&index=0&id=558075a3&scoped=true&lang=css&","dependencies":[{"path":"/Users/clark/Desktop/business.corestep.com/src/components/UploadImageModal.vue","mtime":1683674085667},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/css-loader/dist/cjs.js","mtime":1670880042824},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1670880044043},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/postcss-loader/src/index.js","mtime":1670880043297},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/cache-loader/dist/cjs.js","mtime":1670880017776},{"path":"/Users/clark/Desktop/business.corestep.com/node_modules/vue-loader/lib/index.js","mtime":1670880044043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5kcm9wYm94IHsKICAgIC8qb3V0bGluZTogMnB4IGRhc2hlZCBncmV5OyAhKiB0aGUgZGFzaCBib3ggKiEqLwogICAgLypvdXRsaW5lLW9mZnNldDogLTEwcHg7Ki8KICAgIGNvbG9yOiBkaW1ncmF5OwogICAgcGFkZGluZzogMTBweCAxMHB4OwogICAgbWluLWhlaWdodDogMjAwcHg7IC8qIG1pbmltdW0gaGVpZ2h0ICovCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5pbnB1dC1maWxlIHsKICAgIG9wYWNpdHk6IDA7IC8qIGludmlzaWJsZSBidXQgaXQncyB0aGVyZSEgKi8KICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgY3Vyc29yOiBwb2ludGVyOwp9CgouZHJvcGJveDpob3ZlciB7CiAgICBiYWNrZ3JvdW5kOiBsaWdodGJsdWU7IC8qIHdoZW4gbW91c2Ugb3ZlciB0byB0aGUgZHJvcCB6b25lLCBjaGFuZ2UgY29sb3IgKi8KfQoKLmRyb3Bib3ggcCB7CiAgICBmb250LXNpemU6IDEuMmVtOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcGFkZGluZzogNTBweCAwOwp9Ci5zcGlubmVyLWJvcmRlciB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHdpZHRoOiAxcmVtOwogIGhlaWdodDogMXJlbTsKICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207CiAgYm9yZGVyOiAwLjI1ZW0gc29saWQgY3VycmVudENvbG9yOwogIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgYm9yZGVyLXJhZGl1czogNTAlOwogIC13ZWJraXQtYW5pbWF0aW9uOiBzcGlubmVyLWJvcmRlciAwLjc1cyBsaW5lYXIgaW5maW5pdGU7CiAgYW5pbWF0aW9uOiBzcGlubmVyLWJvcmRlciAwLjc1cyBsaW5lYXIgaW5maW5pdGU7Cn0KCgpAa2V5ZnJhbWVzIHNwaW5uZXItYm9yZGVyIHsKICB0byB7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwogIH0KfQoK"},{"version":3,"sources":["UploadImageModal.vue"],"names":[],"mappings":";AA8LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA","file":"UploadImageModal.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <b-modal id=\"image-upload-modal\" :hide-backdrop=\"true\" :hide-header=\"true\" :hide-footer=\"true\" :centered=\"true\" ref=\"image-upload-modal\">\n        <div class=\"modal-body\">\n            <a href=\"#\" role=\"button\" class=\"close pos-absolute t-15 r-15\" data-dismiss=\"modal\" aria-label=\"Close\"\n               @click=\"hide()\">\n                <span aria-hidden=\"true\">&times;</span>\n            </a>\n            <div>\n                <h4>Upload Your ID</h4>\n<!--                <p class=\"tx-color-03\">Upload file for processing</p>-->\n                <b-form @submit.prevent=\"\" enctype=\"multipart/form-data\">\n                    <b-form-group>\n                        <div class=\"dropbox\" :style=\"{backgroundColor:primaryColor, color:'white'}\">\n                            <input multiple type=\"file\" class=\"input-file\" id=\"files\" accept=\"image/*\" :name=\"file.uploadFieldName\"\n                                   :disabled=\"isLoading\"\n                                   @change=\"uploadFile\" ref=\"file\">\n                            <p v-if=\"!isLoading\">\n                                Drag your file(s) here to begin<br> or click to browse\n                            </p>\n                          <div v-if=\"isLoading\" style=\"height:30vh;display: flex;align-items: center;justify-content: center;flex-direction: column\">\n                            <span>Uploading files...</span>\n                            <span class=\"spinner-border spinner-border-sm\"></span>\n                          </div>\n\n                        </div>\n                    </b-form-group>\n                </b-form>\n            </div>\n        </div><!-- modal-body -->\n    </b-modal>\n</template>\n\n<script>\n    import {mapState} from 'vuex'\n    import StoreUtils from \"@/util/baseUtils/StoreUtils\";\n\n\n    export default {\n        name: 'Loan',\n        props:['uploadType','readType','isLoading','uploadData','readData','fileName','directorType','show'],\n        data() {\n            return {\n                primaryColor:window.__env.app.primaryColor,\n                model:{\n                    base64: '',\n                    username: '',\n                    region: 'us-east-1',\n                    source: \"quickgem\",\n                    s3bucket: 'quikgem-repo'\n                },\n                file: {\n                    accountnumber: '',\n                    file: '',\n                    amount: '',\n                    status: false,\n                    bank: {},\n                    narration: '',\n                    uploadedFiles: [],\n                    uploadError: null,\n                    currentStatus: null,\n                    uploadFieldName: 'photos',\n                },\n            }\n        },\n        components: {},\n        computed: {\n            grades(){\n                return  this.grade.grades\n            },\n            authobj: function () {\n                return this.$store.state.auth.response\n            },\n            ...mapState([\n                'grade',\n                'auth'\n            ]),\n          ...mapState({\n\n          })\n        },\n        methods: {\n           uploadFile(event) {\n               this.handleUpload(event)\n            },\n\n            async handleUpload(event) {\n                const file = event.target.files[0];\n                const reader = new FileReader();\n                try {\n                    reader.onload = async e => {\n                        this.model.base64 = e.target.result\n                        this.model.directorType = this.directorType\n                        this.model.username = this.fileName+\"-\"+StoreUtils.rootGetters(StoreUtils.getters.auth.getCurrentOrganization).organisationName.replace(\" \",\"-\").toLowerCase()\n                        await this.$store.dispatch(this.uploadType, this.model);\n                        this.hide();\n                        this.loadData();\n                    };\n                  reader.readAsDataURL(file);\n                    this.$emit('input', file);\n                } catch (e) {\n                    console.warn(e.message)\n                }\n            },\n\n            loadData(){\n                this.$store.dispatch(this.readType, this.readData, {root: false}).then()\n            },\n            hide() {\n                this.$refs['image-upload-modal'].hide()\n            },\n            onSelect({name, iso2, dialCode}) {\n                this.model.employeeCountryCode =  dialCode\n            },\n            numberWithCommas(x) {\n                let parts = x.toString().split(\".\");\n                if (parts[1] == null)  parts[1] = '00'\n                else if (parts[1].length === 0) parts[1] = parts[1]+'00'\n                else if (parts[1].length === 1) parts[1] = parts[1]+'0'\n                parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n                return parts.join(\".\");\n            },\n        },\n\n        watch: {\n            show: function () {\n                let self = this;\n                // eslint-disable-next-line no-unused-vars\n                Object.keys(this.uploadData).forEach(function(key,index) {\n                    self.model[key] = self.uploadData[key];\n                });\n                this.$refs['image-upload-modal'].show()\n            }\n        },\n      mounted() {\n          //console.clear()\n      }\n    }\n\n\n</script>\n\n<style scoped>\n    .dropbox {\n        /*outline: 2px dashed grey; !* the dash box *!*/\n        /*outline-offset: -10px;*/\n        color: dimgray;\n        padding: 10px 10px;\n        min-height: 200px; /* minimum height */\n        position: relative;\n        cursor: pointer;\n    }\n\n    .input-file {\n        opacity: 0; /* invisible but it's there! */\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        cursor: pointer;\n    }\n\n    .dropbox:hover {\n        background: lightblue; /* when mouse over to the drop zone, change color */\n    }\n\n    .dropbox p {\n        font-size: 1.2em;\n        text-align: center;\n        padding: 50px 0;\n    }\n    .spinner-border {\n      display: inline-block;\n      width: 1rem;\n      height: 1rem;\n      vertical-align: text-bottom;\n      border: 0.25em solid currentColor;\n      border-right-color: transparent;\n      border-radius: 50%;\n      -webkit-animation: spinner-border 0.75s linear infinite;\n      animation: spinner-border 0.75s linear infinite;\n    }\n\n\n    @keyframes spinner-border {\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n</style>\n"]}]}